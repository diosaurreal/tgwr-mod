add_namespace = ww1_hungary
add_namespace = ww1_hungary_auh
add_namespace = ww1_hun_revolution

## 1910 hungarian elections
country_event = {
	id = ww1_hungary_auh.1
	title = ww1_auh.58.t
	desc = ww1_auh.58.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		set_country_flag = HUN_1910_elections_done
	}
	##the national work party is elected
	option = {
		name = ww1_auh.58.a
		set_country_flag = HUN_1910_elections_NMP
		set_country_flag = HUN_national_work_party_yes	
		set_global_flag = HUN_national_work_party_elected
		complete_national_focus = HUN_national_work_party
		remove_ideas = HUN_minority_government
		if = {
			limit = {
				is_subject = yes
			}
			OVERLORD = {
				set_country_flag = HUN_1910_elections_NMP
				country_event = {
					id = ww1_auh.58
				}
			}
		}	
	}
	##Party of Independence and '48 is elected
	option = {
		name = ww1_auh.58.b
		set_country_flag = HUN_1910_elections_F48P
		complete_national_focus = HUN_mend_the_rapture
		if = {
			limit = {
				is_subject = yes
			}
			OVERLORD = {
				set_country_flag = HUN_1910_elections_F48P
				country_event = {
					id = ww1_auh.58
				}
			}
		}	
	}
}

## 
country_event = {
	id = ww1_hungary_auh.2
	title =  ww1_auh.59.t
	desc = ww1_auh.59.t
	picture = GFX_report_event_generic_read_write
	is_triggered_only = yes
	# ##karoly khuen hedervary
	# option = {
	# 	name = ww1_auh.59.a
	# 	trigger = {
	# 		has_country_flag = HUN_1910_elections_NMP
	# 		has_character = HUN_karoly_khuen_hedervary
	# 	}
	# 	promote_character = HUN_karoly_khuen_hedervary
	# 	ai_chance = {
	# 		factor = 10
	# 	}
	# }
	##laszlo luckacs
	option = {
		name = ww1_auh.59.a
		trigger = {
			has_country_flag = HUN_1910_elections_NMP
		}
		promote_character = HUN_laszlo_luckacs
		ai_chance = {
			factor = 10
		}
	}
	## Ferenc Kossuth
	option = {
		name = ww1_auh.59.c
		trigger = {
			has_country_flag = HUN_1910_elections_F48P
		}
		remove_ideas = HUN_minority_government
		deactivate_advisor = HUN_istvan_tisza
		set_party_name = {
			ideology = democratic
			long_name = HUN_democratic_F48P_party_long
			name = HUN_democratic_F48P_party
		}
		hidden_effect = {
			promote_character = HUN_albert_apponyi
		}
		promote_character = HUN_ferenc_kossuth
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = HUN_gyula_justh
		ai_chance = {
			factor = 10
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
	## Gyula Justh
	option = {
		name = ww1_auh.59.e
		trigger = {
			has_country_flag = HUN_1910_elections_F48P
		}
		remove_ideas = HUN_minority_government
		deactivate_advisor = HUN_istvan_tisza
		set_party_name = {
			ideology = democratic
			long_name = HUN_democratic_F48P_party_long
			name = HUN_democratic_F48P_party
		}
		hidden_effect = {
			promote_character = HUN_mihaly_karolyi
		}
		promote_character = HUN_gyula_justh
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = HUN_ferenc_kossuth
		ai_chance = {
			factor = 10
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}

## Ferenc Kossuth Dies
country_event = {
	id = ww1_hungary_auh.3
	title = ww1_hungary_auh.3.t
	desc = ww1_hungary_auh.3.d
	picture = GFX_report_event_generic_funeral
	trigger = {
		original_tag = HUN
		has_character = HUN_ferenc_kossuth
		date > 1914.5.1
	}
	mean_time_to_happen = {
		days = 25
	}
	fire_only_once = yes

	option = {
		name = ww1_hungary_auh.3.a
		retire_character = HUN_ferenc_kossuth
	}
}

## Gyula Justh Dies
country_event = {
	id = ww1_hungary_auh.4
	title = ww1_hungary_auh.4.t
	desc = ww1_hungary_auh.4.d
	picture = GFX_report_event_generic_funeral
	trigger = {
		original_tag = HUN
		has_character = HUN_gyula_justh
		date > 1917.10.1
	}
	mean_time_to_happen = {
		days = 9
	}
	fire_only_once = yes

	option = {
		name = ww1_hungary_auh.4.a
		retire_character = HUN_gyula_justh
	}
}


# REVOLUTION IN HUNGARY
##########################
country_event = {
	id = ww1_hungary.1
	title = ww1_hungary.1.t
	desc = ww1_hungary.1.d
	picture = GFX_report_event_hungary_gains_transylvania
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					SER = {
						has_country_flag = great_war_winner
					}
				}
				1139 = {
					transfer_state_to = SER
					add_contested_owner = HUN
				}
			}
		}
	}
	option = {
		name = ww1_hungary.1.a
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}	
		promote_character = HUN_bela_kun
		set_global_flag = has_had_communist_revolution_HUN
		add_ideas = standing_alone	
		hidden_effect = {
			# Claim on Greater Hungary
			remove_ideas = idea_army_restrictions
			every_state = {
				limit = {
					NOT = {
						is_owned_by = ROOT
						is_core_of = ROOT
					}
					OR = {
						state = 45
						state = 70
						state = 71
						state = 73
						state = 76
						state = 82
						state = 83
						state = 84
						state = 109
						state = 147
						state = 208
						state = 664
						state = 764
						state = 778
						state = 866
						state = 868
						state = 875
						state = 994
						state = 1020
						state = 1043
						state = 1044
					}
				}
				add_claim_by = ROOT
			}
			set_party_name = {
				ideology = communism
				long_name = HUN_communist_party_long
				name = HUN_communist_party
			}
			set_popularities = {
				democratic = 15
				neutrality = 6
				fascism = 6
				communism = 73
			}
			set_cosmetic_tag = HUN_socialism
			set_global_flag = hungarian_revolution
			news_event = {
				id = ww1_hungary.7
				hours = 3
			}
		}
		division_template = {
			name = "Milícia"
			regiments = {
				militia = {
					x = 0
					y = 0
				}
				militia = {
					x = 0
					y = 1
				}
				militia = {
					x = 0
					y = 2
				}
				militia = {
					x = 0
					y = 3
				}
			}
		}
		43 = {
			create_unit = {
				division = "name = \"Nemzetközi Brigád\" division_template = \"Milícia\" start_experience_factor = 0.3"
				owner = ROOT
			}
			create_unit = {
				division = "name = \"I Brigád\" division_template = \"Milícia\" start_experience_factor = 0.2 start_equipment_factor = 0.15"
				owner = ROOT
			}
			create_unit = {
				division = "name = \"Munkás Milícia\" division_template = \"Milícia\" start_experience_factor = 0 start_equipment_factor = 0.1"
				owner = ROOT
				count = 4
			}
		}
		ai_chance = {
			factor = 100
		}
	}
}

# REPUBLIC OF HUNGARY
#######################
country_event = {
	id = ww1_hungary.2
	title = ww1_hungary.2.t
	desc = ww1_hungary.2.d
	picture = GFX_report_event_hungary_southern_slovakia
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_hungary.2.a	
		if = {
			limit = {
				has_character = AUH_joseph_august_von_osterreich
			}
			AUH_joseph_august_von_osterreich = {
				promote_character = yes
				add_country_leader_trait = anti_communist
			}
			else = {
				AUS = {
					AUH_joseph_august_von_osterreich = {
						set_nationality = HUN
						set_character_name = HUN_joseph_august
						promote_character = semi_constitutional_monarchy
						add_country_leader_trait = anti_communist
					}
				}
			}
		}	
		set_politics = {
			ruling_party = neutrality
			long_name = HUN_regency_party
			name = HUN_regency_party
			elections_allowed = no
		}
		hidden_effect = {
			HUN_karoly_huszar = {
				add_country_leader_trait = anti_communist
			}
			retire_character = HUN_tibor_szamuely
			set_cosmetic_tag = HUN_republic
			set_country_flag = HUN_republic
			clr_country_flag = HUN_archkingdom
			set_popularities = {
				democratic = 24
				neutrality = 68
				fascism = 5
				communism = 3
			}
			country_event = {
				id = ww1_hungary.5
				days = 16
			}	
		}	
		country_event = {
			id = ww1_hungary.3
			days = 10
		}
	}
}

# TREATY OF TRIANON
#####################
country_event = {
	id = ww1_hungary.3
	title = ww1_hungary.3.t
	desc = ww1_hungary.3.d
	picture = GFX_report_event_hungary_southern_slovakia
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_hungary.3.a
		add_ideas = HUN_treaty_of_triannon
		add_ideas = idea_army_restrictions
		# Reparations
		add_timed_idea = {
			idea = GER_idea_reparations
			days = 365
		}
		# Territories
		every_country = {
			limit = {
				has_country_flag = hungarian_romanian_war_winner
			}
			every_state = {
				limit = {
					is_core_of = PREV
					is_owned_by = HUN
					NOT = {
						state = 43
						state = 154
						state = 155
						state = 1020
					}
				}
				PREV = {
					transfer_state = PREV
				}
			}
		}
		# Burgenland
		if = {
			limit = {
				owns_state = 147
			}
			4 = {
				owner = {
					transfer_state = 147
				}
			}	
		}
		# Prekmurje
		if = {
			limit = {
				owns_state = 875
			}
			1196 = {
				owner = {
					transfer_state = 875
				}
			}	
		}
		# Timisoara
		if = {
			limit = {
				OR = {
					owns_state = 82
					FRA = { owns_state = 82 }
				}
			}
			84 = {
				owner = {
					transfer_state = 82
				}
			}	
		}
		# West Banat
		every_state = {
			limit = {
				OR = {
					is_owned_by = PREV
					is_owned_by = BNT
				}
				OR = {
					state = 45
					state = 764
				}
			}
			107 = {
				owner = {
					transfer_state = PREV.PREV
				}
			}
		}
		# West Ukraine
		every_owned_state = {
			limit = {
				OR = {
					state = 73
					state = 1043
				}
			}
			89 = {
				owner = {
					transfer_state = PREV.PREV
				}
			}
		}
		# Transylvania
		every_owned_state = {
			limit = {
				OR = {
					state = 84
					state = 778
					state = 866
					state = 868
				}
			}
			46 = {
				owner = {
					transfer_state = PREV.PREV
				}
			}
		}
		# Remove claims
		every_state = {
			limit = {
				OR = {
					is_claimed_by = HUN
					is_core_of = HUN
				}
				NOT = {
					is_owned_by = HUN
				}
			}
			remove_claim_by = HUN
			remove_core_of = HUN
		}
		# Hungarian national cores
		every_state = {
			limit = {
				OR = {
					state = 45
					state = 83
					state = 147
					state = 664
					state = 778
					state = 875
					state = 1020
					state = 1139
				}
			}
			add_core_of = HUN
		}
	}
}

# END OF REGENCY
###################
news_event = {
	id = ww1_hungary.4
	title = ww1_hungary.4.t
	desc = ww1_hungary.4.d
	major = yes
	is_triggered_only = yes
	picture = GFX_news_event_hungary_royal_coup
	option = {
		name = ww1_hungary.4.a
	}
}

# Joseph August Removed
#######################
country_event = {
	id = ww1_hungary.5
	title = ww1_hungary.5.t
	desc = ww1_hungary.5.d
	picture = GFX_report_event_hungary_parliament
	
	trigger = {
		has_country_leader = {
			character = AUH_joseph_august_von_osterreich
		}
		has_country_flag = great_war_loser
		FRA = {
			exists = yes
			has_country_flag = great_war_winner
		}
	}	
	
	is_triggered_only = yes

	option = {
		name = ww1_hungary.5.a
		remove_country_leader_role = {
			character = AUH_joseph_august_von_osterreich
			ideology = semi_constitutional_monarchy
		}
		promote_character = HUN_karoly_huszar
		set_party_name = {
			ideology = neutrality
			long_name = HUN_christian_national_union_party_long
			name = HUN_christian_national_union_party
		}
	}
}

# KINGDOM OF HUNGARY
#######################
country_event = {
	id = ww1_hungary.6
	title = ww1_hungary.6.t
	desc = ww1_hungary.6.d
	picture = GFX_report_event_royal_parade
	
	fire_only_once = yes
	trigger = {
		tag = HUN
		has_civil_war = no
		has_country_flag = great_war_loser
		FRA = {
			exists = yes
			has_country_flag = great_war_winner
		}
		has_country_leader = {
			character = HUN_karoly_huszar
		}
		NOT = {
			is_subject_of = AUS
		}	
	}
	mean_time_to_happen = {
		days = 189
	}	
	option = {
		name = ww1_hungary.6.a	
		if = {
			limit = {
				has_character = HUN_miklos_horthy
			}
			add_country_leader_role = {
				character = HUN_miklos_horthy
				promote_leader = yes
				country_leader = {
					ideology=personalistic_dictatorship
					traits={ anti_communist }
				}
			}
			else = {
				AUS = {
					HUN_miklos_horthy = {
						set_nationality = HUN
						add_country_leader_role = {
							promote_leader = yes
							country_leader = {
								ideology=personalistic_dictatorship
								traits={ anti_communist }
							}
						}
					}
				}
			}
		}
		promote_character = HUN_miklos_horthy
		set_party_name = {
			ideology = neutrality
			long_name = HUN_regency_party
			name = HUN_regency_party
		}
		hidden_effect = {
			clr_country_flag = HUN_archkingdom
			clr_country_flag = HUN_republic
			drop_cosmetic_tag = yes
		}
		ai_chance = {
			base = 131
		}
	}
	option = {
		name = ww1_hungary.6.b
		trigger = {
			has_character = HUN_albert_apponyi
		}	
		add_country_leader_role = {
			character = HUN_albert_apponyi
			promote_leader = yes
			country_leader = {
				ideology=authoritarian_democracy
				traits={ scholarly_statesman }
			}
		}
		set_party_name = {
			ideology = neutrality
			long_name = HUN_regency_party
			name = HUN_regency_party
		}
		hidden_effect = {
			clr_country_flag = HUN_archkingdom
			clr_country_flag = HUN_republic
			drop_cosmetic_tag = yes
		}
		ai_chance = {
			base = 7
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
	}
}

# News for Hungarian Soviet
news_event = {
	id = ww1_hungary.7
	title = ww1_hungary.7.t
	desc = ww1_hungary.7.d
	picture = GFX_news_event_hungarian_soviet_republic
	major = yes
	is_triggered_only = yes
	option = {
		name = ww1_hungary.7.a
		trigger = {
			has_government = communism
		}
	}
	option = {
		name = ww1_hungary.7.b
		trigger = {
			NOT = { has_government = communism }
		}
	}
}

# Conditional surrender to Hungary
country_event = {
	id = ww1_hungary.8
	title = ww1_hungary.8.t
	desc = ww1_hungary.8.d
	picture = GFX_report_event_hungarian_soldiers
	is_triggered_only = yes
	option = {
		name = ww1_hungary.8.a
		set_country_flag = hungarian_soviet_truce
		FROM = {
			white_peace = HUN
			leave_faction = yes
			if = {
				limit = {
					HUN = {
						has_government = communism
					}
				}
				add_popularity = {
					ideology = communism
					popularity = 0.10
				}
			}
			every_state = {
				limit = {
					is_owned_by = PREV
					is_core_of = HUN
					NOT = {
						AND = {
							is_core_of = SLO
							SLO = {
								is_subject_of = HUN
							}
						}
					}
				}
				transfer_state_to = HUN
			}
			every_state = {
				limit = {
					is_owned_by = PREV
					is_core_of = SLO
					SLO = {
						is_subject_of = HUN
					}
				}
				transfer_state_to = SLO
			}
			if = {
				limit = {
					has_focus_tree = romania_focus
				}
				complete_national_focus = ROM_defeat_in_hungarian_war
			}
		}
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = ww1_hungary.8.b
		add_war_support = -0.2
		add_stability = -0.2
		add_political_power = -250
		FROM = { country_event = ww1_hungary.9 }
		ai_chance = {
			base = 0
		}
	}
}

# Soviet Hungary rejected peace offer
country_event = {
	id = ww1_hungary.9
	title = ww1_hungary.9.t
	desc = ww1_hungary.9.d
	picture = GFX_report_event_spr_the_maquis
	is_triggered_only = yes
	option = {
		name = ww1_hungary.9.a
		add_stability = -0.05
		add_political_power = -45
	}
}

#Aster Revolution Event
country_event = {
	id = ww1_hungary.10
	title = ww1_hungary.10.t
	desc = ww1_hungary.10.d
	is_triggered_only = yes
	picture = GFX_report_event_aster_revolution
	immediate = {
		hidden_effect = {
			#complete_national_focus = HUN_from_the_ashes
			#complete_national_focus = HUN_pandemonious_rebirth
		}
	}
	option = {
		name = ww1_hungary.10.a
		add_political_power = 50
	}
}

#Dezso Kolossvary failure
country_event = {
	id = ww1_hungary.11
	title = ww1_hungary.11.t
	desc = ww1_hungary.11.d
	picture = GFX_report_event_korpskommandant
	mean_time_to_happen = {
		days = 5
	}
	trigger = {
		HUN = {
			is_subject_of = AUS
			has_war_with = RUS
		}
		RUS = {
			controls_state = 91
		}
	}
	immediate = {
		retire_character = HUN_dezso_kolossvary
	}
	option = {
		name = ww1_hungary.11.a
		add_war_support = -0.05
	}
}

#(Event for Austria) Hungary meddles in Croat-Serb Relations
country_event = {
	id = ww1_hungary.12
	title = ww1_hungary.12.t
	desc = ww1_hungary.12.d
	is_triggered_only = yes
	fire_only_once = yes
	#picture = GFX_report_event_korpskommandant
	option = {
		name = ww1_hungary.12.a
		#Serb
		add_to_variable = {
			AUS_serb_loyalty = 5
		}
		add_to_temp_variable = {
			temp_SER_loyalty = 5
			tooltip = AUS_loyalty_serb_tt
		}
		#Croats
		add_to_variable = {
			AUS_croat_loyalty = -5
		}
		add_to_temp_variable = {
			temp_CRO_loyalty = -5
			tooltip = AUS_loyalty_croatian_tt
		}
		AUS_update_state_of_realm = yes
	}
}

#Khuen's Failure-Laslzo Appointed
country_event = {
	id = ww1_hungary.13
	title = ww1_hungary.13.t
	desc = ww1_hungary.13.d
	#picture = GFX_report_event_korpskommandant
	fire_only_once = yes
	mean_time_to_happen = {
		days = 10
	}
	trigger = {
		has_country_leader = {
			character = HUN_karoly_khuen_hedervary
		}
		check_variable = {
			var = HUN_national_work_party_authority_var
			value < 10
		}
	}
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					tag = HUN
				 }
				 promote_character = HUN_laszlo_luckacs
				 AUS = {
					country_event = ww1_hungary.13
				 }
			}
		}
	}
	option = {
		name = ww1_hungary.13.a
		trigger = {
			tag = HUN
		}
		complete_national_focus = HUN_lukacs_transition
		custom_effect_tooltip = HUN_national_work_party_authority_var_15.tt
		add_to_temp_variable = {
			HUN_national_work_party_authority_var = 15
		}
	}
	option = {
		name = ww1_hungary.13.b
		trigger = {
			tag = AUS
		}
	}
}
#1910 Renewal of Army Quota debates
country_event = {
	id = ww1_hungary.14
	title = ww1_hungary.14.t
	desc = ww1_hungary.14.d
	#picture = GFX_report_event_korpskommandant
	fire_only_once = yes
	is_triggered_only = yes
	#Push the bill through! (Historical)
	option = {
		name = ww1_hungary.14.a
		custom_effect_tooltip = historical_tt
		unlock_decision_tooltip = HUN_force_through_the_1910_quota_renewal
	}
	#Demand an Austrian concession!
	option = {
		name = ww1_hungary.14.a
		AUS = {
			country_event = ww1_hungary.15
		}
	}
	#Push the Army Question Crisis
	option = {
		
	}
}
#1910 Renewal of Army Quota debates (Hungary wants a concession!)
country_event = {
	id = ww1_hungary.15
	title = ww1_hungary.15.t
	desc = ww1_hungary.15.d
	#picture = GFX_report_event_korpskommandant
	fire_only_once = yes
	is_triggered_only = yes
	#God we'll pick up some funding!
	option = {
		name = ww1_hungary.15.a
	}
	#Leave us alone
	option = {
		name = ww1_hungary.15.b
	}
}
#1910 Renewal of Army Quota debates (Austria has picked up funding)
country_event = {
	id = ww1_hungary.16
	title = ww1_hungary.16.t
	desc = ww1_hungary.16.d
	#picture = GFX_report_event_korpskommandant
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_hungary.16.a
		add_political_power = 100
		add_to_variable = {
				HUN_max_cp = 15
			}
		army_experience = 30
		custom_effect_tooltip = HUN_force_through_the_1910_quota_renewal.tt
	}
}















#Ignore stuff below

#Austria offers a deal
country_event = {
	id = ww1_hun_revolution.1
	title = ww1_hun_revolution.1.t
	desc = ww1_hun_revolution.1.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_read_write
	#No
	option = {
		name = ww1_hun_revolution.1.a
		ai_chance = {
			factor = 0
		}
		HUN = {
			leave_faction = yes
		}
		AUS = {
			country_event = {
				id = ww1_hun_revolution.2
				days = 1
			}
		}
	}
	#ok
	option = {
		name = ww1_hun_revolution.1.b
		ai_chance = {
			factor = 0
		}
		add_ideas = AUH_ww1_House_Habsburg_Lorraine
		AUS = {
			country_event = {
				id = ww1_hun_revolution.3
				days = 1
			}
		}
		set_global_flag = HUN_AUS_deal
		if = {
			limit = {
				NOT = {
					has_global_flag = AUH_franz_joseph_i_retired
				}
			 }
			 add_ideas = {
				HUN_franz_joseph_i
			 }
		}
	}
}

#Event for Austria--Hungary rejects the proposal!
country_event = {
	id = ww1_hun_revolution.2
	title = ww1_hun_revolution.2.t
	desc = ww1_hun_revolution.2.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_read_write
	#So is is treason
	option = {
		name = ww1_hun_revolution.2.a
		ai_chance = {
			factor = 50
			modifier = {
				OR = {
					has_country_leader = {
						character = AUH_franz_ferdinand
					}
					has_country_leader = {
						character = AUH_conrad_von_hotzendorf
					}
				}
				add = 100
			}
		}
		hidden_effect = {
			every_state = {
				limit = {
					is_controlled_by = HUN
				}
				add_claim_by = AUS
			}
			AUS = {
				transfer_units_fraction = {
					target = HUN
					size = 0.05
					army_ratio = 0.05
					navy_ratio = 0.0
					stockpile_ratio = 0.05
					keep_unit_leaders_trigger = {
						always = yes
					}
				}
			}
			AUS = {
				# set_rule = {
				# 	can_join_factions = no
				# }
				set_major = yes
				declare_war_on = {
					target = HUN
					type = annex_everything
				}
				leave_faction = yes
			}
			AUS = {
				if = {
					limit = {
						HUN = {
							has_completed_focus = AUH_assure_croatian_support
						}
					}
					## croatian revolution
					country_event = {
						id = ww1_auh.65
						days = 4
					}
				}		
				## bosnian revolution
				country_event = {
					id = ww1_auh.67
					days = 48
				}
				## ukranian revolution
				country_event = {
					id = ww1_auh.66
					days = 68
				}
				## Romania Chooses What to Do
				ROM = {
					country_event = { 
						id = ww1_auh.90
						days = 53
					}
				}
				## Italy chooses what to do
				ITA = {
					country_event = {
						id = ww1_auh.72
						days = 8
					}
				}
				## Serbia Chooses what to do
				SER = {
					country_event = {
						id = ww1_auh.76
						days = 30
					}
				}
				## Germany chooses what to do
				GER = {
					country_event = {
						id = ww1_auh.70
						days = 5
					}
				}
				## Adverse Effects for Russia
				RUS = {
					country_event = {
						id = ww1_hun_revolution.11
						days = 12
					}
				}
				513 = {
					remove_core_of = HUN
					start_resistance = yes
					add_claim_by = HUN
				}
			}
			HUN = {
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	#Give Up
	option = {
		name = ww1_hun_revolution.2.b
		ai_chance = {
			factor = 5
		}
		add_stability = -0.15
		add_war_support = -0.15
		custom_effect_tooltip = ww1_hun_revolution.2.b.tt
		hidden_effect = {
			if = {
				limit = { 
					has_stability < 0.45
				}
				## ukranian revolution
				country_event = {
					id = ww1_auh.66
					days = 68
				}
				country_event = {
					id = ww1_auh.67
				}
			}
		}
	}
}

#Event for Austria-Hungary accepts the proposal
country_event = {
	id = ww1_hun_revolution.3
	title = ww1_hun_revolution.3.t
	desc = ww1_hun_revolution.3.d
	is_triggered_only = yes
	picture = GFX_report_event_generic_read_write
	immediate = {
		HUN = {
			give_guarantee = AUS
		}
		AUS = {
			give_guarantee = HUN
		}
	}
	#Oh Goody!
	option = {
		name = w1_hun_revolution.3.a
	}
}

#Romania Demands Everything South of Mures 
country_event = {
	id = ww1_hun_revolution.4
	title = ww1_hun_revolution.4.t
	desc = ww1_hun_revolution.4.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_report_event_generic_read_write
	#Fine You Bastards!
	option = {
		name = ww1_hun_revolution.4.a
		ai_chance = {
			factor = 15
			modifier = {
				has_war_support < 0.6
				add = 100
			}
		}
		ROM = {
			transfer_state = 778
			transfer_state = 84
			transfer_state = 778
		}
		if = {
			limit = { 
				HUN = {
					owns_state = 82
				}
			}
			ROM = {
				transfer_state = 82
			}
		}
		if = {
			limit = { 
				HUN = {
					owns_state = 764
				}
			}
			ROM = {
				transfer_state = 764
			}
		}
	}
	#Screw You!
	option = {
		name = ww1_hun_revolution.4.b
		ai_chance = {
			factor = 15
			modifier = {
				has_war_support > 0.75
				add = 100
			}
		}
		ROM = {
			country_event = {
				id = ww1_auh.94
				days = 1	
			}
		}
	}
}
## Hungary Demands Arbitration - - Event for Russia
country_event = {
	id = ww1_hun_revolution.5
	title = ww1_hun_revolution.5.t
	desc = ww1_hun_revolution.5.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_report_event_generic_read_write

	#Not our damn problem
	option = {
		name = ww1_hun_revolution.5.a
		ai_chance = {
			factor = 0
			modifier = {
				has_game_rule = {
					rule = AUH_civil_war_intervention
					option = FAVOR_AUSTRIA
				}
				add = 9999
			}
		}
		HUN = {
			country_event = {
				id = ww1_hun_revolution.6
				days = 1
			}
		}
	}
	#Demand Only Hungarian independence
	option = {
		name = ww1_hun_revolution.5.b
		ai_chance = {
			factor = 25
			modifier = {
				has_game_rule = {
					rule = AUH_civil_war_intervention
					option = FAVOR_HUNGARY
				}
				factor = 100
			}
		}
	}
	#Dismantle Austria!
	option = {
		ai_chance = {
			factor = 0
			modifier = {
				has_game_rule = {
					rule = AUH_civil_war_intervention
					option = FAVOR_HUNGARY
				}
				factor = 100
			}
		}
	}
}
## Russia Declines - - Event for Hungary
country_event = {
	id = ww1_hun_revolution.6
	title = ww1_hun_revolution.6.t
	desc = ww1_hun_revolution.6.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_report_event_generic_read_write
	#Bruh
	option = {
		name = ww1_hun_revolution.6.a
		add_opinion_modifier = {
			target = RUS
			modifier = small_decrease
		}
	}
}
## Germany demands that Hungary accepts a deal ##
country_event = {
	id = ww1_hun_revolution.7
	title = ww1_hun_revolution.7.t
	desc = ww1_hun_revolution.7.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_report_event_generic_read_write
	#Ok Fine!
	option = {
		name = ww1_hun_revolution.7.a
		ai_chance = {
			factor = 50
			modifier = {
				HUN = {
					surrender_progress > 0.3
				}
				add = 30
			}
		}
		add_ideas = HUN_treaty_of_berlin
		add_stability = -0.05
		add_war_support = -0.15
		GER = {
			country_event = {
				id = ww1_hun_revolution.9
				days = 2
			}
		}
		hidden_effect = {
			white_peace = AUS
		}
	}
	#Fuck Off
	option = {
		name = ww1_hun_revolution.7.b
		ai_chance = {
			factor = 10
			modifier = {
				AUS = {
					surrender_progress > 0.15
				}
				add = 100
			}
		}
		add_war_support = 0.05
		GER = {
			country_event = {
				id = ww1_hun_revolution.12
				days = 1
			}
		}
	}
}
## Germany Requests Hungary Honor the Berlin Treaty ##
country_event = {
	id = ww1_hun_revolution.8
	title = ww1_hun_revolution.8.t
	desc = ww1_hun_revolution.8.d
	fire_only_once = yes
	picture = GFX_report_event_generic_read_write
	mean_time_to_happen = {
		days = 1
	}
	trigger = {
		has_idea = HUN_treaty_of_berlin
		GER = {
			has_war_with = RUS
		}
	}
	#Sure
	option = {
		name = ww1_hun_revolution.8.a
		ai_chance = {
			factor = 1
			modifier = {
				has_war_support > 0.75
				add = 25
			}
		}
		hidden_effect = {
			GER = {
				add_to_faction = HUN
				add_to_war = {
					targeted_alliance = HUN
					enemy = RUS
				}
			}
		}
	}
	#Freak off
	option = {
		name = ww1_hun_revolution.8.b
		ai_chance = {
			factor = 10
		}
		remove_ideas = HUN_treaty_of_berlin
		GER = {
			add_opinion_modifier = {
				target = HUN
				modifier = large_decrease
			}
		}
	}
}
#Hungary Accepts Our Offer - - Event for Germany
country_event = {
	id = ww1_hun_revolution.9
	title = ww1_hun_revolution.9.t
	desc = ww1_hun_revolution.9.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_report_event_generic_read_write
	#A wise decision
	option = {
		name = ww1_hun_revolution.9.a
		hidden_effect = {
			GER = {
				add_opinion_modifier = {
					target = HUN
					modifier = medium_increase
				}
			}
			HUN = {
				add_opinion_modifier = {
					target = GER
					modifier = medium_increase
				}
			}
			news_event = ww1_hun_revolution.10
		}
	}
}
#Germany Arbitrates the Hungarian Revolution - - World Event
news_event = {
	id = ww1_hun_revolution.10
	title = ww1_hun_revolution.10.t
	desc = ww1_hun_revolution.10.d
	is_triggered_only = yes
	major = yes
	picture = EVENT_hoi4tgw_trialism
	immediate = {
		hidden_effect = {
			GER = {
				add_to_faction = AUS
			}
		}
	}
	#World Response
	option = {
		name = ww1_hun_revolution.10.a
		trigger = {
			NOT = {
				original_tag = AUS
				original_tag = GER
				original_tag = HUN
				original_tag = RUS
			}
		}
	}
	#Austria Response
	option = {
		name = ww1_hun_revolution.10.b
		trigger = {
			original_tag = AUS
		}
	}
	#GER Response
	option = {
		name = ww1_hun_revolution.10.c
		trigger = {
			original_tag = GER
		}
	}
	#HUN Response
	option = {
		name = ww1_hun_revolution.10.e
		trigger = {
			original_tag = HUN
		}
	}
	#RUS Response
	option = {
		name = ww1_hun_revolution.10.f
		trigger = {
			original_tag = RUS
		}
	}
}
## Adverse Affects from the Hungarian Revolution - - Event for Russia
country_event = {
	id = ww1_hun_revolution.11
	title = ww1_hun_revolution.11.t
	desc = ww1_hun_revolution.11.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_report_event_generic_read_write
	#God Dang
	option = {
		name = ww1_hun_revolution.11.a
		add_stability = -0.035
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}
## Hungary rejects our arbitration - - event for Germany
country_event = {
	id = ww1_hun_revolution.12
	title = ww1_hun_revolution.12.t
	desc = ww1_hun_revolution.12.d
	is_triggered_only = yes
	fire_only_once = yes
	picture = GFX_report_event_generic_read_write
	#Unwise!
	option = {
		name = ww1_hun_revolution.12.a
		ai_chance = {
			factor = 50
			modifier = {
				AUS = {
					surrender_progress > 0.05
				}
				add = 100
			}
		}
		add_to_faction = AUS
		hidden_effect = {
			AUS = {
				add_to_war = {
					targeted_alliance = GER
					enemy = HUN
				}
			}
		}
	}
	#Well we tried
	option = {
		name = ww1_hun_revolution.12.b
		ai_chance = {
			factor = 10
			modifier = {
				HUN = {
					surrender_progress > 0.3
				}
				add = 50
			}
		}
	}
}
## Austria Mission to win timeout event OR Surrender
country_event = {
	id = ww1_hun_revolution.13
	title = ww1_hun_revolution.13.t
	desc = ww1_hun_revolution.13.d
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		hidden_effect = {
			set_global_flag = AUH_HUN_civil_war_ends
			mark_focus_tree_layout_dirty = yes
			set_autonomy = {
				target = HUN
				autonomous_state = autonomy_free
				end_wars = yes
				end_civil_wars = no
			}
			white_peace = CRO
			if = {
				limit = {
					AUS = {
						is_in_faction_with = GER
					}
				 }
				 every_country = {
					limit = {
						is_in_faction_with = GER
					}
					white_peace = HUN
					white_peace = CRO
					white_peace = BNT
				}
			}
			if = {
				limit = { 
					HUN = {
						has_country_flag = HUN_concession_to_serbia_flag
					}
				}
				white_peace = SER
				SER = {
					transfer_state = 104
					transfer_state = 575
				}
			}
		}
	}
	option = {
		name = ww1_hun_revolution.13.a
		white_peace = HUN
		hidden_effect = {
			every_state = {
				limit = {
					is_owned_by = HUN
				}
				remove_claim_by = AUS
			}
			if = {
				limit = { 
					country_exists = CRO
				}
				every_owned_state = {
					limit = {
						is_core_of = CRO
					}
					transfer_state_to = CRO
				}
			}
		}
	}
}

