############################
# Russian Civil War Events #
############################

add_namespace = ww1_rcw

#Provisional Siberian Government + czech uprising
country_event = {
	id = ww1_rcw.1
	title = ww1_rcw.1.t
	desc = ww1_rcw.1.d
	picture =  GFX_report_event_czech_revolt
	fire_only_once = yes
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_country_flag = czechoslovak_revolt
			set_global_flag = russian_civil_war
			every_owned_state = {
				limit = {
					OR = {
						state = 40
						state = 403
						state = 516
						state = 568
						state = 570
						state = 571
						state = 572
						state = 573
						state = 576
						state = 578
						state = 580
						state = 581
						state = 582
						state = 583
						state = 588
					}
				}
				SIB = {
					RCW_transfer_state_PREV = yes
				}			
			}
			every_state = {
				limit = {
					NOT = { is_core_of = SIB }
					OR = {
						region = 147
						region = 148
						region = 149
						region = 151
						state = 571
						state = 572
						state = 573
						state = 653
					}
				}
				SIB = {
					RCW_core_state_PREV = yes
				}
			}
			RUS = {
				RUS_boris_annenkov = {
					set_nationality = SIB
				}
				RUS_anatoly_pepelyayev = {
					set_nationality = SIB
				}
				RUS_mikhail_diterikhs = {
					set_nationality = SIB
				}
				RUS_sergej_vojcechovsky = {
					set_nationality = SIB
				}		
			}
			if = {
				limit = {
					CZE = {
						OR = {
							exists = no
							is_subject_of = AUS
						}
					}
				}
				CZE = {
					CZE_radola_gajda = {
						set_nationality = SIB
					}		
				}
			}			
			SIB = {				
				inherit_technology = RUS
				delete_obsolete_russian_templates = yes
				load_oob = "RUS_czechoslovak_corps"
				load_oob = "SIB_1918"
				activate_mission = RCW_capture_the_gold_reserves
				declare_war_on = {
					target = SOV
					type = civil_war
				}
				set_faction_leader = yes
				set_country_flag = czechoslovak_legion
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 20000
					producer = RUS
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 500
					producer = RUS
				}
				add_equipment_to_stockpile = {
					type = field_gun_equipment
					amount = 400
					producer = RUS
				}
				add_equipment_to_stockpile = {
					type = howitzer_equipment
					amount = 100
					producer = RUS
				}
			}
			if = {
				limit = {
					CER = {
						exists = yes
						NOT = {
							has_government = communism
						}
						is_subject = no
					}
				}
				CER = {
					load_oob = "RUS_czechoslovak_corps"
					capital_scope = {
						create_unit = {
							division = "name = \"8. Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
							owner = CER
							prioritize_location = 957
							allow_spawning_on_enemy_provs = yes
						}
						create_unit = {
							division = "name = \"1. Zapasnoy Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
							owner = CER
							prioritize_location = 957
							allow_spawning_on_enemy_provs = yes
						}
						create_unit = {
							division = "name = \"2. Zapasnoy Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
							owner = CER
							prioritize_location = 957
							allow_spawning_on_enemy_provs = yes
						}
					}
				}
			}
			every_owned_state = {
				limit = {
					OR = {
						state = 651
						state = 251
					}
				}
				KOM = {
					RCW_transfer_core_state_PREV = yes
				}
			}
			# every_state = {
			# 	limit = {
			# 		is_core_of = ROOT
			# 	}
			# 	add_core_of = KOM
			# }
			RUS = {
				RUS_vasily_boldyrev = {			
					set_nationality = KOM
					add_country_leader_role ={
						promote_leader = yes
						country_leader = {
							ideology=stratocracy
						}
					}
				}
				RUS_sergey_rozanov = {
					set_nationality = KOM
				}
				RUS_vladimir_kappel = {
					set_nationality = KOM
					add_country_leader_role ={
						promote_leader = yes
						country_leader = {
							ideology=stratocracy
						}
					}
				}
				RUS_georgiy_stark = {
					set_nationality = KOM
				}			
			}	
			if = {
				limit = {
					CZE = {
						OR = {
							exists = no
							is_subject_of = AUS
						}
					}
				}
				CZE = {
					CZE_stanislav_cecek  = {
						set_nationality = KOM
						add_country_leader_role ={
							promote_leader = yes
							country_leader = {
								ideology=authoritarian_democracy
							}
						}
					}			
				}
			}		
			KOM = {				
				declare_war_on = {
					target = SOV
					type = civil_war
				}
				add_ideas = RUS_russian_civil_war
				add_ideas = RCW_lack_of_officers1
				inherit_technology = RUS
				delete_obsolete_russian_templates = yes
				load_oob = "RUS_czechoslovak_corps"
				load_oob = "KOM_1918"
				activate_mission = RCW_capture_the_gold_reserves
			}
			651 = {
				create_unit = {
					division = "name = \"1. Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
					owner = KOM
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"2. Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
					owner = KOM
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"3. Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
					owner = KOM
					allow_spawning_on_enemy_provs = yes
				}
			}
			571 = {
				create_unit = {
					division = "name = \"4. Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
					owner = SIB
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"5. Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
					owner = SIB
					allow_spawning_on_enemy_provs = yes
				}
				create_unit = {
					division = "name = \"6. Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
					owner = SIB
					allow_spawning_on_enemy_provs = yes
				}
			}
			570 = {
				create_unit = {
					division = "name = \"7. Chekhoslovatskiy Polk\" division_template = \"Chekhoslovatskiy Polk\" start_experience_factor = 1"
					owner = SIB
					allow_spawning_on_enemy_provs = yes
				}
			}
			SOV = {
				add_ideas = RUS_russian_civil_war
				send_equipment_fraction = {
					value = 0.35
					target = SIB
				}
				send_equipment_fraction = {
					value = 0.15
					target = KOM
				}
				country_event = {
					id = ww1_rcw.6
					days = 4
				}
			}
			SOV = {
				create_ORE = yes #if they don't exist
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes
					has_war_with = ROOT
					is_ai = no
				}	
				country_event = ww1_rcw.8
			}
		}
	}
	option = {
		name = ww1_rcw.1.a
		effect_tooltip = {
			release = SIB
			release = KOM
		}
	}
	option = {
		name = ww1_rcw.1.b
		SIB = {
			change_tag_from = ROOT
		}
		trigger = {
			is_ai = no
			SIB = {
				is_ai = yes
			}
		}
	}
	option = {
		name = ww1_rcw.1.c
		KOM = {
			change_tag_from = ROOT
		}
		trigger = {
			is_ai = no
			KOM = {
				is_ai = yes
			}
		}
	}
}

#Czechoslovak revolt - Horvat establishes Provisional Supreme Government of Russia
country_event = {
	id = ww1_rcw.2
	title = ww1_rcw.2.t
	desc = ww1_rcw.2.d
	picture = GFX_report_event_horvat_gov

	is_triggered_only = yes
	trigger = {
		exists = yes
		NOT = {
			has_government = communism
		}
		is_subject = no
	}
	immediate = {
		hidden_effect = {
			every_state = {
				limit = {
					is_owned_by = RUS
					OR = {
						state = 408
						state = 963
						state = 965
					}
				}
				CER = {
					RCW_transfer_core_state_PREV = yes
				}
			}
			set_capital = {
				state = 408
			}
			RUS = {
				RUS_vasily_flug = {
					set_nationality = ROOT
				}
			}
			set_cosmetic_tag = CER_provisional_russia
			set_politics = {
				ruling_party = neutrality
 				long_name = CER_cabinet_party
				name = CER_cabinet_party
				elections_allowed = no
			}
			CER_dmitry_horvat = {
				if = {
					limit = { has_ideology = civilian_dictatorship }
					promote_character = civilian_dictatorship
				}
				else = {
					remove_country_leader_role = {
						ideology = colonial_government
					}
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = civilian_dictatorship
						}
					}							
				}
			}
			declare_war_on = {
				target = SOV
				type = civil_war
			}
			hidden_effect = {
				FER = {
					SIB_pyotr_derber = {
						set_nationality = ROOT
						promote_character = social_democracy
					}
				}
				set_party_name = {
					ideology = democratic
					long_name = FER_democratic_party_long
					name = FER_democratic_party
				}
				set_party_name = {
					ideology = fascism
					long_name = CER_cabinet_party
					name = CER_cabinet_party
				}
				add_equipment_to_stockpile = {
					type = convoy
					amount = 30
				}
			}
		}
	}
	option = {
		name = ww1_rcw.2.a
		ai_chance = {
			base = 100
		}
	}
}

#Japanese intervention in Transbaikal
country_event = {
	id = ww1_rcw.3
	title = ww1_rcw.3.t
	desc = ww1_rcw.3.d
	picture = GFX_report_event_czech_soldiers_01
	fire_only_once = yes
	is_triggered_only = yes
	# trigger = {
	# 	original_tag = JAP
	# 	has_completed_focus = JAP_ww1_Russian_Revolution_Opportunity
	# 	any_country = {
	# 		is_russian_tag = yes
	# 		owns_state = 563
	# 	}	
	# }
	immediate = {
		hidden_effect = {
			563 = {
				TBK = {
					RCW_transfer_core_state_PREV = yes
				}
			}		
			564 = {
				TBK = {
					RCW_core_state_PREV = yes
				}
			}			
			RUS = {
				RUS_grigory_semyonov = {
					set_nationality = TBK
					promote_leader = yes
					add_country_leader_role ={
						promote_leader = yes
						country_leader = {
							ideology=stratocracy
							traits = {
								cornered_fox
								cossack_warlord 
							}	
						}
					}
					add_country_leader_role ={
						promote_leader = yes
						country_leader = {
							ideology=warlordism
							traits = {
								cornered_fox
								cossack_warlord 
							}
						}
					}
				}
				if = {
					limit = {
						MON = {
							NOT = {
								has_character = RUS_roman_ungern_sternberg
							}
						}					
					}
					RUS_roman_ungern_sternberg = {
						set_nationality = TBK					
					}			
				}
				RUS_leonid_skipetrov = {
					set_nationality = TBK					
				}
			}
			TBK = {
				add_ideas = {
					standing_alone
					RCW_lack_of_officers1
				}	
				load_focus_tree = white_guard_focus
				inherit_technology = RUS
				delete_obsolete_russian_templates = yes
				RUS_create_cossack_templates = yes
				give_military_access = SIB
				complete_national_focus = WHI_reach_to_the_world
				unlock_national_focus = WHI_approach_the_samurai
				declare_war_on = {
					target = SOV
					type = civil_war
				}
				set_country_flag = siberian_intervention
			}
			SIB = {
				give_military_access = TBK
			}
			CER = {
				give_military_access = TBK
			}
			563 = {
				create_unit = {
					division = "division_template = \"Kazach'ya Brigada\"	start_experience_factor = 0.4	start_equipment_factor = 1"
					owner = TBK
                    prioritize_location = 4677
					allow_spawning_on_enemy_provs = yes
					count = 4
					country_score = {
						base = 100
					}
				}
                create_unit = {
					division = "division_template = \"Pekhotnaya Brigada\"	start_experience_factor = 0.4	start_equipment_factor = 1"
					owner = TBK
                    prioritize_location = 7725
					allow_spawning_on_enemy_provs = yes
					count = 4
					country_score = {
						base = 100
					}
				}
                create_unit = {
					division = "division_template = \"Pekhotnaya Brigada\"	start_experience_factor = 0.4	start_equipment_factor = 1"
					owner = TBK
                    prioritize_location = 12622
					allow_spawning_on_enemy_provs = yes
					count = 2
					country_score = {
						base = 100
					}
				}
			}
			JAP = {
				diplomatic_relation = {
					country = TBK
					relation = military_access
					active = yes
				}
				diplomatic_relation = {
					country = TBK
					relation = guarantee
					active = yes
				}
				add_ai_strategy = {
					type = protect
					id = TBK
					value = 100
				}
				add_ai_strategy = {
					type = send_volunteers_desire
					id = TBK
					value = 100
				}
				add_ai_strategy = {
					type = support
					id = TBK
					value = 100
				}
			}
			SOV = {
				country_event = {
					id = ww1_rcw.4
					days = 1
				}
				SOV = {
					send_equipment_fraction = {
						value = 0.05
						target = TBK
					}
				}
			}
		}
	}
	option = {
		name = ww1_rcw.3.a
		effect_tooltip = {
			TBK = {
				transfer_state = 563
				give_military_access = ROOT
			}
			give_guarantee = TBK
		}
	}
}
#Japanese intervention in Transbaikal - report event for Soviets
country_event = {
	id = ww1_rcw.4
	title = ww1_rcw.4.t
	desc = ww1_rcw.4.d
	picture = GFX_report_event_SOV_military_offensive
	fire_only_once = yes
	is_triggered_only = yes	
	option = {
		name = ww1_rcw.4.a
		effect_tooltip = {
			release = TBK
		}
	}
	#play as semyonov
	option = {
		name = ww1_rcw.4.b
		TBK = {
			change_tag_from = ROOT
		}
		trigger = {
			is_ai = no
		}
	}
}
#Provisional Regional Government of the Urals
country_event = {
	id = ww1_rcw.5
	title = ww1_rcw.5.t
	desc = ww1_rcw.5.d
	picture = GFX_report_event_SOV_military_offensive
	fire_only_once = yes
	trigger = {
		OR = {
			tag = SIB
			tag = KOM
		}
		has_war_with = SOV
		controls_state = 653
		NOT = {
			owns_state = 653
			country_exists = URA
		}
	}
	immediate = {
		hidden_effect = {
			653 = {
				URA = {
					RCW_transfer_core_state_PREV = yes
				}
			}
			398 = {
				add_core_of = URA
			}
			URA = {
				add_ideas = RUS_russian_civil_war
				add_ideas = RCW_lack_of_officers1
				give_military_access = ROOT
				inherit_technology = ROOT
				delete_obsolete_russian_templates = yes
				load_oob = RUS_civil_war
				add_to_war = {
					targeted_alliance = ROOT
					enemy = SOV
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
				set_popularities = {
					fascism = 0
					communism = 20
					democratic = 40
					neutrality = 40
				}
			}
		}
	}
	option = {
		name = ww1_rcw.5.a
	}
	option = {
		name = ww1_rcw.5.b
		URA = {
			change_tag_from = ROOT
		}
		trigger = {
			is_ai = no
		}	
	}
}
# White army coup in Amur
###################
country_event = {
	id = ww1_rcw.6
	title = ww1_rcw.6.t
	desc = ww1_rcw.6.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	fire_only_once = yes
	trigger = {
		tag = AMU
		has_government = communism
		OR = {
			is_subject = no
			is_subject_of = SOV
		}	
		capital_scope = {
			all_neighbor_state = {
				NOT = {
					is_fully_controlled_by = SOV
				}
			}
		}
	}
	option = {
		name = ww1_rcw.6.a
		load_focus_tree = white_guard_focus
		set_politics = {
			ruling_party = democratic
		}
		hidden_effect = {
			clear_all_relations = yes
			add_ideas = {
				RUS_russian_civil_war
				RUS_cossack_volnitsa
				RCW_lack_of_officers1
			}	
			remove_ideas = SOV_idea_red_guard
			give_military_access = SIB
			set_popularities = {
				neutrality = 30
				democratic = 40
				fascism = 20
				communism = 10
			}
			delete_unit_template_and_units = {
				division_template = "Matrosy amurskoy flotilii"
			}
			delete_unit_template_and_units = {
				division_template = "Krasnaya Gvardiya"
			}
			load_oob = RUS_cossack
			capital_scope = {
				create_unit = {
					division = "division_template = \"Kazach'ya Brigada\"	start_experience_factor = 0.4	start_equipment_factor = 0.5"
					owner = PREV
					allow_spawning_on_enemy_provs = yes
					count = 2
				}
			}
		}
		declare_war_on = {
			target = SOV
			type = civil_war
		}
	}
}

# Bolshevik Coup in Priamurye
###################
country_event = {
	id = ww1_rcw.7
	title = ww1_rcw.7.t
	desc = ww1_rcw.7.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	fire_only_once = yes
	trigger = {
		tag = PRI
		has_government = fascism
		is_subject = no
		has_country_leader = {
			character = RUS_sergey_rozanov
		}	
	}
	option = {
		name = ww1_rcw.7.a
		set_politics = {
			ruling_party = communism
		}
		if = {
			limit = {
				is_in_faction = yes
			}
			leave_faction = yes			
		}
		if = {
			limit = {
				has_war_with = SOV
			}
			every_enemy_country = {
				limit = {
					OR = {
						tag = SOV
						is_ally_with = SOV
					}
				}
				ROOT = {
					white_peace = PREV
				}	
			}	
		}
		hidden_effect = {
			set_cosmetic_tag = PRI_communism
			load_focus_tree = empty_focus
			give_military_access = SOV
			set_popularities = {
				neutrality = 10
				democratic = 40
				fascism = 0
				communism = 50
			}
			RUS_sergey_rozanov = {
				set_nationality = RXL
			}
			set_party_name = {
				ideology = fascism
				long_name = FER_fascism_party_long
				name = FER_fascism_party
			}
			SOV = {
				if = {
					limit = {
						has_character = SOV_sergey_lazo
					}
					SOV_sergey_lazo = {
						set_nationality = PRI
					}
				}			
			}
		}
		if = {
			limit = {
				FER = {
					exists = yes
					OR = {
						is_subject = no
						is_subject_of = SOV
					}
					OR = {
						is_in_faction_with = SOV
						has_government = communism
					}
				}
			}
			if = {
				limit = {
					has_character = SOV_sergey_lazo
				}
				SOV_sergey_lazo = {
					set_nationality = FER
				}
			}
			FER = {
				annex_country = {
					target = PRI
				}
			}
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							is_core_of = PRI
							is_claimed_by = PRI
						}					
					}
					remove_core_of = PRI
					remove_claim_by = PRI
				}
			}
		}
	}
}
# Siberia Tag switching changed
country_event = {
	id = ww1_rcw.8
	title = ww1_rcw.1.t
	desc = ww1_rcw.1.d
	picture =  GFX_report_event_soviet_soldiers
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_rcw.1.a
	}
	option = {
		name = ww1_rcw.1.b
		SIB = {
			change_tag_from = ROOT
		}
		trigger = {
			is_ai = no
			SIB = {
				is_ai = yes
			}
		}
	}
	option = {
		name = ww1_rcw.1.c
		KOM = {
			change_tag_from = ROOT
		}
		trigger = {
			is_ai = no
			KOM = {
				is_ai = yes
			}
		}
	}
}

# Yaroslavl Revolt
country_event = {
	id = ww1_rcw.9
	title = ww1_rcw.9.t
	desc = ww1_rcw.9.d
	picture =  GFX_report_event_yaroslavl_revolt
	fire_only_once = yes
	trigger = {
		tag = SOV
		has_global_flag = russian_civil_war
		has_government = communism
		has_war_with = KOM
		owns_state = 248
		controls_state = 248
	}
	mean_time_to_happen = {
		days = 20
	}
	immediate = {
		hidden_effect = {
			add_timed_idea = {
				idea = SOV_missing_reserves
				days = 30
			}
			248 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
				damage_building = {
					type = industrial_complex
					damage = 1
				}
				damage_building = {
					type = arms_factory
					damage = 1
				}
				KOM = {
					RCW_core_state_PREV = yes
				}
			}
		}
	}
	option = {
		name = ww1_rcw.9.a
		effect_tooltip = {
			add_timed_idea = {
				idea = SOV_missing_reserves
				days = 30
			}
			remove_state_core = 248
			248 = {
				damage_building = {
					type = infrastructure
					damage = 1
				}
				damage_building = {
					type = industrial_complex
					damage = 1
				}
				damage_building = {
					type = arms_factory
					damage = 1
				}
			}
		}
	}
}

# Izhevsk-votkinsk uprising
country_event = {
	id = ww1_rcw.10
	title = ww1_rcw.10.t
	desc = ww1_rcw.10.d
	trigger = {
		tag = SOV
		has_global_flag = russian_civil_war
		has_government = communism
		owns_state = 399
		OR = {
			owns_state = 249
			has_contested_owner = 249
		}	
		any_enemy_country = {
			controls_state = 249
		}
	}
	fire_only_once = yes
	option = {
		name = ww1_rcw.10.a
		custom_effect_tooltip = lead_to_IZH_uprising
		hidden_effect = {
			399 = {
				IZH = {
					RCW_core_state_PREV = yes
				}
			}
			IZH = {
				set_state_owner = 399
				set_province_controller = 6278
				set_province_controller = 12244			
				declare_war_on = {
					target = SOV
					type = civil_war
				}
				load_oob = IZH_1918
				add_ideas = RUS_russian_civil_war
				add_ideas = partial_economic_mobilisation
				inherit_technology = RUS
				add_equipment_production = { # they already have production
					equipment = {
						type = infantry_equipment
						creator = IZH
					}
					requested_factories = 1
					progress = 0.5
					efficiency = 50
				}
				delete_obsolete_russian_templates = yes
				country_event = {
					id = ww1_izhevsk.1
					days = 9
				}
				country_event = {
					id = ww1_izhevsk.4
					days = 12
				}
				country_event = {
					id = ww1_izhevsk.2
					days = 16
				}
				country_event = {
					id = ww1_izhevsk.3
					days = 49
				}
			}
		}
	}
}

add_namespace = ww1_izhevsk

# Should izhevsk recognize komuch?
country_event = {
	id = ww1_izhevsk.1
	title = ww1_izhevsk.1.t
	desc = ww1_izhevsk.1.d
	is_triggered_only = yes
	trigger = {
		KOM = {
			exists = yes
		}
	}
	fire_only_once = yes
	option = {
		name = ww1_izhevsk.1.a
		IZH_establish_prikamuch = yes
		country_event = {
			id = ww1_izhevsk.5
			days = 20
		}
	}
}

# increasing izhevsk people's army 1
country_event = {
	id = ww1_izhevsk.2
	title = ww1_izhevsk.2.t
	desc = ww1_izhevsk.2.d
	is_triggered_only = yes
	trigger = {
		IZH = {
			exists = yes
		}
	}
	fire_only_once = yes
	option = {
		name = ww1_izhevsk.2.a
		army_experience = 20
		add_units_to_division_template = {
			template_name = "Otryad Dobrovoltsev"
			support = {
				machine_gun = 0
			}
		}
		add_units_to_division_template = {
			template_name = "Otryad Frontovikov"
			support = {
				machine_gun = 0
			}
		}
		capital_scope = {		
			create_unit = {
				division = "division_template = \"Otryad Dobrovoltsev\"	start_experience_factor = 0	start_equipment_factor = 1"
				owner = PREV
				allow_spawning_on_enemy_provs = yes
				count = 2
				prioritize_location = 6278
			}
			create_unit = {
				division = "division_template = \"Otryad Frontovikov\"	start_experience_factor = 0.4 start_equipment_factor = 1"
				owner = PREV
				allow_spawning_on_enemy_provs = yes
				count = 2
				prioritize_location = 6278
			}
		}
		add_equipment_to_stockpile = {
			type = field_gun_equipment_1
			amount = 2
		}
	}
}

# increasing izhevsk people's army 2
country_event = {
	id = ww1_izhevsk.3
	title = ww1_izhevsk.2.t
	desc = ww1_izhevsk.3.d
	is_triggered_only = yes
	trigger = {
		IZH = {
			exists = yes
		}
	}
	fire_only_once = yes
	option = {
		name = ww1_izhevsk.3.a
		add_war_support = -0.1
		capital_scope = {		
			create_unit = {
				division = "division_template = \"Otryad Dobrovoltsev\"	start_experience_factor = 0	start_equipment_factor = 1"
				owner = PREV
				allow_spawning_on_enemy_provs = yes
				count = 2
				prioritize_location = 6278
			}
			create_unit = {
				division = "division_template = \"Otryad Frontovikov\"	start_experience_factor = 0.4 start_equipment_factor = 1"
				owner = PREV
				allow_spawning_on_enemy_provs = yes
				count = 2
				prioritize_location = 6278
			}
		}
	}
}

# mobilization
country_event = {
	id = ww1_izhevsk.4
	title = ww1_izhevsk.4.t
	desc = ww1_izhevsk.4.d
	is_triggered_only = yes
	option = {
		name = ww1_izhevsk.4.a
		add_ideas = extensive_conscription
		add_stability = -0.1
		add_war_support = -0.2
	}
	option = {
		name = ww1_izhevsk.4.b
	}
}

# choice what to do with bolsheviks reforms
country_event = {
	id = ww1_izhevsk.5
	title = ww1_izhevsk.5.t
	desc = ww1_izhevsk.5.d
	is_triggered_only = yes
	option = {
		name = ww1_izhevsk.5.a
		add_political_power = -40
		add_stability = 0.05
		add_popularity = {
			ideology = communism
			popularity = 5
		}
		add_popularity = {
			ideology = democratic
			popularity = 5
		}
		ai_chance = {
			base = 1
		}
	}
}


#CONSTITUENT ASSEMBLY MECHANIC

add_namespace = ww1_rcw_unification

#white won civil war, invite to join main white state
country_event = {
	id = ww1_rcw_unification.1
	title = ww1_rcw_unification.1.t
	desc = ww1_rcw_unification.1.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	option = {
		name = ww1_rcw_unification.1.a # yes
		ai_chance = {
			factor = 100
		}
		if = {
			limit = {
				NOT = {
					original_tag = CER
				}
			}
			if = {
				limit = {
					is_ai = no
					FROM = { is_ai = yes }
				}
				effect_tooltip = {
					FROM = { change_tag_from = ROOT }
				}
			}
			else = {
				custom_effect_tooltip = GAME_OVER_TT
			}
		}
		FROM = {
			country_event = {
				id = ww1_rcw_unification.2
				random_days = 7
			}
		}
	}
	option = {
		name = ww1_rcw_unification.1.b # no
		ai_chance = {
			factor = 0
		}
		FROM = {
			country_event = {
				id = ww1_rcw_unification.3
				random_days = 7
			}
		}
	}
}

#from fuze
country_event = {
	id = ww1_rcw_unification.2
	title = ww1_rcw_unification.2.t
	desc = ww1_rcw_unification.2.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			FROM = {
				clr_country_flag = has_supported_to_let_former_territories
				clr_country_flag = has_supported_to_puppet_former_territories
				clr_country_flag = has_support_to_annex_former_territories
			}
		}
	}
	option = {
		name = ww1_rcw_unification.2.a # yes
		if = {
			limit = {
				FROM = {
					NOT = {
						original_tag = CER
					}
				}			
			}
			RCW_ROOT_fuze_with_FROM = yes
			else = {
				every_state = {
					limit = {
						is_core_of = FROM
						NOT = {
							state = 909
							state = 910
							state = 908
						}
					}
					remove_core_of = FROM
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_claimed_by = FROM
						NOT = {
							state = 909
							state = 910
							state = 908
						}
					}
					remove_claim_by = FROM
					add_claim_by = ROOT
				}
				every_state = {
					limit = {
						has_contested_owner = FROM
						NOT = {
							state = 909
							state = 910
							state = 908
						}
					}
					remove_contested_owner = FROM
					add_contested_owner = ROOT
				}
				CER = {
					every_owned_state = {
						limit = {
							NOT = {
								state = 909
								state = 910
								state = 908
							}
						}
						ROOT = {
							safe_transfer_state_to = yes
						}
					}			
					if = {
						limit = {
							CHI = {
								has_country_flag = xinhai_victory
							}
						}
						set_cosmetic_tag = CER_xinhai
						else = {
							drop_cosmetic_tag = yes
						}
					}
					get_current_government_type = yes
					ROOT = {
						set_autonomy = {
							target = CER
							autonomous_state = autonomy_tgwr_concession
							freedom_level = 0
						}
					}			
					restore_previous_government_type = yes	
					CER_dmitry_horvat = {
						if = {
							limit = { has_ideology = colonial_government }
							promote_character = colonial_government
						}
						else = {
							remove_country_leader_role = {
								ideology = civilian_dictatorship
							}
							add_country_leader_role = {
								promote_leader = yes
								country_leader = {
									ideology = colonial_government
								}
							}							
						}
					}
				}
			}
		}
		if = {
			limit = {
				is_ai = yes
				FROM = { is_ai = no }
			}
			change_tag_from = FROM
		}
	}
}

#from go own path
country_event = {
	id = ww1_rcw_unification.3
	title = ww1_rcw_unification.3.t
	desc = ww1_rcw_unification.3.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	option = {
		name = ww1_rcw_unification.3.a # yes
		create_wargoal = {
			type = annex_everything
			target = FROM
		}
	}
}

#each state vote to choose the new regime type
country_event = {
	id = ww1_rcw_unification.4
	title = ww1_rcw_unification.4.t
	desc = ww1_rcw_unification.4.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = has_left_the_conference
			219 = {
				OWNER = {
					has_war_with = ROOT
				}
			}
		}
	}
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					owns_state = 219
				}
				country_event = {
					id = ww1_rcw_unification.5
					days = 14
				}
			}	
		}
	}
	
	option = {
		name = ww1_rcw_unification.4.a # propose a republic
		ai_chance = {
			base = 100
			modifier = {
				factor = 2
				219 = {
					OWNER = {
						has_country_flag = has_supported_republic
					}
				}
			}
		}
		219 = {
			OWNER = {
				add_to_variable = {
					votes_for_republic = 1
				}
			}
		}
		set_country_flag = has_supported_republic
	}
	option = {
		name = ww1_rcw_unification.4.b # propose a monarchy
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				219 = {
					OWNER = {
						has_country_flag = has_supported_tsardom
					}
				}
			}
		}
		trigger = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		219 = {
			OWNER = {
				add_to_variable = {
					votes_for_tsardom = 1
				}
			}
		}
		set_country_flag = has_supported_tsardom
	}
	option = {
		name = ww1_rcw_unification.4.c # propose a stratocratic dictatorship 
		ai_chance = {
			base = 70
			modifier = {
				factor = 2
				219 = {
					OWNER = {
						has_country_flag = has_supported_dictatorship
					}
				}
			}
		}
		trigger = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		219 = {
			OWNER = {
				add_to_variable = {
					votes_for_dictatorship = 1
				}
			}
		}
		set_country_flag = has_supported_dictatorship
	}
}

#results of the vote
country_event = {
	id = ww1_rcw_unification.5
	title = ww1_rcw_unification.5.t
	desc = ww1_rcw_unification.5.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = has_left_the_conference
			219 = {
				OWNER = {
					has_war_with = ROOT
				}
			}
		}
	}
	immediate = {
		hidden_effect = {
			if =  {
				limit = {
					owns_state = 219
				}
				country_event = {
					id = ww1_rcw_unification.6
					days = 5
				}
			}
			country_event = {
				id = ww1_rcw_unification.7
				days = 22
			}
		}
	}
	option = {
		name = RUS_republic_vote_on	#its a republic, and we accept it
		trigger= {
			check_variable = {
				var = votes_for_republic
				value = votes_for_tsardom
				compare = greater_than_or_equals
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.5
				}	
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_country_flag = has_supported_tsardom
			}
		}
	}
	option = {
		name = we_cant_accept	#its a republic, and we refuse it !
		trigger= {
			check_variable = {
				var = votes_for_republic
				value = votes_for_tsardom
				compare = greater_than_or_equals
			}
			check_variable = {
				var = votes_for_republic
				value = votes_for_dictatorship
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = has_supported_republic
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			if = {
				limit = {
					has_country_flag = has_supported_tsardom
				}
				set_variable = {
					votes_for_tsardom = 1000
				}
				else = {
					set_variable = {
						votes_for_dictatorship = 1000
					}
				}
			}	
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.11
					days = 2
				}	
			}
			else = {
				set_country_flag = has_left_the_conference
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.3
							days = 2
						}
					}
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				has_country_flag = has_supported_tsardom
			}
		}
	}
	option = {
		name = RUS_tsardom_vote_on
		trigger= {
			check_variable = {
				var = votes_for_tsardom
				value = votes_for_republic
				compare = greater_than
			}
			check_variable = {
				var = votes_for_tsardom
				value = votes_for_dictatorship
				compare = greater_than
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.5
				}	
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.5
				has_country_flag = has_supported_republic
			}
		}
	}
	option = {
		name = we_cant_accept
		trigger= {
			check_variable = {
				var = votes_for_tsardom
				value = votes_for_republic
				compare = greater_than
			}
			check_variable = {
				var = votes_for_tsardom
				value = votes_for_dictatorship
				compare = greater_than
			}
			NOT = {
				has_country_flag = has_supported_tsardom
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			if = {
				limit = {
					has_country_flag = has_supported_republic
				}
				set_variable = {
					votes_for_republic = 1000
				}
				else = {
					set_variable = {
						votes_for_dictatorship = 1000
					}
				}
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.11
					days = 2
				}	
			}
			else = {
				set_country_flag = has_left_the_conference
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.3
							days = 2
						}
					}
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				has_country_flag = has_supported_republic
			}
		}
	}
	option = {
		name = RUS_dictatorship_vote_on
		trigger= {
			check_variable = {
				var = votes_for_dictatorship
				value = votes_for_republic
				compare = greater_than
			}
			check_variable = {
				var = votes_for_dictatorship
				value = votes_for_tsardom
				compare = greater_than_or_equals
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.5
				}	
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 0.2
				has_country_flag = has_supported_republic
			}
		}
	}
	option = {
		name = we_cant_accept
		trigger= {
			check_variable = {
				var = votes_for_dictatorship
				value = votes_for_republic
				compare = greater_than
			}
			check_variable = {
				var = votes_for_dictatorship
				value = votes_for_tsardom
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = has_supported_dictatorship
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			if = {
				limit = {
					has_country_flag = has_supported_republic
				}
				set_variable = {
					votes_for_republic = 1000
				}
				else = {
					set_variable = {
						votes_for_tsardom = 1000
					}
				}
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.11
					days = 2
				}	
			}
			else = {
				set_country_flag = has_left_the_conference
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.3
							days = 2
						}
					}
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				has_country_flag = has_supported_republic
			}
		}
	}
}

#each state vote to choose what to do with former russian territories
country_event = {
	id = ww1_rcw_unification.6
	title = ww1_rcw_unification.6.t
	desc = ww1_rcw_unification.6.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = has_left_the_conference
			219 = {
				OWNER = {
					has_war_with = ROOT
				}
			}
		}
	}
	immediate = {
		clr_country_flag = has_supported_dictatorship
		clr_country_flag = has_supported_republic
		clr_country_flag = has_supported_tsardom
	}
	
	option = {
		name = ww1_rcw_unification.6.a #let them be
		219 = {
			OWNER = {
				add_to_variable = {
					vote_to_let_former_territories = 1
				}
			}
		}
		set_country_flag = has_supported_to_let_former_territories
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				219 = {
					OWNER = {
						has_country_flag = has_supported_to_let_former_territories
					}
				}			
			}
		}
	}
	option = {
		name = ww1_rcw_unification.6.b #propose them autonomy
		219 = {
			OWNER = {
				add_to_variable = {
					vote_to_puppet_former_territories = 1
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				OR = {
					has_government = democratic
					has_government = communism
				}			
			}
			modifier = {
				factor = 2
				219 = {
					OWNER = {
						has_country_flag = has_supported_to_puppet_former_territories
					}
				}			
			}
		}
		set_country_flag = has_supported_to_puppet_former_territories
	}
	option = {
		name = ww1_rcw_unification.6.c #we should annex them all !
		219 = {
			OWNER = {
				add_to_variable = {
					vote_to_annex_former_territories = 1
				}
			}
		}
		trigger = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
		}
		set_country_flag = has_support_to_annex_former_territories 
		ai_chance = {
			base = 50
			modifier = {
				factor = 2
				219 = {
					OWNER = {
						has_country_flag = has_support_to_annex_former_territories
					}
				}			
			}
		}
	}
}

#results of the vote for former territories
country_event = {
	id = ww1_rcw_unification.7
	title = ww1_rcw_unification.5.t
	desc = ww1_rcw_unification.5.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	trigger = {
		NOT = {
			has_country_flag = has_left_the_conference
			219 = {
				OWNER = {
					has_war_with = ROOT
				}
			}
		}
	}
	option = {
		name = RUS_let_them_won
		trigger= {
			check_variable = {
				var = vote_to_let_former_territories
				value = vote_to_puppet_former_territories
				compare = greater_than
			}
			check_variable = {
				var = vote_to_let_former_territories
				value = has_support_to_annex_former_territories
				compare = greater_than
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.5
				has_country_flag = has_support_to_annex_former_territories
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.6
				}	
			}
			else = {
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.2
							days = 2
						}
					}
				}
			}
		}
	}
	option = {
		name = we_cant_accept
		trigger= {
			check_variable = {
				var = vote_to_let_former_territories
				value = vote_to_puppet_former_territories
				compare = greater_than
			}
			check_variable = {
				var = vote_to_let_former_territories
				value = vote_to_annex_former_territories
				compare = greater_than
			}
			NOT = {
				has_country_flag = has_supported_to_let_former_territories
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			if = {
				limit = {
					has_country_flag = has_supported_to_puppet_former_territories
				}
				set_variable = {
					vote_to_puppet_former_territories = 1000
				}
				else = {
					set_variable = {
						vote_to_annex_former_territories = 1000
					}
				}
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.11
					days = 2
				}	
			}
			else = {
				set_country_flag = has_left_the_conference
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.3
							days = 2
						}
					}
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				has_country_flag = has_support_to_annex_former_territories
			}
		}
	}
	option = {
		name = RUS_puppet_them_won
		trigger= {
			check_variable = {
				var = vote_to_puppet_former_territories
				value = vote_to_let_former_territories
				compare = greater_than_or_equals
			}
			check_variable = {
				var = vote_to_puppet_former_territories
				value = vote_to_annex_former_territories
				compare = greater_than_or_equals
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.5
				has_country_flag = has_support_to_annex_former_territories
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.6
				}	
			}
			else = {
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.2
							days = 2
						}
					}
				}
			}
		}	
	}
	option = {
		name = we_cant_accept
		trigger= {
			check_variable = {
				var = vote_to_puppet_former_territories
				value = vote_to_let_former_territories
				compare = greater_than_or_equals
			}
			check_variable = {
				var = vote_to_puppet_former_territories
				value = vote_to_annex_former_territories
				compare = greater_than_or_equals
			}
			NOT = {
				has_country_flag = has_supported_to_puppet_former_territories
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			if = {
				limit = {
					has_country_flag = has_supported_to_let_former_territories
				}
				set_variable = {
					vote_to_let_former_territories = 1000
				}
				else = {
					set_variable = {
						vote_to_annex_former_territories = 1000
					}
				}
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.11
					days = 2
				}	
			}
			else = {
				set_country_flag = has_left_the_conference
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.3
							days = 2
						}
					}
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				has_country_flag = has_support_to_annex_former_territories
			}
		}
	}
	option = {
		name = RUS_annex_them_won
		trigger= {
			check_variable = {
				var = vote_to_annex_former_territories
				value = vote_to_let_former_territories
				compare = greater_than_or_equals
			}
			check_variable = {
				var = vote_to_annex_former_territories
				value = vote_to_puppet_former_territories
				compare = greater_than
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				factor = 0.5
				OR = {
					has_country_flag = has_supported_to_puppet_former_territories
					has_country_flag = has_supported_to_let_former_territories
				}			
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.6
				}	
			}
			else = {
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.2
							days = 2
						}
					}
				}
			}
		}	
	}
	option = {
		name = we_cant_accept
		trigger= {
			check_variable = {
				var = has_support_to_annex_former_territories
				value = vote_to_let_former_territories
				compare = greater_than_or_equals
			}
			check_variable = {
				var = has_support_to_annex_former_territories
				value = vote_to_puppet_former_territories
				compare = greater_than
			}
			NOT = {
				has_country_flag = has_support_to_annex_former_territories
			}
		}
		if = {
			limit = {
				owns_state = 219
			}
			if = {
				limit = {
					has_country_flag = has_supported_to_let_former_territories
				}
				set_variable = {
					vote_to_let_former_territories = 1000
				}
				else = {
					set_variable = {
						vote_to_puppet_former_territories = 1000
					}
				}
			}
			every_other_country = {
				limit = {
					is_russian_tag = yes				
					NOT = {
						has_war_with = ROOT
						is_subject_of = ROOT
						has_country_leader_ideology = vanguardism
						has_country_leader_ideology = revolutionary_socialism
						has_country_flag = has_left_the_conference
					}
				}
				country_event = {
					id = ww1_rcw_unification.11
					days = 2
				}	
			}
			else = {
				set_country_flag = has_left_the_conference
				219 = {
					OWNER = {
						country_event = {
							id = ww1_rcw_unification.3
							days = 2
						}
					}
				}
			}
		}
		ai_chance = {
			base = 0
			modifier = {
				add = 50
				OR = {
					has_country_flag = has_supported_to_puppet_former_territories
					has_country_flag = has_supported_to_let_former_territories
				}
			}
		}
	}
}

#russia ask us to be an autonomy
country_event = {
	id = ww1_rcw_unification.8
	title = ww1_rcw_unification.8.t
	desc = ww1_rcw_unification.8.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	
	option = {
		name = ww1_rcw_unification.8.a #okay
		every_owned_state = {
			limit = {
				NOT = {
					is_core_of = ROOT
					is_claimed_by = ROOT
				}
				OR = {
					is_core_of = FROM
					is_claimed_by = FROM
				}
			}
			transfer_state_to = FROM
		}
		get_current_government_type = yes
		FROM = {
			set_autonomy = {
				target = ROOT
				end_wars = no
				end_civil_wars = no
				autonomy_state = autonomy_satellite
			}
		}
		restore_previous_government_type = yes
		if = {
			limit = {
				NOT = {
					has_cosmetic_tag = GEO_TSCN
					has_cosmetic_tag = GEO_TSCN_commissariat
					has_cosmetic_tag = GEO_TSCN_committee
					has_cosmetic_tag = GEO_TSCN_communism
				}
			}
			set_cosmetic_tag = RUS_puppet
		}
		if = {
			limit = {
				tag = MOU
			}
			transfer_state = 232
		}
		FROM = {
			country_event = {
				id = ww1_rcw_unification.10
				random_days = 7
				days = 1
			}
			if = {
				limit = {
					ROOT = { original_tag = TRK }
				}
				every_owned_state = {
					limit = {
						OR = {
							state = 585
							state = 586
							state = 732
							state = 1219
						}
					}
					transfer_state_to = ROOT
				}
			}
		}
		ai_chance = {
			base = 100
			modifier = {
				GER = {
					has_country_flag = great_war_winner
				}
				OR = {
					tag = UKR
					tag = LIT
					tag = EST
					tag = LAT
				}
				factor = 0
			}
			modifier = {
				OR = {
					is_in_faction_with = GER
					is_guaranteed_by = GER
					is_in_faction_with = AUS
					is_guaranteed_by = AUS
					is_in_faction_with = ENG
					is_guaranteed_by = ENG
					is_in_faction_with = FRA
					is_guaranteed_by = FRA
				}
				factor = 0
			}
			modifier = {
				OR = {
					tag = POL
					tag = FIN
				}
				factor = 0
			}
			modifier = {
				#Basmachi
				OR = {
					tag = KHI
					tag = BUK
					tag = TRK
				}
				factor = 0
			}
		}
	}
	option = {
		name = ww1_rcw_unification.8.b # lol no
		ai_chance = {
			base = 1
			modifier = {
				add = 40
				FROM = {
					is_neighbor_of_subject = no
				}
			}
		}
		FROM = {
			country_event = {
				id = ww1_rcw_unification.9
				random_days = 7
				days = 1
			}
		}
	}
}

#FROM refuse to be integrated
country_event = {
	id = ww1_rcw_unification.9
	title = ww1_rcw_unification.9.t
	desc = ww1_rcw_unification.9.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	
	option = {
		name = ww1_rcw_unification.9.a
	}
}

#FROM accept to be integrated
country_event = {
	id = ww1_rcw_unification.10
	title = ww1_rcw_unification.10.t
	desc = ww1_rcw_unification.10.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	
	option = {
		name = ww1_rcw_unification.10.a
		effect_tooltip = {
			set_autonomy = {
				target = FROM
				autonomy_state = autonomy_satellite
			}
		}
	}
}

#unifier overrules the vote
country_event = {
	id = ww1_rcw_unification.11
	title = ww1_rcw_unification.11.t
	desc = ww1_rcw_unification.11.d
	picture = GFX_report_event_generic_conference
	is_triggered_only = yes
	option = {
		name = RUS_republic_vote_on
		trigger = {
			FROM = {
				has_country_flag = has_supported_republic
			}
		}
	}
	option = {
		name = RUS_tsardom_vote_on
		trigger = {
			FROM = {
				has_country_flag = has_supported_tsardom
			}
		}		
	}
	option = {
		name = RUS_dictatorship_vote_on
		trigger = {
			FROM = {
				has_country_flag = has_supported_dictatorship
			}
		}
	}
	option = {
		name = RUS_let_them_won
		trigger = {
			FROM = {
				has_country_flag = has_supported_to_let_former_territories
			}
		}
	}
	option = {
		name = RUS_puppet_them_won
		trigger = {
			FROM = {
				has_country_flag = has_supported_to_puppet_former_territories
			}
		}		
	}
	option = {
		name = RUS_annex_them_won
		trigger = {
			FROM = {
				has_country_flag = has_support_to_annex_former_territories
			}
		}
	}
	option = {
		name = we_cant_accept
		set_country_flag = has_left_the_conference
		FROM = {
			country_event = {
				id = ww1_rcw_unification.3			
			}
		}
		trigger = {
			if = {
				limit = {
					has_country_flag = has_supported_republic
				}
				NOT = {
					FROM = {
						has_country_flag = has_supported_republic
					}
				}
			}
			if = {
				limit = {
					has_country_flag = has_supported_tsardom
				}
				NOT = {
					FROM = {
						has_country_flag = has_supported_tsardom
					}
				}
			}
			if = {
				limit = {
					has_country_flag = has_supported_dictatorship
				}
				NOT = {
					FROM = {
						has_country_flag = has_supported_dictatorship
					}
				}
			}
			if = {
				limit = {
					has_country_flag = has_supported_to_let_former_territories
				}
				NOT = {
					FROM = {
						has_country_flag = has_supported_to_let_former_territories
					}
				}
			}
			if = {
				limit = {
					has_country_flag = has_supported_to_puppet_former_territories
				}
				NOT = {
					FROM = {
						has_country_flag = has_supported_to_puppet_former_territories
					}
				}
			}
			if = {
				limit = {
					has_country_flag = has_support_to_annex_former_territories
				}
				NOT = {
					FROM = {
						has_country_flag = has_support_to_annex_former_territories
					}
				}
			}
		}
	}
}

#Zemsky Sobor ( Chosing the monarch }
country_event = {
	id = ww1_rcw_unification.12
	title = ww1_rcw_unification.12.t
	desc = ww1_rcw_unification.12.d
	picture = GFX_report_event_royal_visit
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			set_cosmetic_tag = RUS
		}	
	}
	option = {
		name = ww1_rcw_unification.12.a
		RUS = {
			RUS_kirill_vladimirovich_romanov = {
				set_nationality = ROOT
				set_character_name = RUS_kirill_i
				add_country_leader_role ={
					promote_leader = yes
					country_leader = {
						desc = RUS_nicholas_II_desc
						ideology=semi_constitutional_monarchy
						traits = { reformist_monarch }
					}
				}
			}
		}
	}
	option = {
		name = ww1_rcw_unification.12.b
		RUS = {
			RUS_dmitriy_pavlovich_romanov = {
				set_nationality = ROOT
				set_character_name = RUS_dmitriy_ii
				add_country_leader_role ={
					promote_leader = yes
					country_leader = {
						desc = RUS_nicholas_II_desc
						ideology=semi_constitutional_monarchy
						traits = { CHI_trait_accepted_monarch }
					}
				}
			}
		}
	}
	option = {
		name = ww1_rcw_unification.12.c
		RUS = {
			RUS_nikolai_nikolaevich_romanov = {
				set_nationality = ROOT
				set_character_name = RUS_nikolai_iii
				add_country_leader_role ={
					promote_leader = yes
					country_leader = {
						desc = RUS_nicholas_II_desc
						ideology=semi_constitutional_monarchy
						traits = { inexperienced_imperialist }
					}
				}
			}
		}
	}
}
