add_namespace = ww1_holland

#FLAVOR EVENTS
############
#Suriname Coup Attempt Foiled
country_event = {
	id = ww1_holland.1
	title = ww1_holland.1.t
	desc = ww1_holland.1.d
	picture = GFX_report_event_gathering_protest
	
	is_triggered_only = yes

	option = {
		name = ww1_holland.1.a
	}
}

# Strike Mechanic Initiallizer
############
country_event = {
	id = ww1_holland.2
	title = ww1_holland.2.t
	desc = ww1_holland.2.d
	picture = GFX_report_event_gathering_protest
	
	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = ww1_holland.2.a
	}
}

# NEW MINISTER
##################
country_event = {
	title = ww1_holland.3.t
	desc = ww1_holland.3.d
	id = ww1_holland.3
	picture = GFX_report_event_hol_cabinet_gerbrandy

	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = ww1_holland.3.a
	}
}

# MONARCHISM
####################
news_event = {
	id = ww1_holland.4
	title = ww1_holland.4.t
	desc = ww1_holland.4.d
	picture = GFX_news_event_generic_parliament
	
	is_triggered_only = yes
	major = yes

	option = {
		name = ww1_holland.4.a
	}
}

# BENELUX INTEGRATION
####################
country_event = {
	id = ww1_holland.5
	title = ww1_holland.5.t
	desc = ww1_holland.5.d
	picture = GFX_report_event_generic_peaceful_annexation
	
	is_triggered_only = yes

	option = {
		name = ww1_holland.5.a
		custom_effect_tooltip = GAME_OVER_TT
		FROM = { 
			annex_country = {
				target = ROOT
				transfer_troops = yes
			} 
		}
		ai_chance = { factor = 25 }
	}
	option = {
		name = ww1_holland.5.b
		add_stability = -0.05
		FROM = { country_event = { id = ww1_holland.6 days = 3 } }
		ai_chance = { 
			factor = 100
			modifier = {
				factor = 0.01
				FROM = { has_completed_focus = HOL_secure_benelux }
			}
			modifier = {
				factor = 0.01
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0
				is_subject_of = FROM
			}
		}
	}
	option = {
		name = ww1_holland.5.c
		FROM = {
			hidden_effect = {
				ROOT = {
					set_party_name = {
						ideology = neutrality
						long_name = HOL_neutrality_party
						name = HOL_neutrality_party
					}
					if = {
						limit = {
							has_character = BEL_wilhelmina
						}
						BEL_wilhelmina = {
							if = {
								limit = {
									has_ideology = semi_constitutional_monarchy
								}
								promote_character = semi_constitutional_monarchy
								else = {
									add_country_leader_role = {
										promote_leader = yes
										country_leader = {
											ideology = semi_constitutional_monarchy
											traits = { foreign_leader }
										}
									}
								}
							}
						}
					}
					if = {
						limit = {
							has_character = LUX_wilhelmina
						}
						LUX_wilhelmina = {
							if = {
								limit = {
									has_ideology = semi_constitutional_monarchy
								}
								promote_character = semi_constitutional_monarchy
								else = {
									add_country_leader_role = {
										promote_leader = yes
										country_leader = {
											ideology = semi_constitutional_monarchy
											traits = { foreign_leader }
										}
									}
								}
							}
						}
					}
				}
			}
			set_autonomy = {
				target = ROOT
				autonomy_state = autonomy_dominion
			}
		}
		ai_chance = { factor = 0 }
	}
}

# Benelux idea rejected
country_event = {
	id = ww1_holland.6
	title = ww1_holland.6.t
	desc = ww1_holland.6.d
	picture = GFX_report_event_dutch_soldiers_indonesia
	
	is_triggered_only = yes

	option = {
		name = ww1_holland.6.a
		create_wargoal = {
			target = FROM
			type = annex_everything
		}
		ai_chance = { factor = 1 }
	}

	option = {
		name = ww1_holland.6.b
		add_war_support = -0.10
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				strength_ratio = {
					tag = FROM
					ratio < 0.5
				}
			}
			modifier = {
				factor = 4
				is_in_faction_with = FROM
			}
		}
	}
}

# Ask for Duinkerken
country_event = {
	id = ww1_holland.7
	title = ww1_holland.7.t
	desc = ww1_holland.7.d
	picture = GFX_report_event_dutch_soldiers_indonesia
	
	is_triggered_only = yes

	option = {
		name = ww1_holland.7.a
		FROM = { transfer_state = 865 }
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0.1
				has_opinion = {
					target = FROM
					value > 50
				}
			}
			modifier = {
				factor = 0.1
				strength_ratio = {
					tag = FROM
					ratio < 0.8
				}
			}
		}
	}
	option = {
		name = ww1_holland.7.b
		FROM = { country_event = { id = ww1_holland.8 days = 3 } }
		ai_chance = { 
			factor = 100
			modifier = {
				factor = 0.01
				FROM = { has_completed_focus = HOL_cooperation_with_commonwealth }
			}
			modifier = {
				factor = 0.01
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0
				is_subject_of = FROM
			}
		}
	}
}

# Ask for Duinkerken - Rejected
country_event = {
	id = ww1_holland.8
	title = ww1_holland.8.t
	desc = ww1_holland.8.d
	picture = GFX_report_event_dutch_soldiers_indonesia
	
	is_triggered_only = yes

	option = {
		name = ww1_holland.8.a
		create_wargoal = {
			target = FROM
			type = take_state
			generator = { 865 }
		}
		ai_chance = { factor = 1 }
	}

	option = {
		name = ww1_holland.8.b
		add_war_support = -0.10
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				strength_ratio = {
					tag = FROM
					ratio < 0.5
				}
			}
			modifier = {
				factor = 4
				is_in_faction_with = FROM
			}
		}
	}
}

# Ask for Colonies
country_event = {
	id = ww1_holland.9
	title = ww1_holland.9.t
	desc = ww1_holland.9.d
	picture = GFX_report_event_dutch_soldiers_indonesia
	
	is_triggered_only = yes

	option = {
		name = ww1_holland.9.a
		every_owned_state = {
			limit = {
				is_claimed_by = FROM
				NOT = { is_core_of = ROOT }
			}
			transfer_state_to = FROM
		}
		ai_chance = {
			factor = 5
			modifier = {
				factor = 0.1
				has_opinion = {
					target = FROM
					value > 50
				}
			}
			modifier = {
				factor = 0.1
				strength_ratio = {
					tag = FROM
					ratio < 0.8
				}
			}
		}
	}
	option = {
		name = ww1_holland.9.b
		FROM = { country_event = { id = ww1_holland.10 days = 3 } }
		ai_chance = { 
			factor = 100
			modifier = {
				factor = 0.01
				FROM = { has_completed_focus = HOL_cooperation_with_commonwealth }
			}
			modifier = {
				factor = 0.01
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0
				is_subject_of = FROM
			}
		}
	}
}

# Ask for Colonies - Rejected
country_event = {
	id = ww1_holland.10
	title = ww1_holland.10.t
	desc = ww1_holland.10.d
	picture = GFX_report_event_dutch_soldiers_indonesia
	
	is_triggered_only = yes

	option = {
		name = ww1_holland.10.a
		create_wargoal = {
			target = FROM
			type = take_claimed_state
		}
		ai_chance = { factor = 1 }
	}

	option = {
		name = ww1_holland.10.b
		add_war_support = -0.10
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				strength_ratio = {
					tag = FROM
					ratio < 0.5
				}
			}
			modifier = {
				factor = 4
				is_in_faction_with = FROM
			}
		}
	}
}

# Aftermath of the Great War - neutrality
country_event = {
	id = ww1_holland.11
	title = ww1_holland.11.t
	desc = ww1_holland.11.d
	picture = GFX_report_event_dutch_soldiers_indonesia
	fire_only_once = yes
	trigger = {
		tag = HOL
		has_global_flag = interbellum
		has_war = no
		NOT = {
			has_country_flag = great_war_winner
			has_country_flag = great_war_loser
		}
		is_subject = no
		any_other_country = {
			is_neighbor_of = ROOT
			OR = {
				has_country_flag = great_war_loser
				has_country_flag = great_war_winner
			}
		}
	}
	option = {
		name = ww1_holland.11.a
		add_ideas = HOL_aloof_neutrality
		if = {
			limit = {
				NOT = { has_global_flag = before_the_leaves_fall_flag }
			}
			add_ideas = HOL_shell_shocked_spectator
		}
	}
}

# Aftermath of the Great War - lost
country_event = {
	id = ww1_holland.12
	title = ww1_holland.11.t
	desc = ww1_holland.12.d
	picture = GFX_report_event_dutch_soldiers_indonesia
	fire_only_once = yes
	trigger = {
		tag = HOL
		has_war = no
		has_country_flag = great_war_loser
		is_subject = no
		has_subject = INS
	}
	option = {
		name = ww1_holland.12.a
		end_puppet = INS
		hidden_effect = {
			INS = {
				INS_a_w_frederik_idenburg = {
					add_country_leader_trait = foreign_leader
				}
				set_cosmetic_tag = INS_HOL
				release = PNG
				every_owned_state = {
					limit = {
						is_core_of = INS
						NOT = { state = 335 }
					}
					set_demilitarized_zone = yes
				}
			}
		}
	}
}
country_event = {
	id = ww1_holland.13
	title = ww1_holland.13.t
	desc = ww1_holland.13.d
	picture = GFX_report_event_gathering_protest
	fire_only_once = yes
	trigger = {
		tag = HOL
		AND = {
			GER = {
				longest_war_length > 12
			}
			ENG = {
				longest_war_length > 12
			}
			has_global_flag = great_war
		}
	}
	option = {
		name = ww1_holland.13.a
		add_ideas = {
			HOL_food_shortages
		}
	}
}

#Holland Rework
#Diamond sector earns 8 hour workday
country_event = {
	id = ww1_holland.14
	title = ww1_holland.14.t
	desc = ww1_holland.14.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		NOT = {
			has_country_flag = HOL_flag_1913_sdap_won
		}
	}
	option = {
		name = ww1_holland.14.a
		add_stability = 0.01
		add_to_variable = {
			HOL_variable_sdap_popularity = 1
		}
		add_popularity = {
			ideology = communism
			popularity = 0.02
		}
	}
}
#welfare reforms pay of
country_event = {
	id = ww1_holland.15
	title = ww1_holland.15.t
	desc = ww1_holland.15.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		OR = {
			has_completed_focus = HOL_ten_hour_workday
			has_completed_focus = HOL_raden_van_arbeid
			has_completed_focus = HOL_clamp_down_child_labour
		}
		NOT = {
			has_country_flag = HOL_flag_welfare_reforms_rlly_payof
		}
	}
	option = {
		name = ww1_holland.15.a
		add_to_variable = {
			HOL_variable_arp_popularity = 1
		}
		add_to_variable = {
			HOL_variable_ag_popularity = 1
		}
	}
	option = {
		name = ww1_holland.15.b
	}
}
#welfare reform rlly pays of
country_event = {
	id = ww1_holland.22
	title = ww1_holland.22.t
	desc = ww1_holland.22.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		AND = {
			has_completed_focus = HOL_ten_hour_workday
			has_completed_focus = HOL_raden_van_arbeid
			has_completed_focus = HOL_clamp_down_child_labour
		}
	}
	option = {
		name = ww1_holland.22.a
		add_to_variable = {
			HOL_variable_arp_popularity = 2
		}
		add_to_variable = {
			HOL_variable_ag_popularity = 2
		}
		set_country_flag = HOL_flag_welfare_reforms_rlly_payof
	}
	option = {
		name = ww1_holland.22.b
	}
}
#sdap wins 1913 elections
country_event = {
	id = ww1_holland.16
	title = ww1_holland.16.t
	desc = ww1_holland.16.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		check_variable = {
			HOL_variable_sdap_popularity > HOL_variable_lu_popularity
		}
		check_variable = {
			HOL_variable_sdap_popularity > HOL_variable_arp_popularity
		}
		check_variable = {
			HOL_variable_sdap_popularity > HOL_variable_ag_popularity
		}
	}
	option = {
		name = ww1_holland.16.a
		set_country_flag = HOL_flag_1913_sdap_won
	}
}
#lu wins 1913 elections
country_event = {
	id = ww1_holland.17
	title = ww1_holland.17.t
	desc = ww1_holland.17.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		check_variable = {
			HOL_variable_lu_popularity > HOL_variable_sdap_popularity
		}
		check_variable = {
			var = HOL_variable_lu_popularity 
			value = HOL_variable_arp_popularity
			compare = greater_than_or_equals
		}
		check_variable = {
			var = HOL_variable_lu_popularity 
			value = HOL_variable_ag_popularity
			compare = greater_than_or_equals
		}
	}
	option = {
		name = ww1_holland.17.a
		set_country_flag = HOL_flag_1913_lu_won
	}
}
#arp wins 1913 elections
country_event = {
	id = ww1_holland.18
	title = ww1_holland.18.t
	desc = ww1_holland.18.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		check_variable = {
			HOL_variable_arp_popularity > HOL_variable_sdap_popularity
		}
		check_variable = {
			HOL_variable_arp_popularity > HOL_variable_lu_popularity
		}
		check_variable = {
			HOL_variable_arp_popularity > HOL_variable_ag_popularity
		}
	}
	option = {
		name = ww1_holland.18.a
		set_country_flag = HOL_flag_1913_arp_won
	}
}
#ag wins 1913 elections
country_event = {
	id = ww1_holland.19
	title = ww1_holland.19.t
	desc = ww1_holland.19.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		check_variable = {
			HOL_variable_ag_popularity > HOL_variable_sdap_popularity
		}
		check_variable = {
			HOL_variable_ag_popularity > HOL_variable_arp_popularity
		}
		check_variable = {
			HOL_variable_ag_popularity > HOL_variable_lu_popularity
		}
	}
	option = {
		name = ww1_holland.19.a
		set_country_flag = HOL_flag_1913_ag_won
	}
}
#sdap-lu alliance wins 1913 elections
country_event = {
	id = ww1_holland.20
	title = ww1_holland.20.t
	desc = ww1_holland.20.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		OR = {
			AND = {
				check_variable = {
					HOL_variable_lu_popularity > HOL_variable_sdap_popularity
				}
				check_variable = {
					HOL_variable_lu_popularity > HOL_variable_arp_popularity
				}
				check_variable = {
					HOL_variable_lu_popularity > HOL_variable_ag_popularity
				}
			}
			AND = {
				check_variable = {
					HOL_variable_sdap_popularity > HOL_variable_ag_popularity
				}
				check_variable = {
					HOL_variable_sdap_popularity > HOL_variable_arp_popularity
				}
				check_variable = {
					HOL_variable_sdap_popularity > HOL_variable_lu_popularity
				}
			}
		}
		check_variable = {
			HOL_variable_sdap_popularity = HOL_variable_lu_popularity
		}
	}
	option = {
		name = ww1_holland.20.a
		set_country_flag = HOL_flag_1913_sdaplualliance_won
	}
}
#ag-arp alliance won 1913 elections
country_event = {
	id = ww1_holland.21
	title = ww1_holland.21.t
	desc = ww1_holland.21.d
	fire_only_once = yes
	trigger = {
		tag = HOL
		OR = {
			AND = {
				check_variable = {
					HOL_variable_arp_popularity > HOL_variable_sdap_popularity
				}
				check_variable = {
					HOL_variable_arp_popularity > HOL_variable_lu_popularity
				}
				check_variable = {
					HOL_variable_arp_popularity > HOL_variable_ag_popularity
				}
			}
			AND = {
				check_variable = {
					HOL_variable_ag_popularity > HOL_variable_sdap_popularity
				}
				check_variable = {
					HOL_variable_ag_popularity > HOL_variable_arp_popularity
				}
				check_variable = {
					HOL_variable_ag_popularity > HOL_variable_lu_popularity
				}
			}
		}
		check_variable = {
			HOL_variable_ag_popularity = HOL_variable_arp_popularity
		}
	}
	option = {
		name = ww1_holland.21.a
		set_country_flag = HOL_flag_1913_agarpalliance_won
	}
}
#coastal_defence_plan
country_event = {
	id = ww1_holland.23
	title = ww1_holland.23.t
	desc = ww1_holland.23.d
	fire_only_once = yes
	is_triggered_only = yes
	trigger = {
		tag = HOL
	}
	option = {
		name = ww1_holland.23.a
		
	}
}