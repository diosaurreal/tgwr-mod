add_namespace = ww1_mongolia

#Bogd Khan death
country_event = {
	id = ww1_mongolia.1
	title = ww1_mongolia.1.t
	desc = ww1_mongolia.1.d
	picture = GFX_report_event_generic_funeral
	trigger = {
		tag = MON
		date > 1924.5.24
		has_character = MON_bogd_khan
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 0
	}
	option = {
		name = ww1_mongolia.1.a
		retire_character = MON_bogd_khan
		if = {
			limit = {
				has_idea = MON_bogd_khan_MAN
			}
			remove_ideas = MON_bogd_khan_MAN
		}
		if = {
			limit = {
				has_idea = MON_bogd_khan_sternberg
			}
			remove_ideas = MON_bogd_khan_sternberg
		}
		if = {
			limit = {
				has_government = communism
			}
			set_cosmetic_tag = MON_republic
		}
	}
}

# Invite Inner Mongolian Princes to Join the Independence
country_event = {
	id = ww1_mongolia.2
	title = ww1_mongolia.2.t
	desc = ww1_mongolia.2.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = ww1_mongolia.2.a
		612 = {
			owner = {
				country_event = {
					id = ww1_mongolia.3
					hours = 10
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = ww1_mongolia.5
				days = 300
				random_days = 100
			}
		}
	}
}

# Inner Mongolian Revolt
country_event = {
	id = ww1_mongolia.3
	title = ww1_mongolia.3.t
	desc = ww1_mongolia.3.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = ww1_mongolia.3.a
		FROM = {
			transfer_state = 983
		}
		every_owned_state = {
			limit = {
				OR = {
					state = 612
					state = 616
					state = 621
					state = 715
				}
			}
			set_border_war = yes
		}
	}
}

# Mongolians Sent Delegation to Ally
country_event = {
	id = ww1_mongolia.4
	title = ww1_mongolia.4.t
	desc = ww1_mongolia.4.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	trigger = {
		tag = RUS
		is_subject = no
		QIN = {
			is_neighbor_of = ROOT
			has_war = no
			owns_state = 330
		}
		date > 1911.7.1
		has_start_date < 1914.1.1
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 0
	}
	option = {
		name = ww1_mongolia.4.a
	}
}

# Mongolians Invade Inner Mongolia
country_event = {
	id = ww1_mongolia.5
	title = ww1_mongolia.5.t
	desc = ww1_mongolia.5.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	fire_only_once = yes
	trigger = {
		owns_state = 983
		NOT = {
			owns_state = 612
			owns_state = 621
		}
	}
	option = {
		name = ww1_mongolia.5.a
		hidden_effect = {
			612 = {
				owner = {
					country_event = ww1_mongolia.8
				}
			}
			RUS = {
				country_event = {
					id = ww1_mongolia.9
					days = 40
					random_days = 20
				}
			}
		}
		start_border_war = {
			change_state_after_war = no
			attacker = {
				state = 983
				num_provinces = 3
				on_win = ww1_mongolia.6
				on_lose = ww1_mongolia.7
			}
			defender = {
				state = 612
				num_provinces = 6
				on_win = ww1_mongolia.7
				on_lose = ww1_mongolia.6
			}
		}
	}
}

# Mongolians Won
country_event = {
	id = ww1_mongolia.6
	title = ww1_mongolia.6.t
	desc = ww1_mongolia.6.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	option = {
		name = ww1_mongolia.6.a
		trigger = {
			NOT = { original_tag = MON }
		}
		effect_tooltip = {
			MON = {
				transfer_state = 612
			}
		}
	}
	option = {
		name = ww1_mongolia.6.b
		trigger = {
			original_tag = MON
		}
		transfer_state = 612
	}
}

# Mongolians Lost
country_event = {
	id = ww1_mongolia.7
	title = ww1_mongolia.7.t
	desc = ww1_mongolia.7.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	option = {
		name = ww1_mongolia.7.a
		trigger = {
			NOT = { original_tag = MON }
		}
	}
	option = {
		name = ww1_mongolia.7.b
		trigger = {
			original_tag = MON
		}
	}
}

# Notify Mongolian Invasion
country_event = {
	id = ww1_mongolia.8
	title = ww1_mongolia.8.t
	desc = ww1_mongolia.8.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	option = {
		name = ww1_mongolia.8.a
	}
}

# Russians Protest
country_event = {
	id = ww1_mongolia.9
	title = ww1_mongolia.9.t
	desc = ww1_mongolia.9.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	trigger = {
		is_subject = no
		MON = {
			is_neighbor_of = ROOT
			OR = {
				any_other_country = {
					is_china_or_warlord_no_tt = yes
					has_border_war_with = PREV
				}
				owns_state = 612
			}
		}
	}
	fire_only_once = yes
	mean_time_to_happen = {
		days = 70
	}
	option = {
		name = ww1_mongolia.9.a
	}
}

# Mongolian Withdrawl
country_event = {
	id = ww1_mongolia.10
	title = ww1_mongolia.10.t
	desc = ww1_mongolia.10.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	fire_only_once = yes
	option = {
		name = ww1_mongolia.10.a
		if = {
			limit = {
				612 = {
					owner = {
						has_border_war_with = ROOT
					}
				}
			}
			cancel_border_war = {
				dont_fire_events = yes
				defender = 983
				attacker = 612
			}
		}
		every_state = {
			limit = {
				OR = {
					state = 612
					state = 616
					state = 621
					state = 715
				}
			}
			if = {
				limit = {
					has_border_war = yes
				}
				set_border_war = no
			}
			if = {
				limit = {
					is_owned_by = ROOT
				}
				611 = {
					owner = {
						transfer_state = PREV.PREV
					}
				}
			}
		}
		hidden_effect = {
			country_event = {
				id = ww1_mongolia.11
				hours = 10
			}
			FROM = {
				country_event = {
					id = ww1_mongolia.11
					hours = 10
				}
				give_guarantee = ROOT
			}
			611 = {
				owner = {
					country_event = {
						id = ww1_mongolia.11
						hours = 10
					}
				}
			}
		}
	}
}

# Agreement of Niĭslel Khüree
country_event = {
	id = ww1_mongolia.11
	title = ww1_mongolia.11.t
	desc = ww1_mongolia.11.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	option = {
		name = ww1_mongolia.11.a
		effect_tooltip = {
			RUS = {
				give_guarantee = MON
			}
		}
	}
}

# Russia Suggests Treaty of Kyakhta
country_event = {
	id = ww1_mongolia.12
	title = ww1_mongolia.12.t
	desc = ww1_mongolia.12.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	fire_only_once = yes
	trigger = {
		tag = RUS
		date > 1915.5.1
		has_russian_civil_war = no
		has_capitulated = no
		MON = {
			is_subject = no
			is_neighbor_of = ROOT
			NOT = {
				has_war_with = ROOT
			}
			CHI = {
				is_neighbor_of = PREV
				NOT = {
					has_war_with = ROOT
					has_war_with = PREV
				}
			}
		}
	}
	mean_time_to_happen = {
		days = 10
	}
	option = {
		name = ww1_mongolia.12.a
		custom_effect_tooltip = effect_if_accepted
		effect_tooltip = {
			CHI = {
				give_guarantee = MON
			}
			RUS = {
				give_guarantee = MON
			}
			MON = {
				give_market_access = RUS
			}
		}
		custom_effect_tooltip = if_they_refuse
		effect_tooltip = {
			every_state = {
				limit = {
					is_owned_by = MON
				}
				add_claim_by = ROOT
			}
		}
		hidden_effect = {
			CHI = {
				country_event = {
					id = ww1_mongolia.13
					hours = 10
				}
			}
		}
	}
}

# Chinese answer on Treaty of Kyakhta
country_event = {
	id = ww1_mongolia.13
	title = ww1_mongolia.13.t
	desc = ww1_mongolia.13.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	option = {
		name = ww1_mongolia.13.a
		custom_effect_tooltip = historical_tt
		give_guarantee = MON
		hidden_effect = {
			country_event = {
				id = ww1_mongolia.14
				hours = 10
			}
		}
		RUS = {
			give_guarantee = MON
			hidden_effect = {
				country_event = {
					id = ww1_mongolia.14
					hours = 10
				}
			}
		}
		MON = {
			give_market_access = RUS
			hidden_effect = {
				country_event = {
					id = ww1_mongolia.14
					hours = 10
				}
			}
		}
	}
	option = {
		name = ww1_mongolia.13.b
		every_state = {
			limit = {
				is_owned_by = MON
			}
			add_claim_by = FROM
		}
		ai_chance = {
			base = 0
		}
	}
}

# Treaty of Kyakhta
country_event = {
	id = ww1_mongolia.14
	title = ww1_mongolia.14.t
	desc = ww1_mongolia.14.d
	picture = GFX_report_event_SOV_mongolia_cavalry
	is_triggered_only = yes
	option = {
		name = ww1_mongolia.14.a
		trigger = {
			original_tag = MON
		}
		effect_tooltip = {
			CHI = {
				give_guarantee = MON
			}
			RUS = {
				give_guarantee = MON
			}
			MON = {
				give_market_access = RUS
			}
		}
	}
	option = {
		name = ww1_mongolia.14.b
		trigger = {
			NOT = { original_tag = MON }
		}
		effect_tooltip = {
			CHI = {
				give_guarantee = MON
			}
			RUS = {
				give_guarantee = MON
			}
			MON = {
				give_market_access = RUS
			}
		}
	}
}