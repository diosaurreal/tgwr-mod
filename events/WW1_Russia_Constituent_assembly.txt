add_namespace = ww1_rus_constituent_assembly

#Russian Constituent Assembly election (historical under bolsheibks)
country_event = {
	id = ww1_rus_constituent_assembly.1
	title = ww1_rus_constituent_assembly.1.t
	desc = ww1_rus_constituent_assembly.1.d
	picture = GFX_report_event_rus_constituent_assembly_election

	is_triggered_only = yes
	timeout_days = 1
	
	immediate = {
		hidden_effect = {
			set_politics = {
				ruling_party = var:ROOT.current_party_ideology_group
				election_frequency = 60
				elections_allowed = no
			}
		}
	}

	option = {
		name = ww1_rus_constituent_assembly.1.a
		add_stability = -0.03
		add_political_power = -50
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
		activate_mission = SOV_constituent_assembly_convocation
		every_other_country = {
			limit = {
				OR = {
					is_russian_tag = yes
					is_russian_breakaway_tag = yes
				}
				is_subject = no
				NOT = {
					original_tag = FIN
					has_country_leader_ideology = vanguardism
					has_country_leader_ideology = anarchism
					has_country_leader_ideology = revolutionary_socialism #left esers in coalition with the Bolsheviks
				}
			}
			country_event = ww1_rus_constituent_assembly.2
		}
		hidden_effect = {
			news_event = {
				id =  ww1_rus_constituent_assembly.3
				hours = 5
			}
			country_event = {
				id = ww1_rus_constituent_assembly.4
				days = 43
			}
		}
	}
}

#Russian Constituent Assembly election (for breakways)
country_event = {
	id = ww1_rus_constituent_assembly.2
	title = ww1_rus_constituent_assembly.1.t
	desc = ww1_rus_constituent_assembly.2.d
	picture = GFX_report_event_rus_constituent_assembly_election

	is_triggered_only = yes

	option = {
		name = ww1_rus_constituent_assembly.2.a
		add_stability = 0.05
		add_political_power = 50
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
}

#Russian Constituent Assembly election news event
news_event = {
	id = ww1_rus_constituent_assembly.3
	title = ww1_rus_constituent_assembly.1.t
	desc = ww1_rus_constituent_assembly.2.d
	picture = GFX_news_event_rus_constituent_assembly_election

	is_triggered_only = yes

	option = {
		name = ww1_rus_constituent_assembly.3.a
		trigger = {
			OR = {
				is_russian_tag = yes
				is_russian_breakaway_tag = yes
			}
			OR = {
				has_country_leader_ideology = vanguardism
				has_country_leader_ideology = anarchism
				has_country_leader_ideology = revolutionary_socialism #left esers in coalition with the Bolsheviks
			}
		}
	}
	option = {
		name = ww1_rus_constituent_assembly.3.b
		trigger = {
			OR = {
				is_russian_tag = yes
				is_russian_breakaway_tag = yes
			}
			is_subject = no
			NOT = {
				original_tag = FIN
				has_country_leader_ideology = vanguardism
				has_country_leader_ideology = anarchism
				has_country_leader_ideology = revolutionary_socialism #left esers in coalition with the Bolsheviks
			}
		}
	}
	option = {
		name = ww1_rus_constituent_assembly.3.c
		trigger = {
			OR = {
				AND = {
					is_russian_tag = no
					is_russian_breakaway_tag = no
				}
				is_subject = yes
				original_tag = FIN
			}
			NOT = {
				has_country_leader_ideology = vanguardism
				has_country_leader_ideology = anarchism
				has_country_leader_ideology = revolutionary_socialism #left esers in coalition with the Bolsheviks
			}	
		}
	}
}


#Demonstrations in support of the Constituent Assembly
country_event = {
	id = ww1_rus_constituent_assembly.4
	title = ww1_rus_constituent_assembly.4.t
	desc = ww1_rus_constituent_assembly.4.d
	picture = GFX_report_event_rus_constituent_assembly_demonstrations

	is_triggered_only = yes
	timeout_days = 1
	trigger = {
		has_active_mission = SOV_constituent_assembly_convocation
	}

	option = {
		name = ww1_rus_constituent_assembly.4.a
		add_stability = -0.02
		195 = { add_manpower = -50 }
	}
}
#Convocation of the Assembly
country_event = {
	id = ww1_rus_constituent_assembly.5
	title = ww1_rus_constituent_assembly.5.t
	desc = ww1_rus_constituent_assembly.5.d
	picture = GFX_report_event_rus_constituent_assembly

	is_triggered_only = yes
	timeout_days = 1

	option = {
		name = ww1_rus_constituent_assembly.5.a
		add_ideas = SOV_defiant_constituent_assembly
		country_event = {
			id = ww1_rus_constituent_assembly.6
			hours = 18
		}
	}
}
#Dissolution of the Constituent Assembly
country_event = {
	id = ww1_rus_constituent_assembly.6
	title = ww1_rus_constituent_assembly.6.t
	desc = ww1_rus_constituent_assembly.6.d
	picture = GFX_report_event_rus_constituent_assembly_dispersal

	is_triggered_only = yes

	option = {
		name = ww1_rus_constituent_assembly.6.a
		remove_ideas = SOV_defiant_constituent_assembly
		every_other_country = {
			limit = {
				OR = {
					is_russian_tag = yes
					is_russian_breakaway_tag = yes
				}
				is_subject = no
				NOT = {
					original_tag = FIN
					has_country_leader_ideology = vanguardism
					has_country_leader_ideology = anarchism
					has_country_leader_ideology = revolutionary_socialism #left esers in coalition with the Bolsheviks
				}
			}
			country_event = ww1_rus_constituent_assembly.7
		}
		hidden_effect = {
			news_event = {
				id = ww1_rus_constituent_assembly.8
				hours = 5
			}
		}
	}
}

#Dissolution of the Constituent Assembly (for breakways)
country_event = {
	id = ww1_rus_constituent_assembly.7
	title = ww1_rus_constituent_assembly.6.t
	desc = ww1_rus_constituent_assembly.7.d
	picture = GFX_report_event_rus_constituent_assembly_dispersal

	is_triggered_only = yes

	option = {
		name = ww1_rus_constituent_assembly.7.a
		add_stability = -0.1
		add_war_support = 0.03
		add_political_power = -50
	}
}


#Dissolution of the Constituent Assembly news event
news_event = {
	id = ww1_rus_constituent_assembly.8
	title = ww1_rus_constituent_assembly.6.t
	desc = ww1_rus_constituent_assembly.7.d
	picture = GFX_news_event_rus_constituent_assembly_dispersal

	is_triggered_only = yes

	option = {
		name = ww1_rus_constituent_assembly.8.a
		trigger = {
			OR = {
				is_russian_tag = yes
				is_russian_breakaway_tag = yes
			}
			OR = {
				has_country_leader_ideology = vanguardism
				has_country_leader_ideology = anarchism
				has_country_leader_ideology = revolutionary_socialism #left esers in coalition with the Bolsheviks
			}
		}
	}
	option = {
		name = ww1_rus_constituent_assembly.8.b
		trigger = {
			OR = {
				is_russian_tag = yes
				is_russian_breakaway_tag = yes
			}
			is_subject = no
			NOT = {
				original_tag = FIN
				has_country_leader_ideology = vanguardism
				has_country_leader_ideology = anarchism
				has_country_leader_ideology = revolutionary_socialism #left esers in coalition with the Bolsheviks
			}
		}
	}
	option = {
		name = ww1_rus_constituent_assembly.8.c
		trigger = {
			OR = {
				AND = {
					is_russian_tag = no
					is_russian_breakaway_tag = no
				}
				is_subject = yes
				original_tag = FIN	
			}
			NOT = {
				has_country_leader_ideology = vanguardism
				has_country_leader_ideology = anarchism
				has_country_leader_ideology = revolutionary_socialism #left esers in coalition with the Bolsheviks
			}	
		}
	}
}