prolonged_bombardment = {
    track = combat_support
    name = SUBDOCTRINE_PROLONGED_BOMBARDMENT
    description = SUBDOCTRINE_PROLONGED_BOMBARDMENT_DESC
    icon = GFX_doctrine_fire_concentration_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }
    visible = {
        has_doctrine = industrial_warfare
    }

    ai_will_do = {

        base = 1
        modifier = {
            factor = 95
            original_tag = SOV
        }
    }

    # EFFECTS
    enable_tactic = tactic_overwhelming_fire

    category_artillery = {
        soft_attack = 0.1
        max_organisation = 5
    }

    rewards = {
        preliminary_bombardment = {
            category_artillery = {
                soft_attack = 0.1
            }
        }
        predicted_fire = {
            
            recon = {
                battalion_mult = {
                    category = category_artillery
                    soft_attack = 0.1
                }
                recon = 0.25
            }
        }
        creeping_barrage = {
            org_loss_when_moving = -0.2
            field_gun = {
                battalion_mult = {
                    category = category_light_infantry
                    breakthrough = 0.1
                }
            }
        }
        box_barrage = {
            category_artillery = {
                default_morale = 0.1
                breakthrough = 0.1
            }

        }
        fire_and_maneuver = {
            category_artillery = {
                soft_attack = 0.1
                breakthrough = 0.1
                maximum_speed = 0.1
            }
        }
    }
}

hurricane_bombardment = {
    track = combat_support
    name = SUBDOCTRINE_HURRICANE_BOMBARDMENT
    description = SUBDOCTRINE_HURRICANE_BOMBARDMENT_DESC
    icon = GFX_doctrine_fire_concentration_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }
    visible = {
        has_doctrine = industrial_warfare
    }

    ai_will_do = {

        base = 1
        modifier = {
            factor = 95
            original_tag = SOV
        }
    }

    # EFFECTS
    enable_tactic = tactic_overwhelming_fire
    category_artillery = {
        soft_attack = 0.1
        max_organisation = 5
    }

    rewards = {
        centralized_artillery_command = {
            coordination_bonus = 0.05
            category_artillery = {
                breakthrough = 0.1
            }
        }
        pulkowskimetoden = {
        #2
            recon = {
                battalion_mult = {
                    category = category_artillery
                    soft_attack = 0.1
                }
            }
            coordination_bonus = 0.05
        }
        surprise_bombardment = {
        #1
            category_artillery = {
                soft_attack = 0.1
            }
            enable_tactic = tactic_barrage
        }
        artillery_suppression = {
        #4
            field_gun_brigade = {
                fort = {
                    attack = 0.2
                }
            }
        }
        reinforcement_disruption = {
        #5
            coordination_bonus = 0.05
            category_artillery = {
                max_organisation = 10
            }
        }
    }
}
fire_concentration = {
    track = combat_support
    name = SUBDOCTRINE_FIRE_CONCENTRATION
    description = SUBDOCTRINE_FIRE_CONCENTRATION_DESC
    icon = GFX_doctrine_fire_concentration_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }
    visible = {
        OR = {
            has_doctrine = new_mobile_warfare
            has_doctrine = superior_firepower
            has_doctrine = grand_battleplan
            has_doctrine = mass_assault
        }
    }

    ai_will_do = {

        base = 1
        modifier = {
            factor = 75
            original_tag = SOV
        }
        modifier = {
            factor = 75
            original_tag = ENG
        }
        modifier = {
            factor = 75
            original_tag = FRA
        }   
    }

     # EFFECTS
     enable_tactic = tactic_overwhelming_fire

     field_gun_brigade = {
        combat_width = -0.8
     }
     category_line_artillery = {
        max_organisation = 5
     }

     rewards = {
        standing_barrage = {
        #1
            category_line_artillery = {
                defense = 0.1
            }
        }
        predicted_fire = {
        #2
            category_line_artillery = {
                soft_attack = 0.1
            }
        }
        artillery_groups = {
        #3
            category_line_artillery = {
                breakthrough = 0.1
                defense = 0.05
            }
        }
        dedicated_air_support = {
        #4
            category_anti_air = {
                air_attack = 0.1
            }
        }
        weakpoint_studies = {
        #5
            anti_tank_brigade = {
                ap_attack = 0.1
                hard_attack = 0.1
            }
            field_gun_brigade = {
                hard_attack = 0.1
            }
        }
    }
}

anti_tank_frontline = {
    track = combat_support
    name = SUBDOCTRINE_ANTI_TANK_FRONT
    description = SUBDOCTRINE_ANTI_TANK_FRONT_DESC
    icon = GFX_doctrine_antitank_frontline_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }
    visible = {
        OR = {
            has_doctrine = new_mobile_warfare
            has_doctrine = superior_firepower
            has_doctrine = grand_battleplan
            has_doctrine = mass_assault
        }
    }

    ai_will_do = { base = 0 }

     # EFFECTS
     

    engineer = {
        battalion_mult = {
            category = category_line_artillery
            entrenchment = 0.2
            add = yes
        }
    }

    rewards = {
        pakfront = {
        #1
            anti_tank_brigade = {
                defense = 0.2
                ap_attack = 0.1
                soft_attack = 0.2
            }
        }
        emplacement_rotation = {
        #2
            anti_tank_brigade = {
                max_organisation = 10
            }
        }
        weakpoint_studies = {
        #3
            anti_tank_brigade = {
                ap_attack = 0.1
                hard_attack = 0.1
            }
        }
        offensive_deployments = {
        #4
            mot_anti_tank_brigade = {
                breakthrough = 0.2
                ap_attack = 0.2
            }
        }
        assault_anti_tank = {
        #5
            mot_anti_tank_brigade = {
                soft_attack = 0.2
                hard_attack = 0.2
            }
        }
    }
}

mobile_recon_and_assault = {
    track = combat_support
    name = SUBDOCTRINE_MOBILE_RECON_AND_ASSAULT
    description = SUBDOCTRINE_MOBILE_RECON_AND_ASSAULT_DESC
    icon = GFX_doctrine_mobile_recon_assault_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }
    visible = {
        has_dlc = "La Resistance"
        OR = {
            has_doctrine = new_mobile_warfare
            has_doctrine = superior_firepower
            has_doctrine = grand_battleplan
            has_doctrine = mass_assault
        }
    }
    
    ai_will_do = {

        base = 1
        modifier = {
            factor = 75
            original_tag = GER
        }
        modifier = {
            factor = 75
            original_tag = USA
        }
        modifier = {
            factor = 0
            is_major = no
        }
    }
    

    armored_car = {
        max_organisation = 3
    }
    light_armor = {
        max_organisation = 5
    }

    rewards = {

        motorization_support = {
            category_mobile_and_mobile_combat_sup = {
                maximum_speed = 0.1
                default_morale = 0.2
            }

        }
        long_range_reconnaissance = {
            category_recon = {
                maximum_speed = 0.15
            }
        }
        mobile_operational_deployments = {
            light_tank_recon = {
                battalion_mult = {
                    category = category_all_armor
                    breakthrough = 0.1
                }
            }
            mot_field_gun_brigade = {
                soft_attack = 0.05
            }

        }
        self_propelled_support_elements = {
            category_self_propelled_artillery = {
                soft_attack = 0.10
            }
            category_self_propelled_anti_air= {
                air_attack = 0.15
                soft_attack = 0.05
            }
            category_tank_destroyers = {
                hard_attack = 0.1
                ap_attack = 0.03
            }
            armored_car = {
                breakthrough = 0.2
                default_morale = 0.2
            }
        }
        deep_reconnaissance_focus = {
            category_recon = {
                maximum_speed = 0.1
            }
            light_tank_recon = {
                recon = 0.2
                breakthrough = 0.1
            }
        }
    }
}

mobile_recon_and_assault_no_lar = {
    track = combat_support
    name = SUBDOCTRINE_MOBILE_RECON_AND_ASSAULT
    description = SUBDOCTRINE_MOBILE_RECON_AND_ASSAULT_DESC
    icon = GFX_doctrine_mobile_recon_assault_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }
    visible = {
        NOT = {
            has_dlc = "La Resistance"
        }
        OR = {
            has_doctrine = new_mobile_warfare
            has_doctrine = superior_firepower
            has_doctrine = grand_battleplan
            has_doctrine = mass_assault
        }
    }

    
    ai_will_do = {

        base = 1
        modifier = {
            factor = 75
            original_tag = GER
        }
        modifier = {
            factor = 75
            original_tag = USA
        }
        modifier = {
            factor = 0
            is_major = no
        }
    }
    

    light_armor = {
        max_organisation = 5
    }

    rewards = {

        motorization_support = {
            category_mobile_and_mobile_combat_sup = {
                maximum_speed = 0.1
                default_morale = 0.2
            }

        }
        long_range_reconnaissance = {
            category_recon = {
                maximum_speed = 0.15
            }
        }
        mobile_operational_deployments = {
            light_tank_recon = {
                battalion_mult = {
                    category = category_all_armor
                    breakthrough = 0.1
                }
            }
            mot_field_gun_brigade = {
                soft_attack = 0.05
            }

        }
        self_propelled_support_elements = {
            category_self_propelled_artillery = {
                soft_attack = 0.10
            }
            category_self_propelled_anti_air= {
                air_attack = 0.15
                soft_attack = 0.05
            }
            category_tank_destroyers = {
                hard_attack = 0.1
                ap_attack = 0.03
            }
        }
        deep_reconnaissance_focus = {
            category_recon = {
                maximum_speed = 0.1
            }
            light_tank_recon = {
                recon = 0.2
                breakthrough = 0.1
            }
        }
    }
}

self_propelled_support = {

    track = combat_support
    name = SUBDOCTRINE_SELF_PROPELLED_SUPPORT
    description = SUBDOCTRINE_SELF_PROPELLED_SUPPORT_DESC
    icon = GFX_doctrine_self_propelled_support_medium

    xp_cost = 100
    xp_type = army

    available = {
       
    }
    visible = {
        has_dlc = "No Compromise, No Surrender"
        OR = {
            has_doctrine = new_mobile_warfare
            has_doctrine = superior_firepower
            has_doctrine = grand_battleplan
            has_doctrine = mass_assault
        }
    }


    ai_will_do = { base = 0 }


    category_self_propelled_artillery = {
        soft_attack = 0.1
    }
    category_self_propelled_anti_air= {
        air_attack = 0.1
    }
    category_tank_destroyers = {
        hard_attack = 0.05
    }


    rewards = {

        mobile_battery_management_platoons = {
            category_self_propelled_artillery = {
                max_organisation = 10
            }
            category_self_propelled_anti_air= {
                max_organisation = 10
            }
            category_tank_destroyers = {
                max_organisation = 10
            }
        }
        screening_attacks = {
            
            recon = {
                battalion_mult = {
                    category = category_self_propelled_artillery
                    soft_attack = 0.1
                    default_morale = 0.2
                }
            }
            mot_recon = {
                battalion_mult = {
                    category = category_self_propelled_artillery
                    soft_attack = 0.1
                    default_morale = 0.2
                }
            }
            light_tank_recon = {
                battalion_mult = {
                    category = category_self_propelled_artillery
                    soft_attack = 0.1
                    default_morale = 0.2
                }
            }
        }
        all_terrain_mobility = {
            category_self_propelled_artillery = {
                maximum_speed = 0.3
            }
            category_self_propelled_anti_air = {
                maximum_speed = 0.3
            }
            category_tank_destroyers = {
                maximum_speed = 0.3
            }
        }
        multirole_support_vehicles = {
            category_self_propelled_artillery = {
                hard_attack = 0.05
            }
            category_self_propelled_anti_air = {
                soft_attack = 0.1
                hard_attack = 0.05
            }
            category_tank_destroyers = {
                soft_attack = 0.1
            }
        }
        shoot_and_scoot = {
            category_self_propelled_artillery = {
                max_organisation = 10
                default_morale = 0.4
            }
            category_self_propelled_anti_air = {
                max_organisation = 10
                default_morale = 0.4
            }
            category_tank_destroyers = {
                max_organisation = 10
                hard_attack = 0.15
                default_morale = 0.4
            }
        }

    }

    
}

siege_artillery = {
    track = combat_support
    name = SUBDOCTRINE_SIEGE_ARTILLERY
    description = SUBDOCTRINE_SIEGE_ARTILLERY_DESC
    icon = GFX_doctrine_siege_artillery_medium

    xp_cost = 100
    xp_type = army

    available = {
        is_special_project_completed = sp:sp_land_super_heavy_howitzer

    }
    visible = {
        has_dlc = "Gotterdammerung"
        OR = {
            has_doctrine = new_mobile_warfare
            has_doctrine = superior_firepower
            has_doctrine = grand_battleplan
            has_doctrine = mass_assault
        }
    }

    ai_will_do = { base = 0 }

    super_heavy_artillery = {
        battalion_mult = {
            category = category_army
            soft_attack = 0.1
            defense = 0.1
        }
    }

    equipment_bonus = {
        railway_gun_equipment = {
            railway_gun_attack = 0.25
            instant = yes
        }
        super_heavy_railway_gun_equipment = {
            railway_gun_attack = 0.25
            instant = yes
        }
    }

    rewards = {

        fortress_busters = {
            super_heavy_artillery = {
                fort = {
                    attack = 0.25
                }
            }
            howitzer_brigade = {
                fort = {
                    attack = 0.25
                }
            }
        }
        improved_transport_preparation = {
            category_line_artillery = {
                default_morale = 0.2
            }
            super_heavy_artillery = {
                plains = {
                    movement = 0.1
                }
            }
            howitzer_brigade = {
                plains = {
                    movement = 0.1
                }
            }

            equipment_bonus = {
                railway_gun_equipment = {
                    railway_gun_hours_between_redistribution = -0.5
                    instant = yes
                }
                super_heavy_railway_gun_equipment = {
                    railway_gun_hours_between_redistribution = -0.5
                    instant = yes
                }
                
            }
        }
        precomputed_firing_data = {
            super_heavy_artillery = {
                max_organisation = 10
                defense = 0.2
            }
            howitzer_brigade = {
                max_organisation = 10
                defense = 0.2
            }

        }
        urban_strongpoint_sieges = {

            category_artillery = {
                soft_attack = 0.05
            }
            super_heavy_artillery = {
                urban = {
                    attack = 0.2
                }
            }
            howitzer_brigade = {
                urban = {
                    attack = 0.2
                }
            }
        }
        mobile_artillery_command = {
            category_support_artillery = {
                max_organisation = 10
            }
            howitzer_brigade = {
                max_organisation = 10
                maximum_speed = 0.5
            }

            equipment_bonus = {
                railway_gun_equipment = {
                    maximum_speed = 1
                    instant = yes
                }
                super_heavy_railway_gun_equipment = {
                    maximum_speed = 1
                    instant = yes
                }

            }
        }
    }
}

field_engineering = {
    track = combat_support
    name = SUBDOCTRINE_FIELD_ENGINEERING
    description = SUBDOCTRINE_FIELD_ENGINEERING_DESC
    icon = GFX_doctrine_field_engineering_medium

    xp_cost = 100
    xp_type = army

    available = {
        always = yes
    }
    visible = {
        OR = {
            has_doctrine = new_mobile_warfare
            has_doctrine = superior_firepower
            has_doctrine = grand_battleplan
            has_doctrine = mass_assault
        }
    }

    ai_will_do = { 
        base = 1
        modifier = {
            factor = 75
            original_tag = ITA
        }
        modifier = {
            factor = 75
            original_tag = JAP
        }
    }

    engineer = {
        river = {
            movement = 0.2
        }
        forest = {
            movement = 0.2
        }
    }
    assault_engineer = {
        river = {
            movement = 0.2
        }
        forest = {
            movement = 0.2
        }
    }
    pioneer_support = {
        river = {
            movement = 0.2
        }
        forest = {
            movement = 0.2
        }
    }

    rewards = {
        rapid_fire_lane_clearance = {
            engineer = {
                max_organisation = 5
                battalion_mult = {
                    category = category_all_infantry
                    entrenchment = 0.02
                }
            }
            maintenance_company = {
                max_organisation = 5
            }
            
        }
        sapper_fieldcraft = {
            engineer = {
                max_strength = 0.25
                defense = 0.1
            }
            maintenance_company = {
                max_strength = 0.25
            }
        }
        engineerdug_gun_emplacements = {
            engineer = {
                battalion_mult = {
                    category = category_artillery
                    soft_attack = 0.1
                    defense = 0.1
                }
                battalion_mult = {
                    category = category_all_infantry
                    soft_attack = 0.05
                }
            }
        }
        smoke_projector_training = {
            engineer = {
                breakthrough = 0.5
            }
            maintenance_company = {
                supply_consumption = -0.01
                battalion_mult = {
                    category = category_tanks
                    reliability = 0.05
                    strength = 0.05
                }
            }

        }
        charge_and_flame = {
            engineer = {
                max_organisation = 5
                soft_attack = 0.05
                hard_attack = 1  
            }
            maintenance_company = {
                max_organisation = 5
            }
        }

    }
}
