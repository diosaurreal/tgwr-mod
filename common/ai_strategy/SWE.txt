SWE_great_war_neutrality = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		has_global_flag = great_war
		NOT = {
			has_war_with = ENT
			has_war_with = GER
			is_in_faction_with = ENT
			is_in_faction_with = GER
			has_global_flag = great_war_ends
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = "GER"
		value = -1000
	}
	ai_strategy = {
		type = alliance
		id = "ENT"
		value = -1000
	}
}

SWE_decisions_before_ideas = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		date < 1915.1.1
	}
	abort = {
		OR = {
			has_war = yes
			date > 1916.1.1
		}
	}
	
	ai_strategy = {
		type = pp_spend_amount
		id = decision
		value = 50
	}
}

SWE_ignore_sweden = {
	allowed = {
		OR = {
			original_tag = GER
			original_tag = FRA
		}
	}
	enable = {
		has_global_flag = great_war
		NOT = {
			has_global_flag = great_war_ends
			# has_completed_focus = GER_pressure_on_scandinavia
		}
		SWE = {
			NOT = {
				is_in_faction_with = ROOT
				has_war_with = ROOT
				is_subject_of = ROOT
			}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = alliance
		id = "SWE"
		value = -1000
	}
}

SWE_research_the_type_l = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		has_completed_focus = SWE_establishment_of_airforce
	}
	abort = {
		has_tech = fighter1
	}
	
	ai_strategy = {
		type = research_weight_factor
		id = scout_plane2
		value = 250
	}
	ai_strategy = {
		type = research_weight_factor
		id = fighter1
		value = 100
	}
}

SWE_resource_market_techs = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		has_idea = free_trade
		date > 1914.1.1
	}
	abort = {
		OR = {
			has_tech = excavation2
			any_neighbor_country = {
				is_subject = no
				has_war = yes
			}
		}
	}
	
	ai_strategy = {
		type = research_weight_factor
		id = excavation1
		value = 100
	}
	ai_strategy = {
		type = research_weight_factor
		id = stainless_steel
		value = 100
	}
	ai_strategy = {
		type = research_weight_factor
		id = excavation2
		value = 100
	}
}

SWE_war_not_yet = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		has_war = no
		is_in_faction = no
		OR = {
			AND = {
				has_government = democratic
				has_war_support < 0.4
			}
			has_government = communism
		}
		NOT = {
			has_global_flag = great_war
		}
		NOT = {
			has_global_flag = great_war_ends
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = -25
	}
}

SWE_wartime_preparations_mil = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		has_idea = SWE_swedish_rearmament
	}
	abort = {
		OR = {
			NOT = { has_idea = SWE_swedish_rearmament }
			has_war = yes
		}
	}
	
	ai_strategy = {
		type = added_military_to_civilian_factory_ratio
		value = 25
	}
	ai_strategy = {
		type = dockyard_to_military_factory_ratio
		value = 10
	}
	ai_strategy = {
		type = equipment_stockpile_surplus_ratio
		value = 10
	}
}

SWE_build_up_army_for_preparations = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		OR = {
			has_completed_focus = SWE_pro_entente_stance
			has_completed_focus = SWE_strengthen_german_relations
			is_in_faction = yes
		}
		threat > 0.3
	}
	abort = {
		OR = {
			has_global_flag = great_war_ends
			has_army_manpower = { size > 39999 }	# Just keep a smaller-ish army
		}
	}
	
	ai_strategy = {
		type = build_army
		id = infantry
		value = 500
	}
	ai_strategy = {
		type = force_build_armies
		value = 100
	}
	ai_strategy = {
		type = role_ratio
		id = infantry
		value = 100
	}
}
# This is to help Sweden resource a bit more
SWE_improve_infra_in_capital = {	# Improve infra in Capital
	allowed = {
		original_tag = SWE
	}
	enable = {
		OR = {
			has_completed_focus = SWE_investera_i_framtiden
			has_completed_focus = SWE_infrastructure_projects
		}
		141 = {
			is_controlled_by = SWE
			free_building_slots = {
				building = infrastructure
				size > 0
			}
		}
	}
	abort = {
		OR = {
			has_war = yes
			141 = {
				OR = {
					NOT = { is_controlled_by = SWE }
					free_building_slots = {
						building = infrastructure
						size < 0
					}
				}
			}
		}
	}
	
	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 141
		value = 5
	}
}
SWE_improve_infra_in_lappland = {	# Go for more exports
	allowed = {
		original_tag = SWE
	}
	enable = {
		has_completed_focus = SWE_resource_market
		666 = {
			is_controlled_by = SWE
			free_building_slots = {
				building = infrastructure
				size > 0
			}
		}
	}
	abort = {
		OR = {
			has_war = yes
			666 = {
				OR = {
					NOT = { is_controlled_by = SWE }
					free_building_slots = {
						building = infrastructure
						size < 0
					}
				}
			}
		}
	}
	
	ai_strategy = {
		type = build_building
		id = infrastructure
		target = 666
		value = 5
	}
}

# Historical
SWE_simulate_mild_early_paranoia = {
	allowed = {
		tag = SWE	
	}
	enable = {
		date < 1915.1.1
		is_in_faction = no
		RUS = {
			exists = yes
			has_subject = FIN
			has_war_with = GER
			NOT = { is_in_faction_with = GER }
			NOT = { has_country_flag = great_war_loser }
		}
		NOT = { has_global_flag = great_war_ends }
		has_active_mission = before_the_leaves_fall
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = RUS
		value = 50
	}
	ai_strategy = {
		type = front_unit_request
		tag = FIN
		value = 50
	}
}


# Central Powers
SWE_prepare_against_russia = {
	allowed = {
		tag = SWE	
	}
	enable = {
		has_completed_focus = SWE_prepare_entry_into_the_conflicts
		RUS = {
			exists = yes
			NOT = { is_in_faction_with = GER }
			NOT = { has_country_flag = great_war_loser }
		}
		NOT = { has_global_flag = great_war_ends }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = RUS
		value = 100
	}
}
SWE_prepare_against_russian_finland = {
	allowed = {
		tag = SWE	
	}
	enable = {
		has_completed_focus = SWE_prepare_entry_into_the_conflicts
		RUS = {
			exists = yes
			NOT = { is_in_faction_with = GER }
			NOT = { has_country_flag = great_war_loser }
			has_subject = FIN
		}
		NOT = { has_global_flag = great_war_ends }
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = FIN
		value = 100
	}
}


### Foreign stuff
SWE_were_not_part_of_western_front_for_now = {	# It's okay guys, we're with you in spirit! or until we fixed our food issue maybe
	allowed = {
		original_tag = SWE
	}
	enable = {
		is_in_faction_with = FRA
		date < 1917.1.1
	}
	abort = {
		surrender_progress < 0.2
		OR = {
			FRA = { surrender_progress > 0.2 }
			date > 1917.1.1
		}
	}
	
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "BEL"
		value = 1000
	}
	ai_strategy = {
		type = ignore
		id = "BEL"
		value = 1000
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "HOL"
		value = 1000
	}
	ai_strategy = {
		type = ignore
		id = "HOL"
		value = 1000
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "LUX"
		value = 1000
	}
	ai_strategy = {
		type = ignore
		id = "LUX"
		value = 1000
	}
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "FRA"
		value = 500
	}
	ai_strategy = {
		type = ignore
		id = "FRA"
		value = 50
	}
}

SWE_norway_is_safe = {
	allowed = {
		tag = SWE	
	}
	enable = {
		NOT = {
			has_war_with = NOR
			NOR = {
				is_in_faction = yes
			}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = NOR
		value = -100
	}
}
SWE_denmark_is_safe = {
	allowed = {
		tag = SWE	
	}
	enable = {
		NOT = {
			has_war_with = DEN
			DEN = {
				is_in_faction = yes
			}
		}
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = front_unit_request
		tag = DEN
		value = -100
	}
}


SWE_never_ever_help_the_russians = {	# Sweden at the time wasn't very keen on fighting side-by-side with Russia
	allowed = {
		original_tag = SWE
	}
	enable = {
		is_in_faction_with = RUS
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = dont_defend_ally_borders
		id = "RUS"
		value = 10000
	}
	ai_strategy = {
		type = ignore
		id = "RUS"
		value = 10000
	}
}

## Equipment Stuff
SWE_get_french_stuff = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		is_in_faction = no
		has_completed_focus = SWE_the_type_l
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = equipment_market_trade_desire
		id = FRA
		value = 60
	}
}

SWE_get_german_stuff = {
	allowed = {
		original_tag = SWE
	}
	enable = {
		is_in_faction = no
		has_completed_focus = SWE_imitate_german_success
	}
	abort_when_not_enabled = yes
	
	ai_strategy = {
		type = equipment_market_trade_desire
		id = GER
		value = 60
	}
}