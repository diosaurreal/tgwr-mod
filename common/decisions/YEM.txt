operations = {
	YEM_annex_BID = {
		icon = border_war
		allowed = {
			original_tag = YEM
		}
		target_trigger = {
			FROM = {
				tag = BID
				owns_state = 930
			}
		}
		war_with_target_on_remove = yes
		visible = {
			is_neighbor_of = FROM
			NOT = { has_war_with = FROM }
			659 = { is_owned_and_controlled_by = ROOT }
		}
		highlight_states = { highlight_state_targets = { state = 930 } }
		available = {
			FROM = {
				is_neighbor_of = ROOT
				NOT = { 
					has_war_with = ROOT
				}
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
			}
			654 = { is_owned_and_controlled_by = ROOT }
			659 = { is_owned_and_controlled_by = ROOT }
		}
		available = {
			NOT = {
				has_active_mission = frankfurt_conference
				has_active_mission = versallies_conference
			}
		}
		cancel_trigger = {
			OR = {
				has_active_mission = frankfurt_conference
				has_active_mission = versallies_conference
			}
		}
		fire_only_once = no
		days_remove = 45
		cancel_if_not_visible = yes
		war_with_on_remove = BID
		remove_effect = {
			if = {
				limit = { has_subject = FROM }
				annex_country = {
					target = FROM
					transfer_troops = yes
				}
			}
			else = {
				declare_war_on = {
					target = FROM
					type = annex_everything
				}
			}
			hidden_effect = {
				FROM = {
					if = {
						limit = {
							has_idea = standing_alone
						}
						remove_ideas = standing_alone
					}
				}		
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio < 1
				}
				NOT = {
					has_subject = FROM
				}
			}
			modifier = {
				factor = 0
				FROM = {
					is_subject = yes
					NOT = {
						is_subject_of = ROOT
						OVERLORD = {
							has_war_with = ROOT
						}
					}
				}
			}
		}
	}
	YEM_annex_NAJ = {
		icon = border_war
		allowed = {
			original_tag = YEM
		}
		target_trigger = {
			FROM = {
				tag = NAJ
				owns_state = 929
			}
		}
		war_with_target_on_remove = yes
		visible = {
			293 = { is_owned_and_controlled_by = ROOT }
			NOT = {
				has_war_with = FROM
				has_country_flag = yemeni_attempt_to_annex_najran
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 929
			}
		}
		available = {
			is_subject = no
			FROM = {
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
				929 = { is_owned_and_controlled_by = PREV }
			}
			NOT = {
				has_idea = idea_army_restrictions
				has_active_mission = frankfurt_conference
				has_active_mission = versallies_conference
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					is_subject = yes
					NOT = { is_subject_of = ROOT }
				}
				NOT = { 929 = { is_owned_and_controlled_by = FROM } }
			}
		}
		cancel_if_not_visible = yes
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				date < 1924.1.1
			}
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio > 1.0
				}
			}
		}
		fire_only_once = no
		days_remove = 70
		remove_effect = {
			set_country_flag = yemeni_attempt_to_annex_najran
			add_state_core = 929
			if = {
				limit = {
					has_subject = FROM
				}
				end_puppet = FROM
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 293
					num_provinces = 1
					on_win = ww1_yemen.2
					on_lose =  ww1_yemen.3
				}
				defender = {
					state = 929
					num_provinces = 2
					on_win =  ww1_yemen.4
					on_lose =  ww1_yemen.5
				}
			}
		}
	}
	YEM_annex_NAJ_second = {
		name = YEM_annex_NAJ
		icon = border_war
		allowed = {
			original_tag = YEM
		}
		target_trigger = {
			FROM = {
				owns_state = 929
			}
		}
		war_with_target_on_remove = yes
		visible = {
			293 = { is_owned_and_controlled_by = ROOT }
			OR = {
				has_country_flag = yemeni_attempt_to_annex_najran
				930 = { is_owned_and_controlled_by = FROM }
			}
			NOT = {
				has_border_war_with = FROM
				has_war_with = FROM
			}
		}
		highlight_states = {
			highlight_state_targets = {
				state = 929
			}
		}
		available = {
			has_war = no
			is_subject = no
			FROM = {
				OR = {
					is_subject = no
					is_subject_of = ROOT
				}
			}
			NOT = {
				has_idea = idea_army_restrictions
				has_active_mission = frankfurt_conference
				has_active_mission = versallies_conference
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					is_subject = yes
					NOT = { is_subject_of = ROOT }
				}
				has_idea = idea_army_restrictions
			}
		}
		cancel_if_not_visible = yes
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				date < 1931.9.1
			}
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FROM
					ratio > 1.0
				}
			}
		}
		fire_only_once = no
		days_remove = 70
		remove_effect = {
			add_state_core = 929
			if = {
				limit = {
					has_subject = FROM
				}
				end_puppet = FROM
			}
			declare_war_on = {
				target = FROM
				type = annex_everything
			}
		}
	}
}