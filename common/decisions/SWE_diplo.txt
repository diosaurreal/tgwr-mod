foreign_politics = {
	SWE_neutrality_of_sweden_mission = {
		allowed = {
			always = no
		}
		available = {
			OR = {
				has_war = yes
				is_in_faction = yes
				has_global_flag = great_war_ends
			}
		}
		
		fire_only_once = yes
		
		days_mission_timeout = 30
		
		complete_effect = {
			set_country_flag = end_of_neutrality_opposition
		}
		
		timeout_effect = {
			if = {
				limit = {
					has_country_flag = pause_between_neutrality_events
				}
				custom_effect_tooltip = neutrality_peace_achieved_temp_tt
			}
			else = {
				SWE_random_neutrality_event_effect = yes
			}
			activate_mission = SWE_neutrality_of_sweden_mission
		}
	}
	SWE_join_the_great_war_ger = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_prepare_entry_into_the_conflicts
			is_in_faction = no
			NOT = { has_global_flag = great_war_ends }
		}
		available = {
			has_war = no
			is_subject = no
			has_stability > 0.25
			has_war_support > 0.4
			is_great_war_ongoing = yes
			GER = { surrender_progress < 0.1 }
			OR = {
				custom_trigger_tooltip = {
					tooltip = finland_has_risen_up_against_russia_tt
					FIN = {
						has_war_with = RUS
						surrender_progress < 0.15
						NOT = { has_war_with = GER }
						NOT = { has_war_with = ROOT }
					}
				}
				custom_trigger_tooltip = {
					tooltip = germany_has_taken_out_russia_or_france_tt
					OR = {
						FRA = {
							has_country_flag = great_war_loser
						}
						FRA = {
							has_country_flag = FRA_surrender_alone
						}
						RUS = {
							has_country_flag = great_war_loser
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = russia_has_been_pushed_back_or_revolution_tt
					AND = {
						GER = { has_war_with = RUS }
						OR = {
							RUS = {
								surrender_progress > 0.3
							}
							AND = {
								has_global_flag = october_revolution
								SOV = { has_war_with = GER }
							}
						}
					}
				}
				# Pushed far enough into Russian land
				AND = {
					has_country_leader = {
						character = SWE_sven_hedin
						ruling_only = yes
					}
					has_completed_focus = SWE_military_control
					has_war_support > 0.7
				}
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				has_global_flag = great_war_ends
			}
		}
		
		fire_only_once = yes
		
		days_remove = 14
		
		remove_effect = {
			add_political_power = -50
			if = {
				limit = {
					GER = {
						is_ai = yes
					}
				}
				GER = {
					add_to_faction = SWE
				}
			}
			else = {
				GER = {
					country_event = { id = generic.2 }
				}
			}
			if = {
				limit = { GER = { has_war_with = RUS } }
				add_to_war = {
					targeted_alliance = GER
					enemy = RUS
				}
			}
			else_if = {	# For now
				limit = { GER = { has_war_with = SOV } }
				add_to_war = {
					targeted_alliance = GER
					enemy = SOV
				}
			}
			if = {
				limit = {
					GER = {
						NOT = { has_war_with = RUS }
						NOT = { has_war_with = SOV }
					}
				}
				if = {
					limit = { GER = { has_war_with = FRA } }
					add_to_war = {
						targeted_alliance = GER
						enemy = FRA
					}
				}
				else_if = {
					limit = { GER = { has_war_with = ENG } }
					add_to_war = {
						targeted_alliance = GER
						enemy = ENG
					}
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {	# For now won't join war unless Germany is at war with Russia
				add = 1
				OR = {
					GER = { has_war_with = RUS }
					GER = { has_war_with = SOV }
				}
			}
		}
	}
	SWE_support_entente_volunteer_regiments = {
		allowed = {
			tag = SWE
		}
		visible = {
			has_completed_focus = SWE_offer_indirect_aid
			NOT = { has_global_flag = great_war_ends }
		}
		available = {
			has_manpower > 1000
			is_in_faction = no
			FROM = {
				exists = yes
				has_war_with = GER
				is_in_faction_with = FRA
				has_capitulated = no
				NOT = {
					# war participants must get affected
					has_active_mission = versallies_conference
					has_active_mission = frankfurt_conference
					# you lost the war
					has_country_flag = great_war_loser
				}
			}
			is_great_war_ongoing = yes
		}
		
		cost = 25
		fire_only_once = yes
		
		target_trigger = {
			FROM = {
				OR = {
					tag = ENG
					tag = NOR
					tag = DEN
					tag = ICE
					tag = AST
					tag = CAN
				}
			}
		}
		target_non_existing = yes
		
		days_remove = 14
		
		complete_effect = {
			add_manpower = -700
		}
		
		remove_effect = {
			army_experience = 2
			FROM = {
				# Event notifying about Swedish volunteers
				country_event = { id = ww_sverige.32 }
				effect_tooltip = { add_manpower = 700 }
			}
			# Maybe have variable keeping track of decision
				# And once great war is over return a % of manpower
					# If lost a lower %
					# also give some army exp
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				add = 1
				FROM = {
					is_neighbor_of = ROOT
				}
			}
			modifier = {
				add = 1
				FROM = {
					has_manpower < 49999
				}
			}
			modifier = {
				factor = 2
				FROM = { tag = ENG }
			}
		}
	}
	# Decision to help organise 1 proper regiment in France/UK
		# This will possibly give them a small infantry-only regiment?
	SWE_exportforbjud = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_idea = SWE_hungerskjold
			NOT = { has_idea = SWE_exportforbjud }
		}
		available = {
			has_war_support > 0.1
			has_stability < 0.8
		}
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { has_idea = SWE_hungerskjold }
				#	is_in_faction = yes
				}
			}
		}
		cost = 50
		fire_only_once = yes
		
		complete_effect = {
			add_war_support = -0.05
			add_ideas = SWE_exportforbjud
			if = {
				limit = { has_idea = free_trade }
				add_ideas = export_focus
			}
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				add = 1
				has_stability < 0.6
			}
			modifier = {
				add = 1
				has_stability < 0.5
			}
			modifier = {
				add = 1
				has_stability < 0.4
			}
			modifier = {
				add = 1
				has_stability < 0.3
			}
			modifier = {
				add = 1
				has_stability < 0.2
			}
			modifier = {
				factor = 2
				date > 1915.1.1
			}
			modifier = {
				factor = 2
				date > 1915.6.1
			}
			modifier = {
				factor = 2
				date > 1916.1.1
			}
			modifier = {
				factor = 2
				date > 1916.6.1
			}
			modifier = {
				factor = 0.5
				has_war = yes
			}
			modifier = {
				factor = 10
				has_global_flag = great_war_ends
			}
		}
	}
	SWE_end_exportforbjud = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_idea = SWE_exportforbjud
		}
		available = {
			has_civil_war = no
			NOT = { has_idea = SWE_hungerskjold }
		}
		
		cost = 25
		days_remove = 7
		fire_only_once = yes
		
		remove_effect = {
			remove_ideas = SWE_exportforbjud
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				factor = 100
				has_global_flag = great_war_ends
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}
	}
	SWE_iniate_food_corridor_plan = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_entente_corridor_for_food_security
			country_exists = ENG
		}
		available = {
			has_idea = SWE_hungerskjold
			NOT = { has_war_with = ENG }
			# Check if 'corridor' is safe
				# Finland/Russia requires port in upper parts of Europe around Nordic
				# Norway requires them to not be with Germany
		}
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { has_idea = SWE_hungerskjold }
					ENG = {
						OR = {
							is_subject = yes
							has_country_flag = great_war_loser
							has_war_with = ROOT
						}
					}
					NOT = {
						country_exists = ENG
					}
				}
			}
		}
		cost = 50
		
		days_re_enable = 7
		
		days_remove = 14
		
		remove_effect = {
			add_ideas = SWE_food_corridor
			# Gives national spirit costing some pp overtime for a time to represent food corridor being set up
				# Given to whoever is worked with
		}
		
		ai_will_do = {
			base = 10
		}
	}
	SWE_secure_entente_trade_agreements = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_idea = SWE_hungerskjold
			country_exists = ENG
			NOT = { has_idea = SWE_entente_trade_agreement }
		}
		available = {
			OR = {
				is_in_faction = no
				is_in_faction_with = ENG
			}
			OR = {
				is_subject = no
				is_subject_of = ENG
			}
			NOT = { has_war_with = ENG }
			has_completed_focus = SWE_work_with_great_powers
			NOT = {
				has_country_leader = {
					character = SWE_hjalmar_hammarskjold
					ruling_only = yes
				}
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { has_idea = SWE_hungerskjold }
					ENG = {
						OR = {
							is_subject = yes
							has_country_flag = great_war_loser
							has_war_with = ROOT
						}
					}
					NOT = {
						country_exists = ENG
					}
				}
			}
		}
		cost = 50
		
		days_re_enable = 7
		
		complete_effect = {
			ENG = {
				country_event = { id = ww_sverige.104 }
			}
			custom_effect_tooltip = agree_effect_tooltip
			effect_tooltip = {
				add_political_power = -50
				add_stability = 0.10
				add_ideas = SWE_entente_trade_agreement
			}
			custom_effect_tooltip = disagree_effect_tooltip
			effect_tooltip = {
				add_political_power = -25
				add_stability = 0.025
			}
		}
		
		ai_will_do = {
			base = 10
			modifier = {
				factor = 0.5
				has_stability > 0.6
			}
			modifier = {
				factor = 0
				date < 1914.6.1
			}
		}
	}
	SWE_secure_central_powers_trade_agreements = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_idea = SWE_hungerskjold
			country_exists = GER
			NOT = { has_idea = SWE_cp_trade_agreement }
		}
		available = {
			OR = {
				is_in_faction = no
				is_in_faction_with = GER
			}
			OR = {
				is_subject = no
				is_subject_of = GER
			}
			NOT = { has_war_with = GER }
			has_completed_focus = SWE_work_with_great_powers
		}
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { has_idea = SWE_hungerskjold }
					GER = {
						OR = {
							is_subject = yes
							has_country_flag = great_war_loser
							has_war_with = ROOT
						}
					}
					NOT = {
						country_exists = GER
					}
				}
			}
		}
		cost = 50
		
		days_re_enable = 7
		
		complete_effect = {
			GER = {
				country_event = { id = ww_sverige.104 }
			}
			custom_effect_tooltip = agree_effect_tooltip
			effect_tooltip = {
				add_political_power = -50
				add_stability = 0.10
				add_ideas = SWE_cp_trade_agreement
			}
			custom_effect_tooltip = disagree_effect_tooltip
			effect_tooltip = {
				add_political_power = -25
				add_stability = 0.025
			}
		}
		
		ai_will_do = {
			base = 10
			modifier = {
				factor = 0.5
				has_stability > 0.6
			}
			modifier = {
				factor = 0
				date < 1914.6.1
			}
		}
	}
	# Agreement Between Great Britain and Sweden Relating to the Suppression of the Capitulations in Egypt
		# Only if Sweden didn't go  to war with UK and UK has egypt
	# Other
	SWE_call_for_support_of_russian_democracy = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_address_the_russian_revolution
			NOT = {
				has_completed_focus = SWE_ties_with_revolution
			}
		}
		available = {
			OR = {
				RUS = {
					exists = yes
					has_government = democratic
				}
				USS = {
					exists = yes
					has_government = democratic
				}
			}
			OR = {
				has_completed_focus = SWE_condemn_the_bolshevik
				has_completed_focus = SWE_careful_approach_to_russia
			}
		}
		
		cost = 10
		
		fire_only_once = yes
		
		complete_effect = {
			
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_completed_focus = SWE_condemn_the_bolshevik
			}
		}
	}
}
operations = {
	SWE_join_german_war_effort_over_aland = {
		priority = 100
		icon = generic_civil_support
		
		allowed = {
			always = no
		}
		available = {
			OR = {
				has_country_leader_ideology = conservatism
				NOT = { has_government = democratic }
			}
			has_civil_war = no
			is_subject = no
			has_war_support > 0.6
			GER = { surrender_progress < 0.1 }
			RUS = {
				has_war_with = GER
				NOT = { has_war_with = ROOT }
				NOT = { has_country_flag = great_war_loser }
			}
			NOT = { has_global_flag = great_war_ends }
		}
		visible = {
			original_tag = SWE
			GER = {
				exists = yes
				is_faction_leader = yes
				NOT = { has_country_flag = great_war_loser }
			}
			145 = {
				controller = {
					OR = {
						tag = RUS
						is_subject_of = RUS
					}
				}
			}
			is_great_war_ongoing = yes
		}
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					GER = {
						has_country_flag = great_war_loser
					}
					has_global_flag = great_war_ends
				}
			}
		}
		
		fire_only_once = yes
		
		days_remove = 21
		
		war_with_target_on_remove = yes
		
		remove_effect = {
			GER = {
				add_to_faction = ROOT
			}
			if = {
				limit = { GER = { has_war_with = RUS } }
				add_to_war = {
					targeted_alliance = GER
					enemy = RUS
					hostility_reason = asked_to_join
				}
			}
		}
	}
	SWE_intervention_in_finland = {
		priority = 100
		icon = generic_civil_support
		
		allowed = {
			always = no
		}
		available = {
			FIN = {
				NOT = {
					any_enemy_country = {
						original_tag = FIN
					}
				}
			}
		}
		visible = {
			original_tag = SWE
		}
		
		fire_only_once = yes
		
		days_mission_timeout = 40
		
		timeout_effect = {
			add_timed_idea = {
				idea = SWE_bogged_down_in_finland
				days = 70
			}
			# If Sweden is socialist:
				# Germany will threaten intervention (if they won war)
				# UK will pressure to end war (if they won war)
				# You can chose to back down and thus pull out all troops from Finland
				# Or not and sanctions/invasion will occur from Germany/UK
					# UK can try and pull in Russia if they aren't communist
			# If Sweden is not:
				# Protests about the war will occur and instead an armistice will occur between the countries
				# Sweden will be forced to pull out their soldiers due to public backlash
			if = {
				limit = {
					has_government = communism
				}
				if = {
					limit = {
						ENG = {
							NOT = { has_government = communism }
							NOT = { has_country_flag = great_war_loser }
						}
					}
					ENG = {
						country_event = { id = ww_sverige_general.1604 days = 1 }
					}
				}
				else_if = {
					limit = {
						GER = {
							NOT = { has_government = communism }
							NOT = { has_country_flag = great_war_loser }
						}
					}
					GER = {
						country_event = { id = ww_sverige_general.1604 days = 1 }
					}
				}
			}
			else = {
				if = {
					limit = {
						ENG = {
							NOT = { has_country_flag = great_war_loser }
						}
					}
					ENG = {
						country_event = { id = ww_sverige_general.1604 days = 1 }
					}
				}
				else_if = {
					limit = {
						GER = {
							has_government = communism
						}
						has_global_flag = great_war_ends
					}
					GER = {
						country_event = { id = ww_sverige_general.1604 days = 1 }
					}
				}
			}
			country_event = { id = ww_sverige_general.1603 }
		}
		
		complete_effect = {
			custom_effect_tooltip = will_allow_follow_up_event_with_finland_tt
			if = {
				limit = {
					any_other_country = {
						exists = yes
						original_tag = FIN
						NOT = { has_country_flag = supported_by_swe }
					}
				}
				every_other_country = {
					limit = {
						exists = yes
						original_tag = FIN
						has_war_with = SWE
					}
					white_peace = SWE
				}
				# Peace time
			}
			else = {
				country_event = { id = ww_sverige_general.13 }
			}
		}
	}
	# Should be unlocked through event about outbreak of civil war
		# You get choice:
			# To directly intervene (but you have to be quick to avoid international backlash)
			# Aid civilians (will allow you too safey transport people out of country through specific places)
	SWE_occupation_of_aland = {
		allowed = {
			original_tag = SWE
		}
		
		available = {
			has_war = no
			NOT = {
				has_government = communism
			}
			NOT = {
				has_idea = idea_army_restrictions
				has_idea = idea_armistice
			}
			NOT = { has_country_flag = great_war_loser }
		}
		
		fire_only_once = yes
		
		visible = {
			FIN = {
				exists = yes
			}
			OR = {
				has_global_flag = finnish_civil_war
				FIN = { has_civil_war = yes }
			}
			any_other_country = {
				original_tag = FIN
				NOT = { is_subject_of = ROOT }
				owns_state = 145
			}
			NOT = { has_country_flag = great_war_loser }
		}
		
		custom_cost_trigger = {
			command_power > 49
			has_navy_experience > 24
		}
		custom_cost_text = decision_cost_CP_50_navy_25
		
		days_remove = 14
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				navy_experience = -25
			}
		}
		remove_effect = {
			transfer_state = 145
			set_country_flag = SWE_aland
			add_named_threat = {
				name = SWE_aland
				threat = 1
			}
		}
		
		ai_will_do = {
			base = 0
		}
	}
	SWE_intervene_in_finnish_civil_war = {
		allowed = {
			always = no
		}
		
		available = {
			has_civil_war = no
			has_war_support > 0.7
			FIN = { is_neighbor_of = ROOT }
			NOT = {
				has_idea = idea_army_restrictions
				has_idea = idea_armistice
			}
			NOT = { has_country_flag = great_war_loser }
		}
		
		fire_only_once = yes
		
		visible = {
			FIN = {
				exists = yes
			}
			OR = {
				has_global_flag = finnish_civil_war
				FIN = { has_civil_war = yes }
			}
			OR = {
				NOT = { has_government = communism }
				any_other_country = {
					original_tag = FIN
					has_government = communism
				}
			}
			NOT = { has_country_flag = great_war_loser }
		}
		
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
		}
		custom_cost_text = decision_cost_CP_50_pp_50
		
		days_remove = 21
		war_with_target_on_remove = yes
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				add_political_power = -50
				random_other_country = {
					limit = {
						NOT = { tag = FROM }
						original_tag = FIN
					}
					save_event_target_as = finland_friend_of_sweden
					set_country_flag = supported_by_swe
				}
			}
		}
		remove_effect = {
			add_threat = 1
			set_country_flag = swe_intervene_in_finland_cw
			random_other_country = {
				limit = {
					NOT = { has_country_flag = supported_by_swe }
					original_tag = FIN
				}
				save_event_target_as = finland_friend_of_sweden
				set_country_flag = supported_by_swe
				ROOT = {
					add_to_war = {
						targeted_alliance = PREV
						enemy = FROM
						hostility_reason = asked_to_join
					}
				}
			}
			if = {
				limit = {
					event_target:finland_friend_of_sweden = { has_government = communism }
				}
				add_timed_idea = {
					idea = SWE_slow_intervention_finland_alt
					days = 21
				}
			}
			else = {
				add_timed_idea = {
					idea = SWE_slow_intervention_finland
					days = 21
				}
			}
			# Socialist side if socialist
			# Otherwise non-socialist side
			custom_effect_tooltip = failure_to_assist_with_civil_war_in_timely_manner_may_spark_international_backlash
			activate_mission = SWE_intervention_in_finland
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_war = no
			}
		}
	}
}