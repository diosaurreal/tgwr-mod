SWE_form_SWE_NOR_category = {
	SWE_form_SWE_NOR = {
		icon = GFX_decision_generic_nationalism
		allowed = {
			original_tag = SWE
		}
		available = {
			has_capitulated = no
			has_full_control_of_state = 110
			has_full_control_of_state = 142
			has_full_control_of_state = 143
			has_full_control_of_state = 144
		}
		highlight_states = {
			highlight_state_targets = {
				state = 38
				state = 110
				state = 138
				state = 139
				state = 140
				state = 141
				state = 142
				state = 143
				state = 144
				state = 666
			}
		}
		remove_effect = {
			every_state = {
				limit = {
					NOT = {
						is_core_of = ROOT
					}
					OR = {
						state = 38
						state = 110
						state = 138
						state = 139
						state = 140
						state = 141
						state = 142
						state = 143
						state = 144
						state = 666
					}
				}
				add_core_of = ROOT
			}
			set_cosmetic_tag = SWE_NOR
		}
		fire_only_once = yes
		ai_will_do = {
			base = 1000
		}
	}
}

crisis = {
	SWE_anti_democratic_crisis = {
		allowed = {
			always = no
		}
		available = {
			OR = {
				communism > 0.4
				AND = {
					has_stability < 0.3
					custom_trigger_tooltip = {
						tooltip = high_enough_non_conservative_support_tt
						set_temp_variable = { leftwing_temp = party_popularity@democratic }
						add_to_temp_variable = { leftwing_temp = party_popularity@communism }
						check_variable = {
							var = leftwing_temp
							value = 0.51
						}
					}
				}
			}
		}
		visible = {
			original_tag = SWE
		}
		
		fire_only_once = yes
		
		is_good = yes
		
		days_mission_timeout = 90
		
		timeout_effect = {
			custom_effect_tooltip = the_coup_will_be_successful
			swap_ideas = {
				remove_idea = SWE_anti_conservative_coalition
				add_idea = SWE_effects_of_coup
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			hidden_effect = {
				country_event = {
					id = ww_sverige_general.1001
					hours = 2
				}
			}
		}
		
		complete_effect = {
			custom_effect_tooltip = a_leftwing_government_takes_charge
			# SocDem government
				# If socialist support is above 40% other event from communists
		}
	}
	SWE_f_baten_question = {
		icon = generic_civil_support
		
		allowed = {
			always = no
		}
		available = {
			OR = {
				has_war = yes
				threat > 0.5
				AND = {
					NOT = { has_global_flag = great_war_ends }
					has_global_flag = great_war
				}
			}
		}
		visible = {
			original_tag = SWE
		}
		
		fire_only_once = yes
		
		is_good = no
		
		days_mission_timeout = 240
		
		timeout_effect = {
			country_event = { id = ww_sverige.4 days = 1 }
		}
		
		complete_effect = {
			# Event to start production if this happens
				# Causes -25 loss for the Staaff approval
			add_power_balance_value = {
				id = SWE_staaf_approval
				value = -0.25
			}
			country_event = { id = ww_sverige.7 days = 1 }
		}
	}
	SWE_threat_of_famine = {
		icon = generic_civil_support
		
		allowed = {
			always = no
		}
		available = {
			has_war = no
			OR = {
				has_global_flag = great_war_ends
				NOT = { has_global_flag = great_war }
			}
		}
		visible = {
			original_tag = SWE
		}
		
		fire_only_once = yes
		
		is_good = no
		
		days_mission_timeout = 170
		
		timeout_effect = {
			country_event = { id = ww_sverige.100 days = 1 }
		}
		
		complete_effect = {
			hidden_effect = {
				add_ideas = SWE_threat_of_famine
			}
		}
	}
}
SWE_staaff_emergency = {
	SWE_denounce_militarists = {
		icon = GFX_decision_eng_propaganda_campaigns
		allowed = {
			original_tag = SWE
		}
		fire_only_once = yes
		visible = {
			has_power_balance = {
				id = SWE_staaf_approval
			}
		}
		cost = 25
		days_remove = 7
		
		complete_effect = {
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
		}
		remove_effect = {
			add_power_balance_value = {
				id = SWE_staaf_approval
				value = -0.10
			}
			add_stability = 0.05
			add_war_support = -0.03
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value > 0.2
				}
			}
			modifier = {
				factor = 10
				power_balance_value = {
					id = SWE_staaf_approval
					value > 0.5
				}
			}
		}
	}
	SWE_raise_taxes = {
		icon = GFX_decision_eng_trade_unions_demand
		allowed = {
			original_tag = SWE
		}
		fire_only_once = yes
		visible = {
			has_power_balance = {
				id = SWE_staaf_approval
			}
		}
		available = {
			OR = {
				has_completed_focus = SWE_a_liberal_military_plan
				has_completed_focus = SWE_short_term_preparations
			}
		}
		days_remove = 5
		cost = 65
		complete_effect = {
			add_power_balance_value = {
				id = SWE_staaf_approval
				value = -0.1
			}
		}
		remove_effect = {
			add_timed_idea = {
				idea = SWE_higher_taxes
				days = 100
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.03
			}
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value > 0.35
				}
			}
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value > 0.7
				}
			}
			modifier = {
				add = 1
				has_completed_focus = SWE_short_term_preparations
			}
		}
	}
	SWE_endorse_feminism = {
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = SWE
		}
		fire_only_once = yes
		available = {
			has_completed_focus = SWE_liberalism_and_parliamentalism
		}
		visible = {
			has_power_balance = {
				id = SWE_staaf_approval
			}
		}
		days_remove = 5
		cost = 40
		remove_effect = {
			add_power_balance_value = {
				id = SWE_staaf_approval
				value = -0.05
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.10
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value > 0.1
				}
			}
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value > 0.35
				}
			}
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value > 0.7
				}
			}
			modifier = {
				factor = 50
				power_balance_value = {
					id = SWE_staaf_approval
					value > 0.8
				}
			}
		}
	}
	SWE_meet_conservatives = {
		icon = GFX_decision_generic_political_discourse
		allowed = {
			original_tag = SWE
		}
		available = {
			NOT = { has_idea = SWE_fbaten_fragan }
		}
		fire_only_once = yes
		visible = {
			has_power_balance = {
				id = SWE_staaf_approval
			}
		}
		days_remove = 5
		cost = 25
		remove_effect = {
			add_power_balance_value = {
				id = SWE_staaf_approval
				value = 0.1
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.12
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value < 0
				}
			}
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value < -0.25
				}
			}
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value < -0.5
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date > 1914.1.1
			}
		}
	}
	SWE_meet_nationalists = {
		icon = GFX_decision_generic_political_discourse
		allowed = {
			original_tag = SWE
		}
		fire_only_once = yes
		available = {
			power_balance_value = {
				id = SWE_staaf_approval
				value > 0.10
			}
		}
		visible = {
			has_power_balance = {
				id = SWE_staaf_approval
			}
		}
		days_remove = 5
		cost = 25
		remove_effect = {
			add_power_balance_value = {
				id = SWE_staaf_approval
				value = 0.05
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.10
			}
		}
		ai_will_do = {
			base = 0
		}
	}
	SWE_allow_agricultural_lobbying = {
		icon = GFX_decision_hol_exchange_intelligence_data
		allowed = {
			original_tag = SWE
		}
		available = {
			has_completed_focus = SWE_prepare_for_next_election
			NOT = { has_idea = SWE_agricultural_lobbying }
		}
		
		visible = {
			NOT = { has_completed_focus = SWE_forsvarsvasendet }
			has_power_balance = {
				id = SWE_staaf_approval
			}
		}
		days_remove = 5
		cost = 50
		
		remove_effect = {
			add_timed_idea = {
				idea = SWE_agricultural_lobbying
				days = 100
			}
			add_power_balance_value = {
				id = SWE_staaf_approval
				value = 0.1
			}
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date > 1914.1.1
			}
		}
	}
	SWE_seek_political_allies = {
		icon = GFX_decision_hol_exchange_intelligence_data
		allowed = {
			original_tag = SWE
		}
		fire_only_once = yes
		visible = {
			has_power_balance = {
				id = SWE_staaf_approval
			}
		}
		
		cost = 75
		
		complete_effect = {
			add_power_balance_value = {
				id = SWE_staaf_approval
				value = 0.1
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value < 0
				}
			}
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value < -0.25
				}
			}
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value < -0.5
				}
			}
			modifier = {
				add = 1
				power_balance_value = {
					id = SWE_staaf_approval
					value < -0.75
				}
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				date > 1914.1.1
			}
		}
	}
	SWE_stave_off_a_collapse = {
		icon = GFX_decision_hol_exchange_intelligence_data
		allowed = {
			original_tag = SWE
		}
		fire_only_once = yes
		available = {
			power_balance_value = {
				id = SWE_staaf_approval
				value < 0.80
			}
		}
		visible = {
			has_power_balance = {
				id = SWE_staaf_approval
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				NOT = {
					has_power_balance = {
						id = SWE_staaf_approval
					}
				}
			}
		}
		cost = 150
		days_remove = 50
		
		modifier = {
			political_power_cost = 0.10
			power_balance_weekly = 0.005
		}
		
		ai_will_do = {
			base = 0
		}
	}
	# https://books.google.se/books?hl=sv&lr=&id=dxnXAgAAQBAJ&oi=fnd&pg=PP9&dq=Arvid+Lindman&ots=iUlkwhkto3&sig=rzm0MCukgZ9C49pMUcaTBwu6qyk&redir_esc=y#v=onepage&q=Arvid%20Lindman&f=false
}
political_actions = {
	SWE_mdebug_replace_agrarianism_hammarskjöld = {
		icon = GFX_decision_generic_political_discourse
		allowed = {
			original_tag = SWE
		}
		fire_only_once = yes
		available = {
			has_country_leader_ideology = agrarianism
		}
		
		completed_effect = {
			set_country_leader_ideology = conservatism
		}
		ai_will_do = {
			base = 0
		}
	}
}

SWE_riksdagens_decisions = {
	SWE_find_anti_monarchist_allies = {
		allowed = {
			tag = SWE
		}
		visible = {
			has_completed_focus = SWE_fuel_to_the_fire
		}
		available = {
			OR = {
				has_government = communism
				has_country_leader_ideology = social_democracy
			}
		}
		
		cost = 50
		days_remove = 50
		fire_only_once = yes
		
		modifier = {
			democratic_drift = -0.02
			communism_drift = 0.02
		}
		
		ai_will_do = {
			base = 10
		}
	}
	SWE_pressure_a_popular_front = {
		allowed = {
			tag = SWE
		}
		visible = {
			has_completed_focus = SWE_fuel_to_the_fire
		}
		available = {
			democratic > 0.1
			communism > 0.4
		}
		
		cost = 75
		days_remove = 50
		fire_only_once = yes
		
		remove_effect = {
			set_temp_variable = {
				var = neutrality_support_var
				value = party_popularity_100@neutrality
			}
			set_temp_variable = {
				var = democratic_support_var
				value = party_popularity_100@democratic
			}
			multiply_temp_variable = {
				var = democratic_support_var
				value = 0.2
			}
			set_temp_variable = {
				var = democratic_support_var_two
				value = party_popularity_100@democratic
			}
			multiply_temp_variable = {
				var = democratic_support_var_two
				value = 0.8
			}
			set_temp_variable = {
				var = communism_support_var
				value = party_popularity_100@communism
			}
			set_temp_variable = {
				var = fascism_support_var
				value = party_popularity_100@fascism
			}
			add_to_temp_variable = {
				communism_support_var = democratic_support_var
			}
			custom_effect_tooltip = a_fifth_of_dem_will_join_communist
			hidden_effect = {
				set_popularities = {
					democratic = democratic_support_var_two
					neutrality = neutrality_support_var
					fascism = fascism_support_var
					communism = communism_support_var
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
	}
	SWE_prepare_statskommisioner_for_wartime = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_global_flag = great_war
			NOT = { has_global_flag = great_war_ends }
		}
		available = {
			NOT = { has_global_flag = great_war_ends }
		}
		
		cost = 100
		days_remove = -1
		fire_only_once = yes
		
		complete_effect = {
			add_stability = 0.05
		}
		modifier = {
			consumer_goods_factor = 0.05
			stability_factor = 0.1
		}
		
		ai_will_do = {
			base = 100
		}
	}
	SWE_end_statskommisioner = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_decision = SWE_prepare_statskommisioner_for_wartime
			has_global_flag = great_war_ends
		}
		available = {
			has_war = no
			has_global_flag = great_war_ends
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		
		cost = 25
		
		complete_effect = {
			remove_decision = SWE_prepare_statskommisioner_for_wartime
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 10
				date > 1917.1.1
			}
		}
	}
	SWE_unite_the_right_in_crisis = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_idea = SWE_unpopular_riksdag
		}
		available = {
			threat > 0.5
			has_completed_focus = SWE_allies_in_unlikely_places
		}
		cancel_trigger = {
			hidden_trigger = {
				NOT = { has_idea = SWE_unpopular_riksdag }
			}
		}
		cost = 50
		days_remove = 70
		
		modifier = {
			stability_weekly = 0.001	# Counteracts effect of Unpopular Riksdag
		}
		
		remove_effect = {
			remove_ideas = SWE_unpopular_riksdag
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				date > 1915.1.1
			}
		}
	}
	SWE_implement_allman_folkpension = {
		# People over 67, have some money
			# (less so if you're a woman unfortunately)
			# 150 kr/år if ur a man, 140 if ur a woman
				# average industry-person wage yearly at time was about 1300
		# Event about protests from Centralförbundet för socialt arbete
		allowed = {
			tag = SWE
		}
		visible = {
			date > 1911.1.1
		}
		available = {
			has_war = no
			has_stability > 0.6
			NOT = {
				has_government = fascism
			}
			fascism < 0.2
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 400
		cost = 25
		
		complete_effect = {
			hidden_effect = {
				country_event = { id = ww_sverige_general.0 days = 40 }
			}
			custom_effect_tooltip = adjust_emigration_problem_tt
			add_to_variable = {
				tooltip = monthly_population_tt
				var = SWE_emigration_monthly_population
				value = 0.01
			}
		}
		
		remove_effect = {
			add_popularity = {
				ideology = democratic
				popularity = 0.01
			}
			add_popularity = {
				ideology = communism
				popularity = 0.01
			}
			custom_effect_tooltip = adjust_emigration_problem_tt
			add_to_variable = {
				tooltip = monthly_population_tt
				var = SWE_emigration_monthly_population
				value = 0.03
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				date > 1912.1.1
			}
		}
	}
	SWE_push_suffrage_through = {
		allowed = {
			original_tag = SWE
		}
		available = {
			OR = {
				has_government = democratic
				has_government = communism
			}
			OR = {
				AND = {
					has_stability > 0.9
					neutrality < 0.1
				}
				AND = {
					neutrality < 0.08
					fascism < 0.08
				}
			}
			custom_trigger_tooltip = {
				tooltip = conservatives_wont_support_this_unless_forced
				OR = {
					# Add more stuff later, but for now socialist takeover in major or civil wars/socialism in Nordic countries
					AND = {
						has_government = democratic
						any_other_country = {
							is_actual_major = yes
							capital_scope = { is_on_continent = europe }
							has_government = communism
						}
					}
					AND = {
						has_government = democratic
						DEN = {
							OR = {
								has_government = communism
								has_civil_war = yes
							}
						}
						NOR = {
							OR = {
								has_government = communism
								has_civil_war = yes
							}
						}
					}
					AND = {
						has_government = communism
						communism > 0.4
					}
					communism > 0.5
				}
			}
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 7
		cost = 50
		
		complete_effect = {
			set_country_flag = SWE_suffrage_flag
		}
		remove_effect = {
			if = {
				limit = {
					has_power_balance = {
						id = SWE_staaf_approval
					}
				}
				add_power_balance_value = {
					id = SWE_staaf_approval
					value = -0.15
				}
			}
			add_stability = 0.05
			add_popularity = {
				ideology = democratic
				popularity = 0.05
			}
			add_popularity = {
				ideology = communism
				popularity = 0.02
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.01
			}
		}
		ai_will_do = {
			base = 0
			modifier = {	# Possibly something else
				add = 100
				date > 1917.1.1
			}
		}
	}
	SWE_temporary_increase_of_taxation_for_government = {
		# Generic for now
		allowed = {
			tag = SWE
		}
		visible = {
			OR = {
				has_completed_focus = SWE_fix_what_is_backwards
				has_completed_focus = SWE_promote_reasonable_reforms
			}
		}
		available = {
			has_war = no
			has_stability > 0.6
			OR = {
				communism > 0.12
				neutrality < 0.1
			}
		}
		fire_only_once = yes
		
		modifier = {
			stability_factor = -0.05
			consumer_goods_factor = -0.05
		}
		
		days_remove = 365
		cost = 100
		
		ai_will_do = {
			base = 1
		}
	}
	SWE_the_eight_hour_workday = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_welfare_reforms
			date > 1916.1.1
		}
		available = {
			neutrality < 0.2
			fascism < 0.2
			NOT = { has_idea = SWE_class_conflict }
			OR = {
				has_country_leader_ideology = social_liberalism
				has_country_leader_ideology = social_democracy
				has_government = communism
			}
		}
		fire_only_once = yes
		
		days_remove = 120
		cost = 50
		modifier = { political_power_gain = -0.5 }
		
		remove_effect = {
			add_ideas = SWE_eight_hour_workday
			custom_effect_tooltip = adjust_emigration_problem_tt
			add_to_variable = {
				tooltip = monthly_population_tt
				var = SWE_emigration_monthly_population
				value = 0.08
			}
		}
		ai_will_do = {
			base = 100
		}
	}
	SWE_establish_nomadskola = {
		# Nomadskola
		# https://sv.wikipedia.org/wiki/Sameskola
			# School used to help convert samer
			# Really based on racism
			# Logistics didn't work out generally
		allowed = {
			original_tag = SWE
		}
		visible = {
			date > 1913.1.1
			has_idea = SWE_visteskola
		}
		available = {
			NOT = { has_decision = SWE_end_nomadskola }
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		
		fire_only_once = yes
		
		days_remove = 14
		cost = 15
		
		remove_effect = {
			swap_ideas = {
				add_idea = SWE_nomadskola
				remove_idea = SWE_visteskola
			}
			if = {
				limit = { has_government = fascism }
				add_popularity = {
					ideology = fascism
					popularity = 0.02
				}
			}
			else = {
				add_popularity = {
					ideology = ROOT
					popularity = 0.01
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.01
				}
			}
		}
		
		ai_will_do = {
			base = 10
		}
	}
	SWE_renbeteskonventionen_1919 = {
		# Renbeteskonventionen 1919
			# Need event about the discussion around it in 1913
				# If Sweden goes through with it, this decision should be available
				# If not, then no
		allowed = {
			original_tag = SWE
		}
		visible = {
			date > 1918.1.1
		}
		available = {
			date > 1919.1.1
			controls_state = 666
		}
		fire_only_once = yes
		
		days_remove = 35
		cost = 15
		
		complete_effect = {
			add_stability = -0.01
		}
		
		remove_effect = {
			if = {
				limit = { has_government = fascism }
				add_popularity = {
					ideology = fascism
					popularity = 0.02
				}
			}
			else = {
				add_popularity = {
					ideology = ROOT
					popularity = 0.01
				}
				add_popularity = {
					ideology = fascism
					popularity = 0.01
				}
			}
			666 = {
				# Stealing their land
				add_extra_state_shared_building_slots = 1
			}
			# To represent the people that goes over to Norway
			custom_effect_tooltip = adjust_emigration_problem_tt
			add_to_variable = {
				tooltip = monthly_population_tt
				var = SWE_emigration_monthly_population
				value = 0.01
			}
		}
		
		ai_will_do = {
			base = 10
		}
	}
	SWE_fasta_nomadskola = {
		# Discussions around ending them happened around this time
			# Although people were pretty racist back then so it was less so "oh we shouldn't treat them lesser" and moreso "it is inconvient to have a moving school"
			# So they made a stationary separate school for sapmi
			# This makes it easier to upkeep...instead of just having one school <-<
		allowed = {
			original_tag = SWE
		}
		visible = {
			date > 1918.1.1
			OR = {
				has_idea = SWE_visteskola
				has_idea = SWE_nomadskola
			}
		}
		available = {
			date > 1920.1.1
			fascism < 0.1
			NOT = { has_government = fascism }
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
			NOT = { has_decision = SWE_establish_nomadskola }
		}
		
		fire_only_once = yes
		
		days_remove = 60
		cost = 75
		
		remove_effect = {
			if = {
				limit = { has_idea = SWE_nomadskola }
				swap_ideas = {
					add_idea = SWE_nomadskola_2
					remove_idea = SWE_nomadskola
				}
			}
			if = {
				limit = { has_idea = SWE_visteskola }
				swap_ideas = {
					add_idea = SWE_nomadskola_2
					remove_idea = SWE_visteskola
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {	# If for whatever reason you play until this point
				add = 1
				date > 1935.1.1
			}
		}
	}
	# TBA: Positive thing for Samerna, since it is horrid to only have the negative shit in Riksdag
	SWE_merge_folkskola_and_smaskola = {
		# Make sure people can study for 6 years in a more organised way rather than in parallel
		allowed = {
			original_tag = SWE
		}
		visible = {
			date > 1917.6.1
		}
		available = {
			has_capitulated = no
			has_stability > 0.5
		}
		fire_only_once = yes
		
		days_remove = 365
		cost = 50
		
		remove_effect = {
			add_ideas = SWE_school_reform
			if = {
				limit = { date > 1918.1.1 }
				unlock_decision_tooltip = SWE_higher_learning_for_tekniska_skolor
			}
			if = {
				limit = { date > 1919.1.1 }
				unlock_decision_tooltip = SWE_upl_1919
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				date > 1918.1.1
			}
		}
	}
	SWE_upl_1919 = {
		# UPL 1919
		# Basically set a proper framework for the education
		allowed = {
			original_tag = SWE
		}
		visible = {
			date > 1919.1.1
			OR = {
				has_idea = SWE_school_reform
				has_idea = SWE_school_reform_el
			}
		}
		available = {
			has_civil_war = no
		}
		
		cost = 75
		
		days_remove = 14
		fire_only_once = yes
		
		remove_effect = {
			if = {
				limit = { has_idea = SWE_school_reform }
				swap_ideas = {
					add_idea = SWE_school_reform_19
					remove_idea = SWE_school_reform
				}
			}
			if = {
				limit = { has_idea = SWE_school_reform_el }
				swap_ideas = {
					add_idea = SWE_school_reform_best
					remove_idea = SWE_school_reform_el
				}
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 50
				date > 1919.10.1
			}
			modifier = {
				add = 50
				date > 1919.10.16
			}
		}
	}
	SWE_higher_learning_for_tekniska_skolor = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			date > 1918.1.1
			OR = {
				has_idea = SWE_school_reform
				has_idea = SWE_school_reform_19
			}
		}
		available = {
			has_capitulated = no
			has_stability > 0.5
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 400
		cost = 50
		modifier = {
			consumer_goods_factor = 0.03
		}
		
		remove_effect = {
			add_tech_bonus = {
				name = mechanical_innovation
				category = electronics
				category = industry
				uses = 1
				bonus = 0.25
			}
			if = {
				limit = { has_idea = SWE_school_reform }
				swap_ideas = {
					add_idea = SWE_school_reform_el
					remove_idea = SWE_school_reform
				}
			}
			if = {
				limit = { has_idea = SWE_school_reform_19 }
				swap_ideas = {
					add_idea = SWE_school_reform_best
					remove_idea = SWE_school_reform_19
				}
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	SWE_allow_usage_of_more_mineralrich_land = {
		# https://www.riksdagen.se/sv/dokument-och-lagar/dokument/proposition/kungl.-majts-nad.-proposition-no-173_d730173
		# From understanding, making it easier to make use of land
		allowed = {
			original_tag = SWE
		}
		available = {
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 120
		cost = 25
		
		remove_effect = {
			add_tech_bonus = {
				name = excavation_tech
				category = excavation_tech
				uses = 1
				bonus = 0.2
			}
		}
		
		ai_will_do = {
			base = 100
		}
	}
	SWE_forsoks_mobiiseringen_1912 = {
		# Try to see how well Sweden could mobilize in 1912, decided in 1911
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_second_karl_staaff_regeringen
			date < 1912.1.2
		}
		available = {
			has_war = no
			date < 1912.1.1
		}
		
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 24
		}
		custom_cost_text = decision_cost_CP_25_pp_25
		
		days_remove = 21
		fire_only_once = yes
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				add_political_power = -25
			}
			set_country_flag = {
				flag = SWE_forsoksmobilisering
				days = 400
				value = 1
			}
		}
		
		remove_effect = {
			custom_effect_tooltip = if_the_decision_been_passed_the_following_will_be_gained_in_training_next_year
			effect_tooltip = {
				add_war_support = 0.03
				custom_effect_tooltip = adjust_swe_military_tt
				add_to_variable = {
					tooltip = mobilization_speed_tt
					var = SWE_mil_mobilization_speed
					value = 0.05
				}
			}
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				factor = 10
				date > 1911.6.1
			}
			modifier = {
				factor = 10
				date > 1911.9.1
			}
		}
	}
	SWE_strengthen_younger_officer_corps = {
		# Younger officers should have unions to strengthen themselves
		allowed = {
			always = no
		}
		visible = {
			has_dynamic_modifier = {
				modifier = SWE_svenska_varnplikten
			}
			NOT = { has_decision = SWE_reogranise_the_military_for_future }
			NOT = { has_country_flag = SWE_modernise_army }
		}
		available = {
			has_civil_war = no
			OR = {
				has_country_leader_ideology = social_liberalism
				has_country_leader_ideology = social_democracy
			}
			has_war_support > 0.8
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 500
		
		modifier = {
			command_power_gain = -0.2
			experience_gain_army_factor = -0.15
		}
		
		cost = 100
		
		remove_effect = {
			set_country_flag = SWE_modernise_army
			custom_effect_tooltip = adjust_swe_military_tt
			add_to_variable = {
				tooltip = training_time_factor_tt
				var = SWE_mil_training_time_factor
				value = 0.05
			}
			add_to_variable = {
				tooltip = experience_gain_army_unit_factor_tt
				var = SWE_mil_experience_gain_army_unit_factor
				value = 0.05
			}
			add_to_variable = {
				tooltip = experience_gain_army_factor_tt
				var = SWE_mil_experience_gain_army_factor
				value = 0.15
			}
			add_to_variable = {
				tooltip = army_attack_factor_tt
				var = SWE_mil_army_attack_factor
				value = 0.10
			}
			add_to_variable = {
				tooltip = army_defence_factor_tt
				var = SWE_mil_army_defence_factor
				value = -0.05
			}
		}
		ai_will_do = {
			base = 10
			modifier = {
				factor = 0
				has_war = no
				threat < 0.25
			}
		}
	}
	SWE_goal_of_army_bill = {	# Hammarskjöld's Army Bill of 1914
		allowed = {
			always = no
		}
		available = {
			has_army_size = {
				size > 11
				type = infantry
			}
			#OR = {
			#	has_army_size = {
			#		size > 2
			#		type = cavalry
			#	}
			#	has_army_size = {
			#		size > 1
			#		type = motorized
			#	}
			#}
			has_army_manpower = { size > 25999 }	# Double of historical strength 13000
		}
		visible = {
			original_tag = SWE
		}
		
		fire_only_once = yes
		
		is_good = yes
		
		days_mission_timeout = 365
		
		complete_effect = {
			add_war_support = 0.05
		}
	}
	SWE_motion_for_military_expansion = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			OR = {
				has_completed_focus = SWE_keeping_our_head_down
				has_completed_focus = SWE_foreign_policy_of_the_king
				has_completed_focus = SWE_creation_of_nationalistiskt_arbetarparti
			}
		}
		available = {
			has_completed_focus = SWE_support_the_military
			OR = {
				threat > 0.35
				AND = {
					NOT = { has_global_flag = great_war_ends }
					has_global_flag = great_war
				}
			}
		}
		
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 49
		}
		custom_cost_text = decision_cost_CP_25_pp_50

		days_remove = 175
		fire_only_once = yes
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				add_political_power = -50
			}
			activate_mission = SWE_goal_of_army_bill
		}
		
		modifier = {
			war_support_weekly = 0.002
		}
		
		remove_effect = {
			army_experience = 15
			custom_effect_tooltip = adjust_swe_military_tt
			add_to_variable = {
				tooltip = mobilization_speed_tt
				var = SWE_mil_mobilization_speed
				value = 0.10
			}
			add_to_variable = {
				tooltip = industrial_capacity_factory_tt
				var = SWE_mil_industrial_capacity_factory
				value = 0.02
			}
		}
		
		ai_will_do = {
			base = 1
			modifier = {	# Just to make sure pp is spent properly
				factor = 0
				has_political_power < 151
			}
		}
	}
	SWE_reform_the_infantry_training = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_third_liberal_regering
			has_completed_focus = SWE_a_liberal_military_plan
		}
		available = {
			has_completed_focus = SWE_a_liberal_military_plan
		}
		
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 49
		}
		custom_cost_text = decision_cost_CP_25_pp_50
		
		days_remove = 140
		fire_only_once = yes
		
		modifier = {
			max_command_power = -25
		}
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				add_political_power = -50
			}
		}
		
		remove_effect = {
			army_experience = 15
			custom_effect_tooltip = adjust_swe_military_tt
			add_to_variable = {
				tooltip = training_time_factor_tt
				var = SWE_mil_training_time_factor
				value = -0.05
			}
			add_to_variable = {
				tooltip = experience_gain_army_unit_factor_tt
				var = SWE_mil_experience_gain_army_unit_factor
				value = 0.05
			}
		}
		
		ai_will_do = {
			base = 2
			modifier = {	# Let's not do this right now
				factor = 0.5
				has_reached_maximum_divisions = yes
			}
		}
	}
	SWE_extend_the_infantry_training = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			OR = {
				has_completed_focus = SWE_courtyard_speech
				AND = {
					has_completed_focus = SWE_third_liberal_regering
					NOT = { has_completed_focus = SWE_a_liberal_military_plan }
				}
			}
		}
		available = {
			has_completed_focus = SWE_support_the_military
		}
		
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 49
		}
		custom_cost_text = decision_cost_CP_25_pp_50
		
		days_remove = 140
		fire_only_once = yes
		
		modifier = {
			max_command_power = -25
		}
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				add_political_power = -50
			}
		}
		
		remove_effect = {
			custom_effect_tooltip = adjust_swe_military_tt
			add_to_variable = {
				tooltip = mobilization_speed_tt
				var = SWE_mil_mobilization_speed
				value = 0.05
			}
			add_to_variable = {
				tooltip = training_time_factor_tt
				var = SWE_mil_training_time_factor
				value = -0.03
			}
			add_to_variable = {
				tooltip = experience_gain_army_unit_factor_tt
				var = SWE_mil_experience_gain_army_unit_factor
				value = 0.05
			}
		}
		
		ai_will_do = {
			base = 2
			modifier = {	# Let's not do this right now
				factor = 0.5
				has_reached_maximum_divisions = yes
			}
		}
	}
	SWE_early_conscription_extension = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_short_term_preparations
		}
		available = {
			OR = {
				NOT = { has_idea = SWE_anti_war_promises }
				AND = {
					has_stability > 0.7
					has_war_support > 0.4
				}
			}
			threat > 0.2
			NOT = {
				has_idea = idea_armistice
				has_idea = idea_army_restrictions
			}
		}
		
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 74
		}
		custom_cost_text = decision_cost_CP_25_pp_75
		
		days_remove = 50
		fire_only_once = yes
		
		modifier = {
			mobilization_speed = 0.05
		}
		
		complete_effect = {
			add_stability = -0.03
			hidden_effect = {
				add_command_power = -25
				add_political_power = -75
			}
		}
		
		remove_effect = {
			add_manpower = 2000
			if = {
				limit = {
					has_idea = limited_conscription
				}
				add_ideas = extensive_conscription
			}
			else_if = {
				limit = {
					OR = {
						has_idea = disarmed_nation
						has_idea = volunteer_only
					}
				}
				add_ideas = limited_conscription
			}
		}
		
		ai_will_do = {
			base = 10
			modifier = {	# Let's not do this right now
				factor = 0.1
				has_reached_maximum_divisions = yes
			}
			modifier = {
				factor = 0
				has_political_power < 150
			}
		}
	}
	SWE_organise_military_labour_unions = {
		# Basically just to represent allowing the lower officers to properly join unions
		allowed = {
			always = no
		}
		available = {
			OR = {
				has_government = communism
				has_country_leader_ideology = social_democracy
			}
			has_war_support > 0.7
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 25
		cost = 50
		
		custom_cost_trigger = {
			command_power > 24
			has_political_power > 49
		}
		
		custom_cost_text = decision_cost_CP_25_PP_50
		
		modifier = {
			max_command_power = -50
		}
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				add_political_power = -50
			}
		}
		
		remove_effect = {
			add_ideas = SWE_forsvarsforbund
			custom_effect_tooltip = adjust_swe_military_tt
			add_to_variable = {
				tooltip = mobilization_speed_tt
				var = SWE_mil_mobilization_speed
				value = 0.15
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	SWE_fattigvardslag = {
		# Fattigauktion
		# Let's ban like. bidding to take care of the poorest and most vulnerable for lowest cost in exchange for some benefits cuz law said so...
		allowed = {
			original_tag = SWE
		}
		visible = {
			date > 1917.1.1
			has_dynamic_modifier = { modifier = SWE_emigration_problem }
		}
		available = {
			has_war = no
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		
		cost = 100
		
		days_remove = 45
		fire_only_once = yes
		
		modifier = {
			consumer_goods_factor = 0.15
		}
		
		complete_effect = {
			add_stability = 0.025
			add_war_support = 0.025
		}
		
		remove_effect = {
			custom_effect_tooltip = adjust_emigration_problem_tt
			add_to_variable = {
				tooltip = monthly_population_tt
				var = SWE_emigration_monthly_population
				value = 0.03
			}
		}
		
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				date > 1918.5.1
			}
		}
	}
	SWE_campaign_to_stay_at_home = {	# Generic, to be replaced
		# Stop leaving Sweden!
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_keeping_our_head_down
			has_dynamic_modifier = { modifier = SWE_emigration_problem }
		}
		available = {
			has_war = no
			threat > 0.5
			has_stability > 0.7
			has_completed_focus = SWE_investera_i_framtiden
			NOT = { has_idea = SWE_hungerskjold }
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		
		cost = 25
		days_remove = 240
		fire_only_once = yes
		
		remove_effect = {
			SWE_decrease_emigration = yes
		}
		
		ai_will_do = {
			base = 0.1
		}
	}
	SWE_telgraf_och_telefon_utveckling = {
		icon = GFX_decision_hol_exchange_intelligence_data
		allowed = {
			tag = SWE
		}
		
		fire_only_once = yes
		available = {
			has_capitulated = no
		}
		visible = {
			date > 1912.1.1
		}
		
		cost = 36
		
		complete_effect = {
			add_tech_bonus = {
				name = mechanical_innovation
				category = electronics
				uses = 1
				bonus = 0.5
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				date > 1913.1.1
			}
		}
	}
	SWE_neutralitetsregler = {
		# Let's work on our neutrality a bit (thanks to Albert Ehrensvärd)
		# Some sources found states it is essentially Haag-convention? I need to find old document
		# https://www.regeringen.se/contentassets/357fe4e9219a4e61ab14614d0a95c11d/deklarationer-vaxlade-med-danmark-och-norge-rorande-likartade-neutralitetsbestammelserso_1912_11.pdf
		allowed = {
			tag = SWE
		}
		available = {
			has_government = democratic
			OR = {
				has_idea = SWE_albert_ehrensvard
				threat > 0.25
			}
			focus_progress = {
				focus = SWE_pro_entente_stance
				progress < 0.01
			}
			focus_progress = {
				focus = SWE_strengthen_german_relations
				progress < 0.01
			}
		}
		visible = {
			date > 1911.9.11
			NOT = {
				has_completed_focus = SWE_pro_entente_stance
				has_completed_focus = SWE_rally_to_neutrality
				has_completed_focus = SWE_strengthen_german_relations
			}
		}
		fire_only_once = yes
		
		days_remove = 25
		cost = 25
				
		remove_effect = {
			add_stability = 0.05
			add_political_power = 75
			add_ideas = SWE_neutralitetsforklaring
			custom_effect_tooltip = neutralitetsforklaring_removal_tt
		}
		ai_will_do = {
			base = 1
		}
	}
	SWE_move_past_decemberkompromissen = {
		# Decemberkompromissen isn't enough, we need to take further steps to fix the class conflict
		allowed = {
			tag = SWE
		}
		visible = {
			has_completed_focus = SWE_socialliberal_reforms
		}
		available = {
			OR = {
				has_country_leader_ideology = social_liberalism
				has_country_leader_ideology = social_democracy
				has_government = communism
			}
			has_stability > 0.7
			neutrality < 0.1
			fascism < 0.1
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 25
		cost = 75
		
		modifier = { political_power_cost = 1 }
		
		complete_effect = {
			set_country_flag = swe_handled_class_conflict
		}
		
		remove_effect = {
			if = {
				limit = { NOT = { has_idea = SWE_class_conflict } }
				add_ideas = SWE_class_compromise
			}
			else = {
				swap_ideas = {
					add_idea = SWE_class_compromise
					remove_idea = SWE_class_conflict
				}
			}
			unlock_decision_tooltip = SWE_leverage_industrial_security
			set_country_flag = swe_handled_class_conflict
		}
		ai_will_do = {
			base = 1
		}
	}
	SWE_leverage_industrial_security = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_idea = SWE_class_compromise
		}
		available = {
			OR = {
				has_country_leader_ideology = social_liberalism
				has_country_leader_ideology = social_democracy
			}
			has_stability > 0.7
			num_of_factories > 30
			NOT = { has_idea = SWE_hungerskjold }
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 90
		modifier = {
			consumer_goods_factor = 0.05
			weekly_manpower = 50
			monthly_population = 0.05
		}
		
		cost = 50
		
		remove_effect = {
			custom_effect_tooltip = adjust_emigration_problem_tt
			add_to_variable = {
				tooltip = monthly_population_tt
				var = SWE_emigration_monthly_population
				value = 0.07
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	SWE_put_paragraf_23_to_law = {
		# https://sv.wikipedia.org/wiki/Paragraf_32
		# Was called Paragaf 23 at the time
			# Essentially a worker cannot just refuse to work without due cause
		allowed = {
			tag = SWE
		}
		visible = {
			NOT = { has_government = communism }
			NOT = { has_completed_focus = SWE_third_liberal_regering }
			NOT = { has_country_flag = swe_handled_class_conflict }
		}
		available = {
			communism < 0.1
			OR = {
				custom_trigger_tooltip = {
					tooltip = sixty_percent_rightwing_support
					set_temp_variable = { rightwing_temp = party_popularity@fascism }
					add_to_temp_variable = { rightwing_temp = party_popularity@neutrality }
					check_variable = {
						var = rightwing_temp
						value = 0.6
					}
				}
				has_completed_focus = SWE_ban_dangerous_socialist_organisations
			}
			has_stability > 0.8
			has_completed_focus = SWE_courtyard_speech
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 600
		cost = 100
		
		modifier = {
			stability_factor = -0.1
		}
		
		complete_effect = {
			set_country_flag = swe_handled_class_conflict
		}
		
		remove_effect = {
			if = {
				limit = { NOT = { has_idea = SWE_class_conflict } }
				add_ideas = SWE_paragraf_twenty_three
			}
			else = {
				swap_ideas = {
					add_idea = SWE_paragraf_twenty_three
					remove_idea = SWE_class_conflict
				}
			}
			custom_effect_tooltip = adjust_emigration_problem_tt
			add_to_variable = {
				tooltip = monthly_population_tt
				var = SWE_emigration_monthly_population
				value = -0.02
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				has_completed_focus = SWE_ban_dangerous_socialist_organisations
			}
		}
	}
	SWE_sweeping_political_restructuring = {
		# We'll not allow further dangers to Democracy in Sweden and will implement a number of reforms to stop it from being abused
		# Short-term stability loss in return for a bit of pp and stability return
		allowed = {
			always = no
		}
		
		available = {
			has_civil_war = no
			OR = {
				has_country_leader_ideology = social_liberalism
				has_country_leader_ideology = social_democracy
			}
			has_stability > 0.6
			fascism < 0.15
			neutrality < 0.15
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 210
		
		modifier = {
			stabililty_weekly = -0.005
		}
		
		cost = 150
		
		complete_effect = {
			add_stability = -0.05
			add_war_support = -0.05
		}
		
		remove_effect = {
			add_timed_idea = {
				idea = SWE_democratic_stronghold
				days = 730
			}
		}
		ai_will_do = {
			base = 0.1
		}
	}
	SWE_collecitivization_decision = {
		allowed = {
			always = no
		}
		visible = { has_government = communism }
		available = {
			has_stability > 0.6
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		fire_only_once = yes
		
		days_remove = 120
		
		modifier = { stability_factor = -0.05 }
		
		cost = 50
		complete_effect = {
			add_stability = -0.05
		}
		
		remove_effect = {
			add_timed_idea = {
				idea = collectivization
				days = 1095
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				has_stability < 0.7
			}
		}
	}
	SWE_funds_to_army_jobs = {
		# Let's bring in those funds!
		icon = GFX_decision_generic_industry
		allowed = {
			original_tag = SWE
		}
		available = {
			NOT = { has_idea = SWE_anti_war_promises }
			any_owned_state = {
				is_controlled_by = ROOT
				arms_factory > 0
			}
			OR = {
				has_war_support > 0.15
				communism < 0.1
				threat > 0.05
			}
		}
		
		fire_only_once = yes
		
		visible = {
			has_completed_focus = SWE_create_army_jobs
			any_owned_state = {
				is_controlled_by = ROOT
				free_building_slots = {
					building = arms_factory
					size > 0
					include_locked = yes
				}
			}
		}
		
		cost = 50
		days_remove = 365
		
		modifier = {
			consumer_goods_factor = 0.10
		}
		
		remove_effect = {
			random_owned_controlled_state = {
				limit = {
					is_controlled_by = ROOT
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				OR = {
					has_country_leader_ideology = conservatism
					has_country_leader_ideology = liberal_conservatism
				}
			}
			modifier = {
				add = 1
				date > 1913.1.1
			}
			modifier = {
				add = 1
				has_war = yes
			}
		}
	}
	SWE_porjus_kraftverk = {
		# Electric production in north pls
		icon = GFX_decision_generic_industry
		allowed = {
			original_tag = SWE
		}
		available = {
			has_stability > 0.5
			controls_state = 666
		}
		
		fire_only_once = yes
		visible = {
			date > 1912.1.1
			666 = { NOT = { has_state_flag = porjus_kraftverk } }
		}
		
		cost = 50
		days_remove = 730
		
		modifier = { consumer_goods_factor = 0.03 }
		
		remove_effect = {
			666 = {
				set_state_flag = porjus_kraftverk
				add_extra_state_shared_building_slots = 1
				if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				date > 1912.12.1
			}
		}
	}
	SWE_purchase_sodertalje_kanal_och_slussverksaktiebolag = {
		# Södertälje kanal- och slussverksaktiebolags 
		icon = GFX_decision_generic_industry
		allowed = {
			always = no
		}
		available = {
			has_stability > 0.5
			controls_state = 141
			has_completed_focus = SWE_funds_to_buy_industries
		}
		
		fire_only_once = yes
		visible = {
			has_completed_focus = SWE_funds_to_buy_industries
		}
		
		cost = 25
		days_remove = 240
		
		modifier = { consumer_goods_factor = 0.03 }
		
		remove_effect = {
			141 = {
				if = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 100
				date > 1912.1.1
			}
		}
	}
	SWE_purchase_important_industries = {
		icon = GFX_decision_generic_industry
		allowed = {
			always = no
		}
		available = {
			has_completed_focus = SWE_funds_to_buy_industries
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		
		fire_only_once = yes
		visible = {
			has_completed_focus = SWE_funds_to_buy_industries
			any_owned_state = {
				free_building_slots = {
					building = industrial_complex
					size > 0
					include_locked = yes
				}
			}
		}
		
		cost = 100
		days_remove = 140
		
		modifier = { consumer_goods_factor = 0.1 }
		
		remove_effect = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	SWE_funds_to_bonderna = {
		allowed = {
			original_tag = SWE
		}
		available = {
			has_completed_focus = SWE_support_for_agrarian_sector
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		
		fire_only_once = yes
		visible = {
			NOT = { has_country_flag = unlock_agrarian_decisions }
			has_completed_focus = SWE_support_for_agrarian_sector
		}
		
		cost = 50
		days_remove = 70
		
		modifier = {
			political_power_factor = -0.05
			consumer_goods_factor = 0.07
		}
		
		remove_effect = {
			add_stability = 0.05
			set_country_flag = unlock_agrarian_decisions
			unlock_decision_tooltip = SWE_northern_agrarian_investment
			unlock_decision_tooltip = SWE_southern_agrarian_investment
		}
		ai_will_do = {
			base = 0.1
		}
	}
	SWE_northern_agrarian_investment = {
		allowed = {
			tag = SWE
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = any_northern_sweden_state_can_build_infrastructure
				OR = {
					38 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					666 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
			}
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		
		fire_only_once = yes
		visible = {
			has_country_flag = unlock_agrarian_decisions
			OR = {
				AND = {
					owns_state = 666
					666 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				AND = {
					owns_state = 38
					38 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
			}	
		}
		
		cost = 25
		days_remove = 300
		
		modifier = {
			political_power_cost = 0.20
			consumer_goods_factor = 0.1
		}
		
		remove_effect = {
			if = {
				limit = {
					owns_state = 38
					38 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				38 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					owns_state = 666
					666 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				666 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	SWE_southern_agrarian_investment = {
		allowed = {
			tag = SWE
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = any_southern_sweden_state_can_build_infrastructure
				OR = {
					138 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					139 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
					140 = {
						is_fully_controlled_by = ROOT
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
			}
			NOT = { has_idea = SWE_temporary_state_of_ermegency }
		}
		
		fire_only_once = yes
		visible = {
			has_country_flag = unlock_agrarian_decisions
			OR = {
				AND = {
					owns_state = 138
					138 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				AND = {
					owns_state = 139
					139 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				AND = {
					owns_state = 140
					140 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
			}	
		}
		
		cost = 25
		days_remove = 300
		
		modifier = {
			political_power_cost = 0.20
			consumer_goods_factor = 0.1
		}
		
		remove_effect = {
			if = {
				limit = {
					owns_state = 138
					138 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				138 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					owns_state = 139
					139 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				139 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					owns_state = 140
					140 = {
						free_building_slots = {
							building = infrastructure
							size > 0
						}
					}
				}
				140 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
		}
		ai_will_do = {
			base = 1
		}
	}
	SWE_electrify_our_railways = {
		allowed = {
			tag = SWE
		}
		visible = {
			has_completed_focus = SWE_keeping_our_head_down
		}
		available = {
			has_completed_focus = SWE_investera_i_framtiden
			141 = { is_fully_controlled_by = ROOT }
			666 = { is_fully_controlled_by = ROOT }
		}
		
		cost = 25
		days_remove = 240
		fire_only_once = yes
		
		remove_effect = {
			if = {
				limit = { NOT = { has_tech = electric_railway } }
				add_tech_bonus = {
					name = electric_railway
					bonus = 0.5
					uses = 1
					technology = electric_railway
				}
			}
			else_if = {
				limit = { NOT = { has_tech = diesel_electric_control_system } }
				add_tech_bonus = {
					name = diesel_electric_control_system
					bonus = 0.5
					uses = 1
					technology = diesel_electric_control_system
				}
			}
			build_railway = {	# For now, arbitrary
				level = 1
				build_only_on_allied = yes
				start_province = 9209
				target_province = 3063
			}
			build_railway = {
				level = 1
				build_only_on_allied = yes
				path = { 9193 3106 9185 9209 6188 3063 }
				start_province = 9193
				target_province = 3063
			}
			build_railway = {
				level = 1
				build_only_on_allied = yes
				path = { 101 3095 11155 9226 9186 3104 9108 }
				start_province = 101
				target_province = 9108
			}
			# Proper Bonus here
			add_tech_bonus = {
				name = train_tech
				category = train_tech
				uses = 1
				bonus = 0.25
			}
		}
		
		modifier = {
			consumer_goods_factor = 0.05
		}
		
		ai_will_do = {
			base = 100
		}
	}
}
political_actions = {
	SWE_reogranise_the_military_for_future = {
		allowed = {
			original_tag = SWE
		}
		
		available = {
			has_war_support > 0.5
			NOT = { has_decision = SWE_strengthen_younger_officer_corps }
			OR = {
				has_tech = ww1_combined_arms
				has_global_flag = great_war_ends
			}
		}
		
		modifier = {
			command_power_gain = -0.1
			army_org_factor = -0.05
		}
		
		fire_only_once = yes
		
		visible = {
			NOT = { has_country_flag = SWE_modernise_army }
		}
		
		custom_cost_trigger = {
			command_power > 49
			has_political_power > 49
		}
		custom_cost_text = decision_cost_CP_50_pp_50
		
		days_remove = 365
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -50
				add_political_power = -50
			}
			add_war_support = -0.05
		}
		
		remove_effect = {
			set_country_flag = SWE_modernise_army
			custom_effect_tooltip = adjust_swe_military_tt
			add_to_variable = {
				tooltip = experience_gain_army_factor_tt
				var = SWE_mil_experience_gain_army_factor
				value = 0.15
			}
			add_to_variable = {
				tooltip = planning_speed_tt
				var = SWE_mil_planning_speed
				value = 0.10
			}
			add_to_variable = {
				tooltip = army_attack_factor_tt
				var = SWE_mil_army_attack_factor
				value = 0.10
			}
			add_to_variable = {
				tooltip = army_defence_factor_tt
				var = SWE_mil_army_defence_factor
				value = -0.05
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				factor = 0
				date < 1917.1.1
			}
			modifier = {
				factor = 0
				has_war = yes
			}
		}
	}
	SWE_prepare_ourselves_for_the_worst = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_idea = SWE_threat_of_famine
		}
		available = {
			threat > 0.25
			num_of_factories > 20
			has_idea = SWE_threat_of_famine
		}
		cancel_trigger = {
			NOT = { has_idea = SWE_threat_of_famine }
		}
		
		cost = 100
		days_remove = 365
		priority = 10
		
		modifier = {
			political_power_gain = -0.5
			consumer_goods_factor = 0.25
		}
		
		remove_effect = {
			set_country_flag = block_further_famines
			remove_ideas = SWE_threat_of_famine
		}
		ai_will_do = {
			base = 0
			modifier = {
				add = 1
				date > 1915.1.1
			}
		}
	}
	SWE_imports_to_secure_stability = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_idea = SWE_hungerskjold
		}
		available = {
			NOT = {
				has_country_leader = {
					character = SWE_hjalmar_hammarskjold
					ruling_only = yes
				}
			}
			has_idea = SWE_exportforbjud
			OR = {
				AND = {
					has_stability > 0.3
					has_idea = SWE_entente_trade_agreement
					NOT = { has_war_with = GER }
				}
				AND = {
					has_stability > 0.3
					has_idea = SWE_cp_trade_agreement
					NOT = { has_war_with = FRA }
				}
				AND = {
					has_idea = SWE_entente_trade_agreement
					has_idea = SWE_cp_trade_agreement
					has_decision = SWE_exportforbjud
				}
			}
		}
		cancel_trigger = {
			hidden_trigger = {
				OR = {
					NOT = { has_idea = SWE_hungerskjold }
					NOT = {
						OR = {
							AND = {
								has_stability > 0.3
								has_idea = SWE_entente_trade_agreement
								NOT = { has_war_with = GER }
							}
							AND = {
								has_stability > 0.3
								has_idea = SWE_cp_trade_agreement
								NOT = { has_war_with = FRA }
							}
							AND = {
								has_idea = SWE_entente_trade_agreement
								has_idea = SWE_cp_trade_agreement
							}
						}
					}
				}
			}
		}
		
		cost = 100
		days_remove = 210
		priority = 10
		
		modifier = {
			consumer_goods_factor = 0.1
		}
		
		remove_effect = {
			remove_ideas = SWE_hungerskjold
		}
		ai_will_do = {
			base = 100
		}
	}
	SWE_undermine_socialist_papers = {
		allowed = {
			original_tag = SWE
		}
		
		available = {
			has_completed_focus = SWE_eliminate_leftist_opposition
			NOT = { has_decision = SWE_support_pro_military_faction }
		}
		
		visible = {
			OR = {
				has_idea = SWE_liberal_opposition
				has_idea = SWE_liberal_opposition_1
				has_idea = SWE_liberal_opposition_2
			}
		}
		
		fire_only_once = yes
		cost = 50
		
		days_remove = 35
		
		modifier = { communism_drift = -0.03 }
		
		complete_effect = {
			# Critical of censorship
		}
		
		remove_effect = {
			if = {
				limit = { has_idea = SWE_liberal_opposition_1 }
				remove_ideas = SWE_liberal_opposition_2
			}
			else_if = {
				limit = { has_idea = SWE_liberal_opposition_1 }
				swap_ideas = {
					add_idea = SWE_liberal_opposition_2
					remove_idea = SWE_liberal_opposition_1
				}
			}
			else_if = {
				limit = { has_idea = SWE_liberal_opposition }
				swap_ideas = {
					add_idea = SWE_liberal_opposition_1
					remove_idea = SWE_liberal_opposition
				}
			}
		}
		ai_will_do = {
			base = 1
			modifier = {
				add = 1
				communism > 0.1
			}
			modifier = {
				add = 1
				communism > 0.2
			}
			modifier = {
				add = 1
				communism > 0.3
			}
			modifier = {
				add = 1
				communism > 0.4
			}
			modifier = {
				factor = 10
				communism > 0.5
			}
		}
	}
	SWE_support_pro_military_faction = {
		allowed = {
			original_tag = SWE
		}
		
		available = {
			has_completed_focus = SWE_eliminate_leftist_opposition
			NOT = { has_decision = SWE_undermine_socialist_papers }
		}
		
		visible = {
			OR = {
				has_idea = SWE_liberal_opposition
				has_idea = SWE_liberal_opposition_1
				has_idea = SWE_liberal_opposition_2
			}
		}
		
		fire_only_once = yes
		cost = 50
		
		days_remove = 35
		
		modifier = {
			stability_factor = -0.05
		}
		
		complete_effect = {
			# Critical of militarism
		}
		
		remove_effect = {
			if = {
				limit = { has_idea = SWE_liberal_opposition_1 }
				remove_ideas = SWE_liberal_opposition_2
			}
			else_if = {
				limit = { has_idea = SWE_liberal_opposition_1 }
				swap_ideas = {
					add_idea = SWE_liberal_opposition_2
					remove_idea = SWE_liberal_opposition_1
				}
			}
			else_if = {
				limit = { has_idea = SWE_liberal_opposition }
				swap_ideas = {
					add_idea = SWE_liberal_opposition_1
					remove_idea = SWE_liberal_opposition
				}
			}
		}
		
		ai_will_do = {
			base = 1
			modifier = {
				add = 1
				communism > 0.1
			}
			modifier = {
				add = 1
				communism > 0.2
			}
			modifier = {
				add = 1
				communism > 0.3
			}
			modifier = {
				add = 1
				communism > 0.4
			}
			modifier = {
				factor = 10
				communism > 0.5
			}
		}
	}}

# Miltary
operations = {
	SWE_mobilize_landstormtrupperna = {
		allowed = {
			tag = SWE
		}
		
		available = {
			has_capitulated = no
		}
		visible = {
			has_global_flag = great_war
		}
		
		days_remove = 50
		fire_only_once = yes
		
		custom_cost_trigger = {
			command_power > 24
		}
		
		custom_cost_text = decision_cost_CP_25
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
			}
		}
		
		remove_effect = {
			add_war_support = 0.10
			# They didn't really have ammo or anything, so it was more a morale boost
		}
		ai_will_do = {
			base = 1
		}
	}
	SWE_organise_against_russian_threat = {
		# Essentially he was very anti-russian
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_for_sveriges_framtid
		}
		available = {
			has_completed_focus = SWE_creation_of_nationalistiskt_arbetarparti
			has_stability > 0.5
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			RUS = {
				exists = yes
			}
		}
		
		days_remove = 50
		fire_only_once = yes
		
		cost = 70
		modifier = {
			democratic_drift = -0.02
			fascism_drift = 0.01
			neutrality_drift = 0.01
		}
		
		complete_effect = {
			add_opinion_modifier = {
				modifier = large_decrease
				target = RUS
			}
		}
		
		remove_effect = {
			add_war_support = 0.05
			custom_effect_tooltip = adjust_swe_military_tt
			add_to_variable = {
				tooltip = training_time_factor_tt
				var = SWE_mil_training_time_factor
				value = -0.05
			}
			add_to_variable = {
				tooltip = industrial_capacity_factory_tt
				var = SWE_mil_industrial_capacity_factory
				value = 0.01
			}
		}
		
		ai_will_do = {
			base = 2
		}
	}
	SWE_secretly_bring_in_finnish_volunteers = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_support_finnish_resistance
		}
		available = {
			OR = {
				FIN = {
					exists = yes
					is_subject_of = RUS
				}
				RUS = {
					any_owned_state = { is_core_of = FIN }
				}
			}
		}
		
		custom_cost_trigger = {
			command_power > 24
		}
		custom_cost_text = decision_cost_CP_25
		modifier = {
			max_command_power = -25
			weekly_manpower = 150
		}
		
		cost = 100
		days_remove = 210
		fire_only_once = yes
		
		complete_effect = {
			hidden_effect = { add_command_power = -25 }
			add_manpower = 500
			set_country_flag = SWE_inviting_finnish_volunteers
		}
		
		ai_will_do = {
			base = 1
		}
	}
	SWE_german_training_for_finnish_volunteers = {
		allowed = {
			original_tag = SWE
		}
		visible = {
			has_completed_focus = SWE_support_finnish_resistance
		}
		available = {
			has_country_flag = SWE_inviting_finnish_volunteers
		}
		
		custom_cost_trigger = {
			command_power > 49
		}
		custom_cost_text = decision_cost_CP_50
		
		cost = 100
		days_remove = 50
		fire_only_once = yes
		
		complete_effect = {
			hidden_effect = { add_command_power = -50 }
		}
		remove_effect = {
			custom_effect_tooltip = will_gain_two_finnish_divisions_when_at_war_with_russia
		}
		
		ai_will_do = {
			base = 1
		}
	}
}