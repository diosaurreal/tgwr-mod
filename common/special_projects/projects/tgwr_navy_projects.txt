#Coastal Submarine
sp_naval_coastal_submarine = {
	specialization = specialization_naval

	project_tags = {
		sp_tag_submarine
	}

	allowed = {
		#FREE
	}
	
	available = { 
		FROM = {
			has_tech = basic_ship_hull_submarine
		}
	}

	complexity = sp_complexity.medium
	prototype_time = sp_time.prototype.short
	

	resource_cost = {
		resources = {
			steel = 6
		}
	}

	breakthrough_cost = {
		specialization_naval = 1
	}
	project_output = {
		enable_equipments = {	
			ship_hull_coastal_submarine
		}

	country_effects = {
			add_design_template_bonus = {
				name = coastal_submarine
				uses = 1
				cost_factor = 1
				equipment = ship_hull_coastal_submarine
			}

			if = {
				limit = {
					original_tag = GER
				}
				create_equipment_variant = {
					name = "UB-1 Class"
					type = ship_hull_coastal_submarine
					allow_without_tech = yes # Display tooltip as if we have the tech.
					name_group = GER_SUBMARINES_HISTORICAL
					parent_version = 0
					mark_older_equipment_obsolete = yes
					design_team = mio:GER_krupp_germaniawerft_organization
					modules = {
						fixed_ship_torpedo_slot = ship_torpedo_sub_2
						fixed_ship_engine_slot = sub_ship_engine_2
					}
				}
				if = {
					limit = { 
						has_tech = submarine_mine_laying
					}
					create_equipment_variant = {
						name = "UC-1 Class"
						type = ship_hull_coastal_submarine
						allow_without_tech = yes # Display tooltip as if we have the tech.
						name_group = GER_SUBMARINES_HISTORICAL
						parent_version = 0
						mark_older_equipment_obsolete = yes
						design_team = mio:GER_krupp_germaniawerft_organization
						modules = {
							fixed_ship_torpedo_slot = ship_torpedo_sub_1
							fixed_ship_engine_slot = sub_ship_engine_2
							mid_1_custom_slot = ship_mine_layer_sub
						}
					}
				}					
				add_equipment_production = {
					equipment = {
						type = ship_hull_coastal_submarine
						creator = "GER"
						version_name = "UB-1 Class"
					}
					requested_factories = 1
					progress = 0.35
					amount = 2
					industrial_manufacturer =  mio:GER_krupp_germaniawerft_organization
				}
					
			}
		}
	}

	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_navy_xp_1
		sp_naval_generic_reward_navy_xp_2
		sp_naval_generic_reward_navy_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_failure_torpedo_accident		
	}

	unique_prototype_rewards = {
		sp_naval_midget_submarine_unique_reward_a = {
			fire_only_once = yes

			threshold = { 
				min = 40
				max = 90
			}

			weight = {
				base = 100
			}

			option = {
				token = sp_naval_midget_submarine_preference_a
				
				iteration_output = {
					country_effects = {						
						add_equipment_bonus = {
							name = sp_midget_submarine_eq_bonus_stealth
							bonus = {
								ship_hull_coastal_submarine = {
									naval_range = -0.2
									sub_visibility = -0.1										
								}
							}
						}
					}
				}
			}

			option = {
				token = sp_naval_midget_submarine_preference_b
				
				iteration_output = {
					country_effects = {
						add_equipment_bonus = {
							name = sp_midget_submarine_eq_bonus_reliability
							bonus = {
								ship_hull_coastal_submarine = {
									reliability = 0.1										
								}
							}
						}
					}
				} 
			}

			option = {
				token = sp_naval_midget_submarine_preference_c
				
				iteration_output = {
					country_effects = {
						add_equipment_bonus = {
							name = sp_midget_submarine_eq_bonus_range
							bonus = {
								ship_hull_coastal_submarine = {
									naval_range = 0.2
									sub_visibility = 0.1										
								}
							}
						}
					}
				}
			}
		}		
	}	
}

#Panzerschiffe/pocket battleships
sp_naval_pocket_battleship = {
	specialization = specialization_naval
	project_tags = sp_tag_surface_ship
	ai_will_do = {
		base = 1
	}
	allowed = {
		#FREE
	}
	available = {
		FROM = {
			has_tech = interwar_ship_hull_cruiser
		}
	}
	complexity = sp_complexity.small
	prototype_time = sp_time.prototype.medium
	resource_cost = {
		resources = {
			steel = 8
			tungsten = 2
			chromium = 2
		}
	}
	breakthrough_cost = {
		specialization_naval = 1
	}
	project_output = {
		country_effects = {
			add_design_template_bonus = {
				name = ship_hull_cruiser_panzerschiff
				uses = 1
				cost_factor = 1
				equipment = ship_hull_cruiser_panzerschiff
			}
		}
		enable_equipments = {
			ship_hull_cruiser_panzerschiff
		}
		enable_equipment_modules = {
		}
		enable_subunits = {
		}
	}
	generic_prototype_rewards = {
		sp_naval_generic_reward_scientist_xp_1
		sp_naval_generic_reward_scientist_xp_2
		sp_naval_generic_reward_scientist_xp_3
		sp_naval_generic_reward_navy_xp_1
		sp_naval_generic_reward_navy_xp_2
		sp_naval_generic_reward_navy_xp_3
		sp_naval_generic_reward_major_progress_1
		sp_naval_generic_reward_major_progress_2
		sp_naval_generic_reward_major_progress_3
		sp_naval_generic_reward_test_failure_1
		sp_naval_generic_reward_test_failure_2
		sp_naval_generic_reward_test_failure_3
		sp_naval_generic_reward_armor_tech_1
		sp_naval_generic_reward_armor_tech_2
		sp_naval_generic_reward_armor_tech_3
		sp_naval_generic_reward_artillery_tech_1
		sp_naval_generic_reward_artillery_tech_2
		sp_naval_generic_reward_artillery_tech_3
	}
}
