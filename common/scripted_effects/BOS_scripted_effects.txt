
### BOSNIA ###

BOS_clamp_opinion_vars = {
	clamp_variable = {
		var = var:BOS_serb_opinion
		min = -5
		max = 5
	}
	clamp_variable = {
		var = var:BOS_muslim_opinion
		min = -5
		max = 5
	}
	clamp_variable = {
		var = var:BOS_croat_opinion
		min = -5
		max = 5
	}
}

BOS_1910_elections_effects = {
	set_variable = {
		BOS_parliament_sno_seats = 31
	}
	set_variable = {
		BOS_parliament_mpo_seats = 24
	}
	set_variable = {
		BOS_parliament_hnz_seats = 12
	}
	set_variable = {
		BOS_parliament_hku_seats = 4
	}
	set_variable = {
		BOS_parliament_ind_seats = 1
	}
	set_variable = {
		BOS_parliament_total = 0
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_sno_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_mpo_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_hnz_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_hku_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_ind_seats
	}
	
	set_variable = {
		BOS_serb_opinion = 0
	}
	set_variable = {
		BOS_muslim_opinion = 0
	}
	set_variable = {
		BOS_croat_opinion = 0
	}

	BOS_clamp_opinion_vars = yes
	clamp_variable = {
		var = BOS_parliament_total
		min = 0
		max = 92
	}
}
BOS_1913_partial_election = {
	set_global_flag = BOS_1913_partial_elections
	set_variable = {
		BOS_parliament_sno_seats = 19
	}
	set_variable = {
		BOS_parliament_mpo_seats = 24
	}
	set_variable = {
		BOS_parliament_snp_seats = 8
	}
	set_variable = {
		BOS_parliament_hnz_seats = 12
	}
	set_variable = {
		BOS_parliament_hku_seats = 4
	}
	set_variable = {
		BOS_parliament_ind_seats = 1
	}
	set_variable = {
		BOS_parliament_total = 0
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_sno_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_snp_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_mpo_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_hnz_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_hku_seats
	}
	add_to_variable = {
		BOS_parliament_total = BOS_parliament_ind_seats
	}
	set_party_name = {
        ideology = democratic
        long_name = BOS_umo
        name = BOS_umo_3
    }
	
	set_variable = {
		BOS_serb_opinion = -1
	}
	set_variable = {
		BOS_muslim_opinion = 0
	}
	set_variable = {
		BOS_croat_opinion = -1
	}

	BOS_clamp_opinion_vars = yes
	clamp_variable = {
		var = BOS_parliament_total
		min = 0
		max = 92
	}
}
BOS_increase_serb_opinion = {
	if = {
		limit = {
			check_variable = {
				BOS_serb_opinion < 5
			}
		}
		add_to_variable = {
			BOS_serb_opinion = 1
		}
		custom_effect_tooltip = BOS_increase_serb_tt
		else = {
			add_stability = 0.02
			add_political_power = 25
		}
	}
	BOS_clamp_opinion_vars = yes
}
BOS_decrease_serb_opinion = {
	if = {
		limit = {
			check_variable = {
				BOS_serb_opinion > -5
			}
		}
		add_to_variable = {
			BOS_serb_opinion = -1
		}
		custom_effect_tooltip = BOS_decrease_serb_tt
		else = {
			add_stability = -0.02
			add_political_power = -25
		}
	}
	BOS_clamp_opinion_vars = yes
}
BOS_increase_muslim_opinion = {
	if = {
		limit = {
			check_variable = {
				BOS_muslim_opinion < 5
			}
		}
		add_to_variable = {
			BOS_muslim_opinion = 1
		}
		custom_effect_tooltip = BOS_increase_muslim_tt
		else = {
			add_stability = 0.02
			add_political_power = 25
		}
	}
	BOS_clamp_opinion_vars = yes
}
BOS_decrease_muslim_opinion = {
	if = {
		limit = {
			check_variable = {
				BOS_muslim_opinion > -5
			}
		}
		add_to_variable = {
			BOS_muslim_opinion = -1
		}
		custom_effect_tooltip = BOS_decrease_muslim_tt
		else = {
			add_stability = -0.02
			add_political_power = -25
		}
	}
	BOS_clamp_opinion_vars = yes
}
BOS_increase_croat_opinion = {
	if = {
		limit = {
			check_variable = {
				BOS_croat_opinion < 5
			}
		}
		add_to_variable = {
			BOS_croat_opinion = 1
		}
		custom_effect_tooltip = BOS_increase_croat_tt
		else = {
			add_stability = 0.02
			add_political_power = 25
		}
	}
	BOS_clamp_opinion_vars = yes
}
BOS_decrease_croat_opinion = {
	if = {
		limit = {
			check_variable = {
				BOS_croat_opinion > -5
			}
		}
		add_to_variable = {
			BOS_croat_opinion = -1
		}
		custom_effect_tooltip = BOS_decrease_croat_tt
		else = {
			add_stability = -0.02
			add_political_power = -25
		}
	}
	BOS_clamp_opinion_vars = yes
}

#BOS_update_austria_relations = {
#	clamp_variable = {
#		var = BOS_austria_relations
#		min = 0
#		max = 100
#	}
#}
#trying without chatgpt im sorry
BOS_update_influence_vars = {
	set_variable = { BOS_austrian_influence = 0 }
	set_variable = { BOS_hungarian_influence = 0 }
	set_variable = { BOS_influence_temp = 0 }
	set_variable = {
        BOS_influence_temp = power_balance_value:BOS_austrian_hungarian_influence
    }
	multiply_variable = {
        var = BOS_influence_temp
        value = 100
    }
	if = {
        limit = {
            check_variable = {
                var = BOS_influence_temp
                value > 0
            }
        }
        set_variable = {
            BOS_austrian_influence = BOS_influence_temp
        }
        multiply_variable = {
            var = BOS_austrian_influence
            value = -1	
        }
    }
	if = {
        limit = {
            check_variable = {
                var = BOS_influence_temp
                value < 0
            }
        }
        set_variable = {
            BOS_hungarian_influence = BOS_influence_temp
        }
    }
}
