GER_negotiations_with_FRA_displayer = {
	if = {
		limit = {
			GER = {
				has_country_flag = GER_AUH_FRA_alsace_for_galicia_flag
			}
			
		}
		custom_effect_tooltip = GER_AUH_FRA_alsace_for_galicia
	}
	if = {
		limit = {
			GER = {
				has_country_flag = GER_AUH_FRA_briey_for_mulhouse_flag
			}
		}
		custom_effect_tooltip = GER_AUH_FRA_briey_for_mulhouse
	}
	if = {
		limit = {
			GER = {
				has_country_flag = GER_AUH_FRA_dismantle_belgium_flag
			}
		}
		custom_effect_tooltip = GER_AUH_FRA_dismantle_belgium
	}
	if = {
		limit = {
			GER = {
				has_country_flag = GER_AUH_FRA_puppet_poland_flag
			}
		}
		custom_effect_tooltip = GER_AUH_FRA_puppet_poland
		custom_effect_tooltip = GER_AUH_FRA_ukraine_for_russia
	}
	if = {
		limit = {
			GER = {
				has_country_flag = GER_AUH_FRA_puppet_baltics_flag
			}
		}
		custom_effect_tooltip = GER_AUH_FRA_puppet_baltics
	}
	if = {
		limit = {
			GER = {
				has_country_flag = GER_AUH_FRA_annex_baltics_flag
			}
		}
		custom_effect_tooltip = GER_AUH_FRA_annex_baltics
	}
	if = {
		limit = {
			GER = {
				has_country_flag = GER_AUH_FRA_annex_madagascar_flag
			}
		}
		custom_effect_tooltip = GER_AUH_FRA_annex_madagascar
	}
	if = {
		limit = {
			GER = {
				has_country_flag = GER_AUH_FRA_annex_partial_balkan_losers_flag
			}
		}
		custom_effect_tooltip = GER_AUH_FRA_annex_partial_balkan_losers
	}
}

GER_parliament_gui_initial = {
	# Put simply an array stores a list of things, used here to store the list of parties and list of seats.

	# GER_parliament_seat_array stores the list of seat numbers for each party
    set_variable = {
        var = SB #Spartakusbund
        value = 0
    }
	set_variable = {
        var = USPD #Unabh√§ngige Sozialdemokraten
        value = 0
    }
    set_variable = {
        var = SPD #Sozialdemokraten
        value = 43
    }
    set_variable = {
        var = FVP #Fortschrittliche Volkspartei
        value = 48
    }
    set_variable = {
        var = NLP #Nationalliberale 
        value = 55
    }
    set_variable = {
        var = RP #Regional Parties
        value = 0
    }
    set_variable = {
        var = NM #National Minorities
        value = 20
    }  
    set_variable = {
        var = NA #Non-affiliated
        value = 15
    }
    set_variable = {
        var = Z #Zentrum
        value = 105
    }
    set_variable = {
        var = FKP #Deutsche Reichspartei
        value = 24
    }
    set_variable = {
        var = DKP #Deutschkonservative
        value = 62
    }
    set_variable = {
        var = WV #Wirtschaftliche Vereinigung
        value = 19
    }
    set_variable = {
        var = DRP #Deutsche Reformpartei
        value = 6
    }

	add_to_array = { GER_parliament_seat_array = SB } 
	add_to_array = { GER_parliament_seat_array = USPD } 
	add_to_array = { GER_parliament_seat_array = SPD } 
	add_to_array = { GER_parliament_seat_array = FVP } 
	add_to_array = { GER_parliament_seat_array = NLP } 
	add_to_array = { GER_parliament_seat_array = RP } 
    add_to_array = { GER_parliament_seat_array = NM} 
	add_to_array = { GER_parliament_seat_array = NA }
    add_to_array = { GER_parliament_seat_array = Z } 
    add_to_array = { GER_parliament_seat_array = FKP } 
    add_to_array = { GER_parliament_seat_array = DKP } 
    add_to_array = { GER_parliament_seat_array = WV }
    add_to_array = { GER_parliament_seat_array = DRP }

	# GER_parliament_member_array stores the list of parties
	# This basically assigns an id for each party, so Party A = 1, Party B = 2, etc. (must start from 1 and is in order)
	add_to_array = { GER_parliament_member_array = 1 } 
	add_to_array = { GER_parliament_member_array = 2 } 
	add_to_array = { GER_parliament_member_array = 3 } 
	add_to_array = { GER_parliament_member_array = 4 }
    add_to_array = { GER_parliament_member_array = 5 }
    add_to_array = { GER_parliament_member_array = 6 }
    add_to_array = { GER_parliament_member_array = 7 }
    add_to_array = { GER_parliament_member_array = 8 }
    add_to_array = { GER_parliament_member_array = 9 }
    add_to_array = { GER_parliament_member_array = 10 }
    add_to_array = { GER_parliament_member_array = 11 }
	add_to_array = { GER_parliament_member_array = 12 }
	add_to_array = { GER_parliament_member_array = 13 }
    
    #setup how many seats the left, the center, the right and neutrals have
    GER_recalculate_faction_seats = yes

	# Set up the positions of the dots for the semicircle parliament
	GER_parliament_gui_positions = yes

	# Modify what shows up in the gui
	GER_reload_parliament_gui = yes
}

GER_recalculate_faction_seats = {
	set_variable = {
        var = GER_left_faction
        value = SB
    }
	add_to_variable = {
        var = GER_left_faction
        value = USPD
    }
    add_to_variable = {
        var = GER_left_faction
        value = SPD
    }
    add_to_variable = {
        var = GER_left_faction
        value = FVP
    }
	
    set_variable = {
        var = GER_neutral_faction
        value = RP
    }
	add_to_variable = {
        var = GER_neutral_faction
        value = NM
    }
    add_to_variable = {
        var = GER_neutral_faction
        value = NA
    }

    set_variable = {
        var = GER_center_faction
        value = NLP
    }
    add_to_variable = {
        var = GER_center_faction
        value = Z
    }

    set_variable = {
        var = GER_right_faction
        value = FKP
    }
    add_to_variable = {
        var = GER_right_faction
        value = DKP
    }
    add_to_variable = {
        var = GER_right_faction
        value = WV
    }
    add_to_variable = {
        var = GER_right_faction
        value = DRP
    }
}

GER_setup_initial_predictions = {
	set_variable = {
        SB_upcoming = 0
    }
	set_variable = {
        USPD_upcoming = 0
    }
    set_variable = {
        SPD_upcoming = 110
    }
    set_variable = {
        FVP_upcoming = 42
    }
    set_variable = {
        NLP_upcoming = 44
    }
    set_variable = {
        NM_upcoming = 27
    }
    set_variable = {
        NA_upcoming = 10
    }
    set_variable = {
        RP_upcoming = 5
    }
    set_variable = {
        Z_upcoming = 90
    }
    set_variable = {
        FKP_upcoming = 13
    }
    set_variable = {
        DKP_upcoming = 45
    }
    set_variable = {
        WV_upcoming = 8
    }
    set_variable = {
        DRP_upcoming = 3
    }
    GER_recalculate_faction_prediction_seats = yes
}

GER_1912_predicted_seats_calculations = {
    #SPD
    set_temp_variable = {
        seatsDistri^0 = party_popularity@communism
    }
    multiply_temp_variable = {
        seatsDistri^0 = 397
    }
    multiply_temp_variable = {
        seatsDistri^0 = 0.95
    }
    set_temp_variable = {
        seatsDistri^1 = party_popularity@democratic
    }
    multiply_temp_variable = {
        seatsDistri^1 = 397
    }
    multiply_temp_variable = {
        seatsDistri^1 = 0.5
    }
    add_to_temp_variable = {
        seatsDistri^0 = seatsDistri^1
    }
    set_variable = {
        SPD_upcoming = seatsDistri^0
    }
    round_variable = SPD_upcoming
    #FVP
    set_temp_variable = {
        seatsDistri^2 = party_popularity@democratic
    }
    multiply_temp_variable = {
        seatsDistri^2 = 397
    }
    multiply_temp_variable = {
        seatsDistri^2 = 0.2
    }
    set_variable = {
        FVP_upcoming = seatsDistri^2
    }
    round_variable = FVP_upcoming
    #NLP
    set_temp_variable = {
        seatsDistri^3 = party_popularity@democratic
    }
    multiply_temp_variable = {
        seatsDistri^3 = 397
    }
    multiply_temp_variable = {
        seatsDistri^3 = 0.1
    }
    set_temp_variable = {
        seatsDistri^4 = party_popularity@neutrality 
    }
    multiply_temp_variable = {
        seatsDistri^4 = 397
    }
    multiply_temp_variable = {
        seatsDistri^4 = 0.14
    }
    add_to_temp_variable = {
        seatsDistri^3 = seatsDistri^4
    }
    set_variable = {
        NLP_upcoming = seatsDistri^3
    }
    round_variable = NLP_upcoming
    #Z
    set_temp_variable = {
        seatsDistri^5 = party_popularity@democratic
    }
    multiply_temp_variable = {
        seatsDistri^5 = 397
    }
    multiply_temp_variable = {
        seatsDistri^5 = 0.1
    }
    set_temp_variable = {
        seatsDistri^6 = party_popularity@neutrality 
    }
    multiply_temp_variable = {
        seatsDistri^6 = 397
    }
    multiply_temp_variable = {
        seatsDistri^6 = 0.5
    }
    add_to_temp_variable = {
        seatsDistri^5 = seatsDistri^6
    }
    set_variable = {
        Z_upcoming = seatsDistri^5
    }
    round_variable = Z_upcoming
    #FKP
    set_temp_variable = {
        seatsDistri^7 = party_popularity@neutrality
    }
    multiply_temp_variable = {
        seatsDistri^7 = 397
    }
    set_variable = {
        FKP_upcoming = seatsDistri^7
    }
    multiply_variable = {
        FKP_upcoming = 0.1
    }
    round_variable = FKP_upcoming
    #DKP
    set_variable = {
        DKP_upcoming = seatsDistri^7
    }
    multiply_variable = {
        DKP_upcoming = 0.16
    }
    round_variable = DKP_upcoming
    #WV
    set_temp_variable = {
        seatsDistri^8 = party_popularity@neutrality
    }
    multiply_temp_variable = {
        seatsDistri^8 = 397
    }
    multiply_temp_variable = {
        seatsDistri^8 = 0.05
    }
    set_temp_variable = {
        seatsDistri^9 = party_popularity@fascism
    }
    multiply_temp_variable = {
        seatsDistri^9 = 397
    }
    multiply_temp_variable = {
        seatsDistri^9 = 0.3
    }
    add_to_temp_variable = {
        seatsDistri^8 = seatsDistri^9
    }
    set_variable = {
        WV_upcoming = seatsDistri^8
    }
    round_variable = WV_upcoming
    #DRP
    set_temp_variable = {
        seatsDistri^10 = party_popularity@fascism
    }
    multiply_temp_variable = {
        seatsDistri^10 = 397
    }
    set_variable = {
        DRP_upcoming = seatsDistri^10
    }
    multiply_variable = {
        DRP_upcoming = 0.65
    }
    round_variable = DRP_upcoming
    #NM
    set_temp_variable = {
        seatsDistri^11 = party_popularity@democratic
    }
    multiply_temp_variable = {
        seatsDistri^11 = 397
    }
    set_variable = {
        NM_upcoming = seatsDistri^11
    }
    multiply_variable = {
        NM_upcoming = 0.05
    }
    round_variable = NM_upcoming
    #NA and RM
    set_temp_variable = {
        seatsDistri^12 = party_popularity@communism
    }
    multiply_temp_variable = {
        seatsDistri^12 = 397
    }
    multiply_temp_variable = {
        seatsDistri^12 = 0.025
    }
    set_temp_variable = {
        seatsDistri^13 = party_popularity@democratic
    }
    multiply_temp_variable = {
        seatsDistri^13 = 397
    }
    multiply_temp_variable = {
        seatsDistri^13 = 0.025
    }
    add_to_temp_variable = {
        seatsDistri^12 = seatsDistri^13
    }
    set_temp_variable = {
        seatsDistri^14 = party_popularity@fascism
    }
    multiply_temp_variable = {
        seatsDistri^14 = 397
    }
    multiply_temp_variable = {
        seatsDistri^14 = 0.025
    }
    add_to_temp_variable = {
        seatsDistri^12 = seatsDistri^14
    }
    set_temp_variable = {
        seatsDistri^15 = party_popularity@neutrality
    }
    multiply_temp_variable = {
        seatsDistri^15 = 397
    }
    multiply_temp_variable = {
        seatsDistri^15 = 0.025
    }
    add_to_temp_variable = {
        seatsDistri^12 = seatsDistri^15
    }
    set_variable = {
        NA_upcoming =  seatsDistri^12
    }
    set_variable = {
        RP_upcoming = seatsDistri^12
    }
    round_variable = NA_upcoming
    round_variable = RP_upcoming
    #Total Seats Calculation
    set_variable = {
        GER_total_pred_seats = SPD_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = FVP_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = NLP_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = Z_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = FKP_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = DKP_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = WV_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = DRP_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = NM_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = NA_upcoming
    }
    add_to_variable = {
        GER_total_pred_seats = RP_upcoming
    }
    IF = {
        limit = {
            check_variable = {
                var = GER_total_pred_seats 
                value = 397
                compare = not_equals
            }
        }
        set_variable = {
            GER_excess_seats = GER_total_pred_seats
        }
        subtract_from_variable = {
            GER_excess_seats = 397
        }
        IF = {
            limit = { 
                communism_plurality = yes
            }
            subtract_from_variable = {
                var = SPD_upcoming
                value = GER_excess_seats
            }
        }
        else_IF = {
            limit = { 
                democratic_plurality = yes
            }
            subtract_from_variable = {
                var = SPD_upcoming
                value = GER_excess_seats
            }
        }
        else_IF = {
            limit = { 
                neutrality_plurality = yes
            }
            subtract_from_variable = {
                var = Z_upcoming
                value = GER_excess_seats
            }
        }
        else_IF = {
            limit = { 
                fascism_plurality = yes
            }
            subtract_from_variable = {
                var = DRP_upcoming
                value = GER_excess_seats
            }
        }
    }

    GER_recalculate_faction_prediction_seats = yes
}

GER_recalculate_faction_prediction_seats = {
	set_variable = {
        var = GER_left_faction_prediction
        value = SB_upcoming
    }
	add_to_variable = {
        var = GER_left_faction_prediction
        value = USPD_upcoming
    }
    add_to_variable = {
        var = GER_left_faction_prediction
        value = SPD_upcoming
    }
    add_to_variable = {
        var = GER_left_faction_prediction
        value = FVP_upcoming
    }
	
    set_variable = {
        var = GER_neutral_faction_prediction
        value = RP_upcoming
    }
	add_to_variable = {
        var = GER_neutral_faction_prediction
        value = NM_upcoming
    }
    add_to_variable = {
        var = GER_neutral_faction_prediction
        value = NA_upcoming
    }

    set_variable = {
        var = GER_center_faction_prediction
        value = NLP_upcoming
    }
    add_to_variable = {
        var = GER_center_faction_prediction
        value = Z_upcoming
    }

    set_variable = {
        var = GER_right_faction_prediction
        value = FKP_upcoming
    }
    add_to_variable = {
        var = GER_right_faction_prediction
        value = DKP_upcoming
    }
    add_to_variable = {
        var = GER_right_faction_prediction
        value = WV_upcoming
    }
    add_to_variable = {
        var = GER_right_faction_prediction
        value = DRP_upcoming
    }
}

GER_apply_predictions = {
	set_variable = {
        var = SB
        value = SB_upcoming
    }
	set_variable = {
        var = USPD
        value = USPD_upcoming
    }
    set_variable = {
        var = SPD
        value = SPD_upcoming
    }
    set_variable = {
        var = FVP
        value = FVP_upcoming
    }
    set_variable = {
        var = NLP
        value = NLP_upcoming
    }
    set_variable = {
        var = NM
        value = NM_upcoming
    }
    set_variable = {
        var = NA
        value = NA_upcoming
    }
    set_variable = {
        var = RP
        value = RP_upcoming
    }
    set_variable = {
        var = Z
        value = Z_upcoming
    }
    set_variable = {
        var = FKP
        value = FKP_upcoming
    }
    set_variable = {
        var = DKP
        value = DKP_upcoming
    }
    set_variable = {
        var = WV
        value = WV_upcoming
    }
    set_variable = {
        var = DRP
        value = DRP_upcoming
    }
	
    #setup how many seats the left, the center, the right and neutrals have
    GER_recalculate_faction_seats = yes

    # Set up the positions of the dots for the semicircle parliament
    GER_parliament_gui_positions = yes

    GER_parliament_reassign_seats = yes

    # Modify what shows up in the gui
    GER_reload_parliament_gui = yes
}

coalition_united_vote_strengh = {
    set_temp_variable = {
        merged_vote_strengh = 397
    }
}

left_vote_temp_var_setter = {
    clr_country_flag = GER_reichstag_vote_in_progress
    set_temp_variable = {
        left_vote = GER_left_faction
    }
    multiply_temp_variable = {
        var = left_vote
        value = 1
    }
    round_temp_variable = left_vote
    set_temp_variable = {
        neutral_vote = GER_neutral_faction
    }
    multiply_temp_variable = {
        var = neutral_vote
        value = 0.25 
    }
    round_temp_variable = neutral_vote
    set_temp_variable = {
        center_vote = GER_center_faction
    }
    multiply_temp_variable = {
        var = center_vote
        value = 0.25
    }
    round_temp_variable = center_vote

    set_temp_variable = {
        var = merged_vote_strengh
        value = left_vote
    }
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = neutral_vote
    }
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = center_vote
    }
    if = {
        limit = {
            has_country_flag = GER_war_coalition_active
            NOT = {
                has_global_flag = great_war_ends
            }
        }
        custom_effect_tooltip = GER_vote_coalition_law
        else = {
             custom_effect_tooltip = GER_vote_left_law
        }
    }
    # bonus seats from swaying
    set_temp_variable = {
        center_vote = GER_center_faction
    }
    multiply_temp_variable = {
        var = center_vote
        value = center_ratio_sway_ratio
    }
    round_temp_variable = center_vote
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = center_vote
    }
    if = {
        limit = {
            has_country_flag = GER_center_sway_20_percent
        }
        custom_effect_tooltip = GER_sway_center_will_vote_20_percent
    }
    set_temp_variable = {
        neutral_vote = GER_neutral_faction
    }
    multiply_temp_variable = {
        var = neutral_vote
        value = neutral_ratio_sway_ratio
    }
    round_temp_variable = neutral_vote
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = neutral_vote
    }
    if = {
        limit = {
            has_country_flag = GER_neutral_sway_20_percent
        }
        custom_effect_tooltip = GER_sway_neutral_will_vote_20_percent
    }
    #united coalition vote
    if = {
        limit = {
            has_country_flag = GER_war_coalition_active
        }
        coalition_united_vote_strengh = yes
    }
    ## end of bonus seats
    get_vote_strengh_in_percent = yes #setting up the percent for tooltips
    custom_effect_tooltip = GER_vote_strengh_tt
}

center_vote_temp_var_setter = {
    clr_country_flag = GER_reichstag_vote_in_progress
    set_temp_variable = {
        center_vote = GER_center_faction
    }
    multiply_temp_variable = {
        var = center_vote
        value = 1
    }
    round_temp_variable = center_vote
    set_temp_variable = {
        neutral_vote = GER_neutral_faction
    }
    multiply_temp_variable = {
        var = neutral_vote
        value = 0.15 
    }
    round_temp_variable = neutral_vote
    set_temp_variable = {
        left_vote = GER_left_faction
    }
    multiply_temp_variable = {
        var = left_vote
        value = 0.15
    }
    round_temp_variable = left_vote
    set_temp_variable = {
        right_vote = GER_right_faction
    }
    multiply_temp_variable = {
        var = right_vote
        value = 0.15
    }
    round_temp_variable = right_vote

    set_temp_variable = {
        var = merged_vote_strengh
        value = center_vote
    }
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = neutral_vote
    }
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = left_vote
    }
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = right_vote
    }
    if = {
        limit = {
            has_country_flag = GER_war_coalition_active
            NOT = {
                has_global_flag = great_war_ends
            }
        }
        custom_effect_tooltip = GER_vote_coalition_law
        else = {
             custom_effect_tooltip = GER_vote_center_law
        }
    }
   

    # this is the bonus seats from swaying : 
    #left
    set_temp_variable = {
        left_vote = GER_left_faction
    }
    multiply_temp_variable = {
        var = left_vote
        value = left_ratio_sway_ratio
    }
    round_temp_variable = left_vote
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = left_vote
    }
    if = {
        limit = {
            has_country_flag = GER_left_sway_20_percent
        }
        custom_effect_tooltip = GER_sway_left_will_vote_20_percent
    }
    #right
    set_temp_variable = {
        right_vote = GER_right_faction
    }
    multiply_temp_variable = {
        var = right_vote
        value = right_ratio_sway_ratio
    }
    round_temp_variable = right_vote
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = right_vote
    }
    if = {
        limit = {
            has_country_flag = GER_right_sway_20_percent
        }
        custom_effect_tooltip = GER_sway_right_will_vote_20_percent
    }
    set_temp_variable = {
        neutral_vote = GER_neutral_faction
    }
    multiply_temp_variable = {
        var = neutral_vote
        value = neutral_ratio_sway_ratio
    }
    round_temp_variable = neutral_vote
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = neutral_vote
    }
    if = {
        limit = {
            has_country_flag = GER_neutral_sway_20_percent
        }
        custom_effect_tooltip = GER_sway_neutral_will_vote_20_percent
    }
    #when coalition, everyone vote!
    #united coalition vote
    if = {
        limit = {
            has_country_flag = GER_war_coalition_active
        }
        coalition_united_vote_strengh = yes
    }
    get_vote_strengh_in_percent = yes #setting up the percent for tooltips
    ### end of swaying bloc !
    custom_effect_tooltip = GER_vote_strengh_tt
}

get_vote_strengh_in_percent = {
    set_temp_variable = {
        merged_vote_percent = merged_vote_strengh
    }
    multiply_temp_variable = {
        var = merged_vote_percent
        value = 100
    }
    divide_temp_variable = {
        var = merged_vote_percent
        value = 397
    }
}

right_vote_temp_var_setter = {
    clr_country_flag = GER_reichstag_vote_in_progress
    set_temp_variable = {
        right_vote = GER_right_faction
    }
    multiply_temp_variable = {
        var = right_vote
        value = 1
    }
    round_temp_variable = right_vote
    set_temp_variable = {
        neutral_vote = GER_neutral_faction
    }
    multiply_temp_variable = {
        var = neutral_vote
        value = 0.25
    }
    round_temp_variable = neutral_vote
    set_temp_variable = {
        center_vote = GER_center_faction
    }
    multiply_temp_variable = {
        var = center_vote
        value = 0.25
    }
    round_variable = center_vote

    set_temp_variable = {
        var = merged_vote_strengh
        value = right_vote
    }
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = neutral_vote
    }
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = center_vote
    }
    if = {
        limit = {
            has_country_flag = GER_war_coalition_active
            NOT = {
                has_global_flag = great_war_ends
            }
        }
        custom_effect_tooltip = GER_vote_coalition_law
        else = {
             custom_effect_tooltip = GER_vote_right_law
        }
    }
    # bonus seats from swaying
    #center
    set_temp_variable = {
        center_vote = GER_center_faction
    }
    multiply_temp_variable = {
        var = center_vote
        value = center_ratio_sway_ratio
    }
    round_temp_variable = center_vote
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = center_vote
    }
    if = {
        limit = {
            has_country_flag = GER_center_sway_20_percent
        }
        custom_effect_tooltip = GER_sway_center_will_vote_20_percent
    }
    #neutral
    set_temp_variable = {
        neutral_vote = GER_neutral_faction
    }
    multiply_temp_variable = {
        var = neutral_vote
        value = neutral_ratio_sway_ratio
    }
    round_temp_variable = neutral_vote
    add_to_temp_variable = {
        var = merged_vote_strengh
        value = neutral_vote
    }
    if = {
        limit = {
            has_country_flag = GER_neutral_sway_20_percent
        }
        custom_effect_tooltip = GER_sway_neutral_will_vote_20_percent
    }
    #united coalition vote
    if = {
        limit = {
            has_country_flag = GER_war_coalition_active
        }
        coalition_united_vote_strengh = yes
    }
    ## end of bonus seats
    get_vote_strengh_in_percent = yes #setting up the percent for tooltips
    custom_effect_tooltip = GER_vote_strengh_tt
}

GER_reload_parliament_gui = {
	# Clears what's currently on the gui, if there's anything there.
	clear_array = GER_parliament_main_array

	# The array temp_seat is duplicated from the array GER_parliament_seat_array.
	for_each_loop = {
		array = GER_parliament_seat_array

		add_to_array = { temp_seat = GER_parliament_seat_array^i }
	}

	# It's a suprise tool for later
	set_temp_variable = { temp_index_1 = 0 }
	set_temp_variable = { temp_index_2 = 1 }

	# Set temp_size as the highest index in the array, highest index is the highest value x in temp_array^x.
	set_temp_variable = { temp_size = temp_seat^num }
	subtract_from_temp_variable = { temp_size = 1 }

	# What this does is loop through the temp_seat array, adding the current value to the next value on the list.
	# temp_seat^0 is the first value on the list, temp_seat^1 is the next and so forth.
	# the loop ends when temp_index_1 is equal to the size of the array - 1 (basically the max index).
	while_loop_effect = {
		limit = {
			check_variable = { temp_index_1 < temp_size }
		}
		# The suprise tool starts out as temp_seat^0 and temp_seat^1 and then is incremented every loop , adding the current value to the next value on the list.
		add_to_variable = { temp_seat^temp_index_2 = temp_seat^temp_index_1 }
		add_to_temp_variable = { temp_index_1 = 1 }
		add_to_temp_variable = { temp_index_2 = 1 }
	}

	# resize_array fills the GER_parliament_member_array with the id of the parliament member x amount of times where x is the number of seats the member has.
	# so the array will look like this basically:
	# 1,1,1,1,1,1,1,...(repeated 90 times),2,2,2,2,2,2,2(repeated 35 times),3,3,3.. etc.
	for_loop_effect = {
		start = 0
		end = temp_seat^num

		resize_array = { array = GER_parliament_main_array value = GER_parliament_member_array^v size = temp_seat^v }
	}

	# Clear the temp_seat array used previously since it's not needed anymore.
	clear_array = temp_seat
}

# Bonus code for adding/subtracting seats
GER_modify_parliament_seat = {
	subtract_from_temp_variable = { temp_member = 1 }

	# check to see if result overflows
	set_temp_variable = { temp = GER_parliament_seat_array^temp_member }
	add_to_temp_variable = { temp = temp_seats }

	if = {
		limit = {
			check_variable = { temp > GER_parliament_main_array^num }
		}
		subtract_from_temp_variable = { temp = GER_parliament_main_array^num }
		subtract_from_temp_variable = { temp_seats = temp }
	}
	else_if = {
		limit = {
			check_variable = { temp < 0 }
		}
		multiply_temp_variable = { temp = -1 }
		subtract_from_temp_variable = { temp_seats = temp }
	}

	# adds all parties to temp_array
	for_loop_effect = {
		start = 0
		end = GER_parliament_seat_array^num

		add_to_temp_array = { temp_array = v }
	}

	# remove from list of parties the party to be added/subtracted
	remove_from_temp_array = { array = temp_array value = temp_member }

	# give party new seat value
	add_to_variable = { GER_parliament_seat_array^temp_member = temp_seats }

	# if its add
	if = {
		limit = {
			check_variable = { temp_seats > 0 }
		}
		# loop until seats to be added is 0
		while_loop_effect = {
			limit = {
				check_variable = { temp_seats > 0 }
			}

			# loops through remaining parties, subtracting 1 seat each time
			for_loop_effect = {
				start = 0
				end = temp_array^num

				if = {
					limit = {
						check_variable = { GER_parliament_seat_array^temp_array^v > 0 } # party must have more than 0 seats to be subtracted
						check_variable = { temp_seats > 0 } # seats to be added is bigger than 0 currently
					}
					subtract_from_variable = { GER_parliament_seat_array^temp_array^v = 1 } # subtract from party 1 seat
					subtract_from_temp_variable = { temp_seats = 1 } # subtract from seats to be added
				}
			}
		}
	}
	# if its subtract
	else_if = {
		limit = {
			check_variable = { temp_seats < 0 }
		}
		# loop until seats to be subtracted is 0
		while_loop_effect = {
			limit = {
				check_variable = { temp_seats < 0 }
			}

			# loops through remaining parties, adding 1 seat each time
			for_loop_effect = {
				start = 0
				end = temp_array^num

				if = {
					limit = {
						check_variable = { GER_parliament_seat_array^temp_array^v < GER_parliament_main_array^num } # party must have less than max seats to be added
						check_variable = { temp_seats < 0 } # seats to be subtracted is less than 0 currently
					}
					add_to_variable = { GER_parliament_seat_array^temp_array^v = 1 } # add to party 1 seat
					add_to_temp_variable = { temp_seats = 1 } # add to seats to be subtracted
				}
			}
		}
	}
	# do nothing if 0

	# Modify what shows up in the gui
	GER_reload_parliament_gui = yes
}

GER_parliament_gui_positions = {
    add_to_array = { GER_parliament_x_array = 0 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 13 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 25 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 38 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 50 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 63 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 75 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 88 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 101 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 113 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 126 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 1 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 14 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 26 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 39 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 52 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 64 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 77 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 3 }
    add_to_array = { GER_parliament_y_array = 201 }
    add_to_array = { GER_parliament_x_array = 90 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 16 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 103 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 29 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 42 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 115 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 54 }
    add_to_array = { GER_parliament_y_array = 201 }
    add_to_array = { GER_parliament_x_array = 128 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 6 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 67 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 19 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 80 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 32 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 93 }
    add_to_array = { GER_parliament_y_array = 201 }
    add_to_array = { GER_parliament_x_array = 45 }
    add_to_array = { GER_parliament_y_array = 185 }
    add_to_array = { GER_parliament_x_array = 10 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 58 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 106 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 23 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 71 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 119 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 36 }
    add_to_array = { GER_parliament_y_array = 171 }
    add_to_array = { GER_parliament_x_array = 85 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 14 }
    add_to_array = { GER_parliament_y_array = 158 }
    add_to_array = { GER_parliament_x_array = 50 }
    add_to_array = { GER_parliament_y_array = 171 }
    add_to_array = { GER_parliament_x_array = 132 }
    add_to_array = { GER_parliament_y_array = 201 }
    add_to_array = { GER_parliament_x_array = 98 }
    add_to_array = { GER_parliament_y_array = 187 }
    add_to_array = { GER_parliament_x_array = 63 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 28 }
    add_to_array = { GER_parliament_y_array = 158 }
    add_to_array = { GER_parliament_x_array = 42 }
    add_to_array = { GER_parliament_y_array = 158 }
    add_to_array = { GER_parliament_x_array = 76 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 111 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 20 }
    add_to_array = { GER_parliament_y_array = 145 }
    add_to_array = { GER_parliament_x_array = 56 }
    add_to_array = { GER_parliament_y_array = 157 }
    add_to_array = { GER_parliament_x_array = 90 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 34 }
    add_to_array = { GER_parliament_y_array = 144 }
    add_to_array = { GER_parliament_x_array = 69 }
    add_to_array = { GER_parliament_y_array = 159 }
    add_to_array = { GER_parliament_x_array = 125 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 104 }
    add_to_array = { GER_parliament_y_array = 173 }
    add_to_array = { GER_parliament_x_array = 48 }
    add_to_array = { GER_parliament_y_array = 144 }
    add_to_array = { GER_parliament_x_array = 26 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 83 }
    add_to_array = { GER_parliament_y_array = 159 }
    add_to_array = { GER_parliament_x_array = 139 }
    add_to_array = { GER_parliament_y_array = 188 }
    add_to_array = { GER_parliament_x_array = 62 }
    add_to_array = { GER_parliament_y_array = 144 }
    add_to_array = { GER_parliament_x_array = 41 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 118 }
    add_to_array = { GER_parliament_y_array = 173 }
    add_to_array = { GER_parliament_x_array = 76 }
    add_to_array = { GER_parliament_y_array = 146 }
    add_to_array = { GER_parliament_x_array = 97 }
    add_to_array = { GER_parliament_y_array = 158 }
    add_to_array = { GER_parliament_x_array = 33 }
    add_to_array = { GER_parliament_y_array = 118 }
    add_to_array = { GER_parliament_x_array = 55 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 111 }
    add_to_array = { GER_parliament_y_array = 160 }
    add_to_array = { GER_parliament_x_array = 48 }
    add_to_array = { GER_parliament_y_array = 118 }
    add_to_array = { GER_parliament_x_array = 91 }
    add_to_array = { GER_parliament_y_array = 146 }
    add_to_array = { GER_parliament_x_array = 133 }
    add_to_array = { GER_parliament_y_array = 173 }
    add_to_array = { GER_parliament_x_array = 70 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 41 }
    add_to_array = { GER_parliament_y_array = 106 }
    add_to_array = { GER_parliament_x_array = 84 }
    add_to_array = { GER_parliament_y_array = 133 }
    add_to_array = { GER_parliament_x_array = 63 }
    add_to_array = { GER_parliament_y_array = 119 }
    add_to_array = { GER_parliament_x_array = 106 }
    add_to_array = { GER_parliament_y_array = 146 }
    add_to_array = { GER_parliament_x_array = 126 }
    add_to_array = { GER_parliament_y_array = 160 }
    add_to_array = { GER_parliament_x_array = 146 }
    add_to_array = { GER_parliament_y_array = 175 }
    add_to_array = { GER_parliament_x_array = 57 }
    add_to_array = { GER_parliament_y_array = 106 }
    add_to_array = { GER_parliament_x_array = 79 }
    add_to_array = { GER_parliament_y_array = 119 }
    add_to_array = { GER_parliament_x_array = 99 }
    add_to_array = { GER_parliament_y_array = 134 }
    add_to_array = { GER_parliament_x_array = 50 }
    add_to_array = { GER_parliament_y_array = 94 }
    add_to_array = { GER_parliament_x_array = 120 }
    add_to_array = { GER_parliament_y_array = 148 }
    add_to_array = { GER_parliament_x_array = 72 }
    add_to_array = { GER_parliament_y_array = 107 }
    add_to_array = { GER_parliament_x_array = 93 }
    add_to_array = { GER_parliament_y_array = 122 }
    add_to_array = { GER_parliament_x_array = 142 }
    add_to_array = { GER_parliament_y_array = 161 }
    add_to_array = { GER_parliament_x_array = 66 }
    add_to_array = { GER_parliament_y_array = 95 }
    add_to_array = { GER_parliament_x_array = 115 }
    add_to_array = { GER_parliament_y_array = 134 }
    add_to_array = { GER_parliament_x_array = 60 }
    add_to_array = { GER_parliament_y_array = 83 }
    add_to_array = { GER_parliament_x_array = 88 }
    add_to_array = { GER_parliament_y_array = 107 }
    add_to_array = { GER_parliament_x_array = 135 }
    add_to_array = { GER_parliament_y_array = 149 }
    add_to_array = { GER_parliament_x_array = 109 }
    add_to_array = { GER_parliament_y_array = 122 }
    add_to_array = { GER_parliament_x_array = 82 }
    add_to_array = { GER_parliament_y_array = 96 }
    add_to_array = { GER_parliament_x_array = 156 }
    add_to_array = { GER_parliament_y_array = 164 }
    add_to_array = { GER_parliament_x_array = 129 }
    add_to_array = { GER_parliament_y_array = 137 }
    add_to_array = { GER_parliament_x_array = 103 }
    add_to_array = { GER_parliament_y_array = 111 }
    add_to_array = { GER_parliament_x_array = 76 }
    add_to_array = { GER_parliament_y_array = 84 }
    add_to_array = { GER_parliament_x_array = 70 }
    add_to_array = { GER_parliament_y_array = 72 }
    add_to_array = { GER_parliament_x_array = 99 }
    add_to_array = { GER_parliament_y_array = 97 }
    add_to_array = { GER_parliament_x_array = 126 }
    add_to_array = { GER_parliament_y_array = 123 }
    add_to_array = { GER_parliament_x_array = 152 }
    add_to_array = { GER_parliament_y_array = 150 }
    add_to_array = { GER_parliament_x_array = 93 }
    add_to_array = { GER_parliament_y_array = 85 }
    add_to_array = { GER_parliament_x_array = 119 }
    add_to_array = { GER_parliament_y_array = 112 }
    add_to_array = { GER_parliament_x_array = 87 }
    add_to_array = { GER_parliament_y_array = 74 }
    add_to_array = { GER_parliament_x_array = 146 }
    add_to_array = { GER_parliament_y_array = 138 }
    add_to_array = { GER_parliament_x_array = 113 }
    add_to_array = { GER_parliament_y_array = 100 }
    add_to_array = { GER_parliament_x_array = 80 }
    add_to_array = { GER_parliament_y_array = 62 }
    add_to_array = { GER_parliament_x_array = 140 }
    add_to_array = { GER_parliament_y_array = 127 }
    add_to_array = { GER_parliament_x_array = 110 }
    add_to_array = { GER_parliament_y_array = 87 }
    add_to_array = { GER_parliament_x_array = 104 }
    add_to_array = { GER_parliament_y_array = 75 }
    add_to_array = { GER_parliament_x_array = 167 }
    add_to_array = { GER_parliament_y_array = 154 }
    add_to_array = { GER_parliament_x_array = 98 }
    add_to_array = { GER_parliament_y_array = 64 }
    add_to_array = { GER_parliament_x_array = 137 }
    add_to_array = { GER_parliament_y_array = 113 }
    add_to_array = { GER_parliament_x_array = 92 }
    add_to_array = { GER_parliament_y_array = 53 }
    add_to_array = { GER_parliament_x_array = 131 }
    add_to_array = { GER_parliament_y_array = 102 }
    add_to_array = { GER_parliament_x_array = 125 }
    add_to_array = { GER_parliament_y_array = 91 }
    add_to_array = { GER_parliament_x_array = 164 }
    add_to_array = { GER_parliament_y_array = 140 }
    add_to_array = { GER_parliament_x_array = 158 }
    add_to_array = { GER_parliament_y_array = 129 }
    add_to_array = { GER_parliament_x_array = 122 }
    add_to_array = { GER_parliament_y_array = 78 }
    add_to_array = { GER_parliament_x_array = 116 }
    add_to_array = { GER_parliament_y_array = 67 }
    add_to_array = { GER_parliament_x_array = 152 }
    add_to_array = { GER_parliament_y_array = 118 }
    add_to_array = { GER_parliament_x_array = 110 }
    add_to_array = { GER_parliament_y_array = 56 }
    add_to_array = { GER_parliament_x_array = 104 }
    add_to_array = { GER_parliament_y_array = 45 }
    add_to_array = { GER_parliament_x_array = 149 }
    add_to_array = { GER_parliament_y_array = 105 }
    add_to_array = { GER_parliament_x_array = 143 }
    add_to_array = { GER_parliament_y_array = 94 }
    add_to_array = { GER_parliament_x_array = 137 }
    add_to_array = { GER_parliament_y_array = 83 }
    add_to_array = { GER_parliament_x_array = 179 }
    add_to_array = { GER_parliament_y_array = 146 }
    add_to_array = { GER_parliament_x_array = 135 }
    add_to_array = { GER_parliament_y_array = 69 }
    add_to_array = { GER_parliament_x_array = 129 }
    add_to_array = { GER_parliament_y_array = 59 }
    add_to_array = { GER_parliament_x_array = 122 }
    add_to_array = { GER_parliament_y_array = 48 }
    add_to_array = { GER_parliament_x_array = 116 }
    add_to_array = { GER_parliament_y_array = 37 }
    add_to_array = { GER_parliament_x_array = 164 }
    add_to_array = { GER_parliament_y_array = 110 }
    add_to_array = { GER_parliament_x_array = 171 }
    add_to_array = { GER_parliament_y_array = 121 }
    add_to_array = { GER_parliament_x_array = 177 }
    add_to_array = { GER_parliament_y_array = 132 }
    add_to_array = { GER_parliament_x_array = 150 }
    add_to_array = { GER_parliament_y_array = 75 }
    add_to_array = { GER_parliament_x_array = 156 }
    add_to_array = { GER_parliament_y_array = 86 }
    add_to_array = { GER_parliament_x_array = 163 }
    add_to_array = { GER_parliament_y_array = 97 }
    add_to_array = { GER_parliament_x_array = 129 }
    add_to_array = { GER_parliament_y_array = 30 }
    add_to_array = { GER_parliament_x_array = 135 }
    add_to_array = { GER_parliament_y_array = 41 }
    add_to_array = { GER_parliament_x_array = 142 }
    add_to_array = { GER_parliament_y_array = 51 }
    add_to_array = { GER_parliament_x_array = 148 }
    add_to_array = { GER_parliament_y_array = 62 }
    add_to_array = { GER_parliament_x_array = 142 }
    add_to_array = { GER_parliament_y_array = 23 }
    add_to_array = { GER_parliament_x_array = 192 }
    add_to_array = { GER_parliament_y_array = 139 }
    add_to_array = { GER_parliament_x_array = 178 }
    add_to_array = { GER_parliament_y_array = 104 }
    add_to_array = { GER_parliament_x_array = 163 }
    add_to_array = { GER_parliament_y_array = 69 }
    add_to_array = { GER_parliament_x_array = 149 }
    add_to_array = { GER_parliament_y_array = 34 }
    add_to_array = { GER_parliament_x_array = 155 }
    add_to_array = { GER_parliament_y_array = 45 }
    add_to_array = { GER_parliament_x_array = 170 }
    add_to_array = { GER_parliament_y_array = 80 }
    add_to_array = { GER_parliament_x_array = 184 }
    add_to_array = { GER_parliament_y_array = 115 }
    add_to_array = { GER_parliament_x_array = 162 }
    add_to_array = { GER_parliament_y_array = 56 }
    add_to_array = { GER_parliament_x_array = 176 }
    add_to_array = { GER_parliament_y_array = 91 }
    add_to_array = { GER_parliament_x_array = 191 }
    add_to_array = { GER_parliament_y_array = 126 }
    add_to_array = { GER_parliament_x_array = 156 }
    add_to_array = { GER_parliament_y_array = 18 }
    add_to_array = { GER_parliament_x_array = 163 }
    add_to_array = { GER_parliament_y_array = 29 }
    add_to_array = { GER_parliament_x_array = 177 }
    add_to_array = { GER_parliament_y_array = 64 }
    add_to_array = { GER_parliament_x_array = 169 }
    add_to_array = { GER_parliament_y_array = 40 }
    add_to_array = { GER_parliament_x_array = 176 }
    add_to_array = { GER_parliament_y_array = 51 }
    add_to_array = { GER_parliament_x_array = 184 }
    add_to_array = { GER_parliament_y_array = 75 }
    add_to_array = { GER_parliament_x_array = 192 }
    add_to_array = { GER_parliament_y_array = 99 }
    add_to_array = { GER_parliament_x_array = 191 }
    add_to_array = { GER_parliament_y_array = 86 }
    add_to_array = { GER_parliament_x_array = 170 }
    add_to_array = { GER_parliament_y_array = 14 }
    add_to_array = { GER_parliament_x_array = 198 }
    add_to_array = { GER_parliament_y_array = 110 }
    add_to_array = { GER_parliament_x_array = 206 }
    add_to_array = { GER_parliament_y_array = 134 }
    add_to_array = { GER_parliament_x_array = 177 }
    add_to_array = { GER_parliament_y_array = 25 }
    add_to_array = { GER_parliament_x_array = 205 }
    add_to_array = { GER_parliament_y_array = 121 }
    add_to_array = { GER_parliament_x_array = 184 }
    add_to_array = { GER_parliament_y_array = 36 }
    add_to_array = { GER_parliament_x_array = 191 }
    add_to_array = { GER_parliament_y_array = 60 }
    add_to_array = { GER_parliament_x_array = 190 }
    add_to_array = { GER_parliament_y_array = 47 }
    add_to_array = { GER_parliament_x_array = 184 }
    add_to_array = { GER_parliament_y_array = 10 }
    add_to_array = { GER_parliament_x_array = 198 }
    add_to_array = { GER_parliament_y_array = 71 }
    add_to_array = { GER_parliament_x_array = 206 }
    add_to_array = { GER_parliament_y_array = 95 }
    add_to_array = { GER_parliament_x_array = 191 }
    add_to_array = { GER_parliament_y_array = 21 }
    add_to_array = { GER_parliament_x_array = 205 }
    add_to_array = { GER_parliament_y_array = 83 }
    add_to_array = { GER_parliament_x_array = 198 }
    add_to_array = { GER_parliament_y_array = 33 }
    add_to_array = { GER_parliament_x_array = 213 }
    add_to_array = { GER_parliament_y_array = 107 }
    add_to_array = { GER_parliament_x_array = 206 }
    add_to_array = { GER_parliament_y_array = 57 }
    add_to_array = { GER_parliament_x_array = 199 }
    add_to_array = { GER_parliament_y_array = 7 }
    add_to_array = { GER_parliament_x_array = 205 }
    add_to_array = { GER_parliament_y_array = 44 }
    add_to_array = { GER_parliament_x_array = 220 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 206 }
    add_to_array = { GER_parliament_y_array = 19 }
    add_to_array = { GER_parliament_x_array = 213 }
    add_to_array = { GER_parliament_y_array = 69 }
    add_to_array = { GER_parliament_x_array = 220 }
    add_to_array = { GER_parliament_y_array = 118 }
    add_to_array = { GER_parliament_x_array = 213 }
    add_to_array = { GER_parliament_y_array = 31 }
    add_to_array = { GER_parliament_x_array = 220 }
    add_to_array = { GER_parliament_y_array = 93 }
    add_to_array = { GER_parliament_x_array = 220 }
    add_to_array = { GER_parliament_y_array = 80 }
    add_to_array = { GER_parliament_x_array = 213 }
    add_to_array = { GER_parliament_y_array = 5 }
    add_to_array = { GER_parliament_x_array = 220 }
    add_to_array = { GER_parliament_y_array = 55 }
    add_to_array = { GER_parliament_x_array = 220 }
    add_to_array = { GER_parliament_y_array = 43 }
    add_to_array = { GER_parliament_x_array = 220 }
    add_to_array = { GER_parliament_y_array = 17 }
    add_to_array = { GER_parliament_x_array = 228 }
    add_to_array = { GER_parliament_y_array = 105 }
    add_to_array = { GER_parliament_x_array = 228 }
    add_to_array = { GER_parliament_y_array = 67 }
    add_to_array = { GER_parliament_x_array = 228 }
    add_to_array = { GER_parliament_y_array = 30 }
    add_to_array = { GER_parliament_x_array = 228 }
    add_to_array = { GER_parliament_y_array = 5 }
    add_to_array = { GER_parliament_x_array = 235 }
    add_to_array = { GER_parliament_y_array = 117 }
    add_to_array = { GER_parliament_x_array = 235 }
    add_to_array = { GER_parliament_y_array = 130 }
    add_to_array = { GER_parliament_x_array = 235 }
    add_to_array = { GER_parliament_y_array = 92 }
    add_to_array = { GER_parliament_x_array = 235 }
    add_to_array = { GER_parliament_y_array = 80 }
    add_to_array = { GER_parliament_x_array = 235 }
    add_to_array = { GER_parliament_y_array = 55 }
    add_to_array = { GER_parliament_x_array = 235 }
    add_to_array = { GER_parliament_y_array = 42 }
    add_to_array = { GER_parliament_x_array = 235 }
    add_to_array = { GER_parliament_y_array = 17 }
    add_to_array = { GER_parliament_x_array = 243 }
    add_to_array = { GER_parliament_y_array = 5 }
    add_to_array = { GER_parliament_x_array = 243 }
    add_to_array = { GER_parliament_y_array = 30 }
    add_to_array = { GER_parliament_x_array = 243 }
    add_to_array = { GER_parliament_y_array = 67 }
    add_to_array = { GER_parliament_x_array = 243 }
    add_to_array = { GER_parliament_y_array = 105 }
    add_to_array = { GER_parliament_x_array = 250 }
    add_to_array = { GER_parliament_y_array = 17 }
    add_to_array = { GER_parliament_x_array = 250 }
    add_to_array = { GER_parliament_y_array = 43 }
    add_to_array = { GER_parliament_x_array = 250 }
    add_to_array = { GER_parliament_y_array = 55 }
    add_to_array = { GER_parliament_x_array = 257 }
    add_to_array = { GER_parliament_y_array = 5 }
    add_to_array = { GER_parliament_x_array = 250 }
    add_to_array = { GER_parliament_y_array = 80 }
    add_to_array = { GER_parliament_x_array = 250 }
    add_to_array = { GER_parliament_y_array = 93 }
    add_to_array = { GER_parliament_x_array = 257 }
    add_to_array = { GER_parliament_y_array = 31 }
    add_to_array = { GER_parliament_x_array = 250 }
    add_to_array = { GER_parliament_y_array = 118 }
    add_to_array = { GER_parliament_x_array = 257 }
    add_to_array = { GER_parliament_y_array = 69 }
    add_to_array = { GER_parliament_x_array = 265 }
    add_to_array = { GER_parliament_y_array = 19 }
    add_to_array = { GER_parliament_x_array = 250 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 265 }
    add_to_array = { GER_parliament_y_array = 44 }
    add_to_array = { GER_parliament_x_array = 272 }
    add_to_array = { GER_parliament_y_array = 7 }
    add_to_array = { GER_parliament_x_array = 265 }
    add_to_array = { GER_parliament_y_array = 57 }
    add_to_array = { GER_parliament_x_array = 257 }
    add_to_array = { GER_parliament_y_array = 107 }
    add_to_array = { GER_parliament_x_array = 272 }
    add_to_array = { GER_parliament_y_array = 33 }
    add_to_array = { GER_parliament_x_array = 265 }
    add_to_array = { GER_parliament_y_array = 83 }
    add_to_array = { GER_parliament_x_array = 279 }
    add_to_array = { GER_parliament_y_array = 21 }
    add_to_array = { GER_parliament_x_array = 265 }
    add_to_array = { GER_parliament_y_array = 95 }
    add_to_array = { GER_parliament_x_array = 272 }
    add_to_array = { GER_parliament_y_array = 71 }
    add_to_array = { GER_parliament_x_array = 286 }
    add_to_array = { GER_parliament_y_array = 10 }
    add_to_array = { GER_parliament_x_array = 280 }
    add_to_array = { GER_parliament_y_array = 47 }
    add_to_array = { GER_parliament_x_array = 279 }
    add_to_array = { GER_parliament_y_array = 60 }
    add_to_array = { GER_parliament_x_array = 287 }
    add_to_array = { GER_parliament_y_array = 36 }
    add_to_array = { GER_parliament_x_array = 265 }
    add_to_array = { GER_parliament_y_array = 121 }
    add_to_array = { GER_parliament_x_array = 294 }
    add_to_array = { GER_parliament_y_array = 25 }
    add_to_array = { GER_parliament_x_array = 264 }
    add_to_array = { GER_parliament_y_array = 134 }
    add_to_array = { GER_parliament_x_array = 272 }
    add_to_array = { GER_parliament_y_array = 110 }
    add_to_array = { GER_parliament_x_array = 300 }
    add_to_array = { GER_parliament_y_array = 14 }
    add_to_array = { GER_parliament_x_array = 280 }
    add_to_array = { GER_parliament_y_array = 86 }
    add_to_array = { GER_parliament_x_array = 279 }
    add_to_array = { GER_parliament_y_array = 99 }
    add_to_array = { GER_parliament_x_array = 287 }
    add_to_array = { GER_parliament_y_array = 75 }
    add_to_array = { GER_parliament_x_array = 294 }
    add_to_array = { GER_parliament_y_array = 51 }
    add_to_array = { GER_parliament_x_array = 301 }
    add_to_array = { GER_parliament_y_array = 40 }
    add_to_array = { GER_parliament_x_array = 293 }
    add_to_array = { GER_parliament_y_array = 64 }
    add_to_array = { GER_parliament_x_array = 308 }
    add_to_array = { GER_parliament_y_array = 29 }
    add_to_array = { GER_parliament_x_array = 314 }
    add_to_array = { GER_parliament_y_array = 18 }
    add_to_array = { GER_parliament_x_array = 280 }
    add_to_array = { GER_parliament_y_array = 126 }
    add_to_array = { GER_parliament_x_array = 294 }
    add_to_array = { GER_parliament_y_array = 91 }
    add_to_array = { GER_parliament_x_array = 308 }
    add_to_array = { GER_parliament_y_array = 56 }
    add_to_array = { GER_parliament_x_array = 286 }
    add_to_array = { GER_parliament_y_array = 115 }
    add_to_array = { GER_parliament_x_array = 301 }
    add_to_array = { GER_parliament_y_array = 80 }
    add_to_array = { GER_parliament_x_array = 315 }
    add_to_array = { GER_parliament_y_array = 45 }
    add_to_array = { GER_parliament_x_array = 322 }
    add_to_array = { GER_parliament_y_array = 34 }
    add_to_array = { GER_parliament_x_array = 307 }
    add_to_array = { GER_parliament_y_array = 69 }
    add_to_array = { GER_parliament_x_array = 293 }
    add_to_array = { GER_parliament_y_array = 104 }
    add_to_array = { GER_parliament_x_array = 278 }
    add_to_array = { GER_parliament_y_array = 139 }
    add_to_array = { GER_parliament_x_array = 328 }
    add_to_array = { GER_parliament_y_array = 23 }
    add_to_array = { GER_parliament_x_array = 322 }
    add_to_array = { GER_parliament_y_array = 62 }
    add_to_array = { GER_parliament_x_array = 329 }
    add_to_array = { GER_parliament_y_array = 51 }
    add_to_array = { GER_parliament_x_array = 335 }
    add_to_array = { GER_parliament_y_array = 41 }
    add_to_array = { GER_parliament_x_array = 341 }
    add_to_array = { GER_parliament_y_array = 30 }
    add_to_array = { GER_parliament_x_array = 308 }
    add_to_array = { GER_parliament_y_array = 97 }
    add_to_array = { GER_parliament_x_array = 314 }
    add_to_array = { GER_parliament_y_array = 86 }
    add_to_array = { GER_parliament_x_array = 320 }
    add_to_array = { GER_parliament_y_array = 75 }
    add_to_array = { GER_parliament_x_array = 293 }
    add_to_array = { GER_parliament_y_array = 132 }
    add_to_array = { GER_parliament_x_array = 300 }
    add_to_array = { GER_parliament_y_array = 121 }
    add_to_array = { GER_parliament_x_array = 306 }
    add_to_array = { GER_parliament_y_array = 110 }
    add_to_array = { GER_parliament_x_array = 354 }
    add_to_array = { GER_parliament_y_array = 37 }
    add_to_array = { GER_parliament_x_array = 348 }
    add_to_array = { GER_parliament_y_array = 48 }
    add_to_array = { GER_parliament_x_array = 342 }
    add_to_array = { GER_parliament_y_array = 59 }
    add_to_array = { GER_parliament_x_array = 335 }
    add_to_array = { GER_parliament_y_array = 69 }
    add_to_array = { GER_parliament_x_array = 291 }
    add_to_array = { GER_parliament_y_array = 146 }
    add_to_array = { GER_parliament_x_array = 333 }
    add_to_array = { GER_parliament_y_array = 83 }
    add_to_array = { GER_parliament_x_array = 327 }
    add_to_array = { GER_parliament_y_array = 94 }
    add_to_array = { GER_parliament_x_array = 321 }
    add_to_array = { GER_parliament_y_array = 105 }
    add_to_array = { GER_parliament_x_array = 367 }
    add_to_array = { GER_parliament_y_array = 45 }
    add_to_array = { GER_parliament_x_array = 360 }
    add_to_array = { GER_parliament_y_array = 56 }
    add_to_array = { GER_parliament_x_array = 319 }
    add_to_array = { GER_parliament_y_array = 118 }
    add_to_array = { GER_parliament_x_array = 354 }
    add_to_array = { GER_parliament_y_array = 67 }
    add_to_array = { GER_parliament_x_array = 348 }
    add_to_array = { GER_parliament_y_array = 78 }
    add_to_array = { GER_parliament_x_array = 312 }
    add_to_array = { GER_parliament_y_array = 129 }
    add_to_array = { GER_parliament_x_array = 306 }
    add_to_array = { GER_parliament_y_array = 140 }
    add_to_array = { GER_parliament_x_array = 346 }
    add_to_array = { GER_parliament_y_array = 91 }
    add_to_array = { GER_parliament_x_array = 339 }
    add_to_array = { GER_parliament_y_array = 102 }
    add_to_array = { GER_parliament_x_array = 379 }
    add_to_array = { GER_parliament_y_array = 53 }
    add_to_array = { GER_parliament_x_array = 333 }
    add_to_array = { GER_parliament_y_array = 113 }
    add_to_array = { GER_parliament_x_array = 372 }
    add_to_array = { GER_parliament_y_array = 64 }
    add_to_array = { GER_parliament_x_array = 304 }
    add_to_array = { GER_parliament_y_array = 154 }
    add_to_array = { GER_parliament_x_array = 366 }
    add_to_array = { GER_parliament_y_array = 75 }
    add_to_array = { GER_parliament_x_array = 360 }
    add_to_array = { GER_parliament_y_array = 87 }
    add_to_array = { GER_parliament_x_array = 330 }
    add_to_array = { GER_parliament_y_array = 127 }
    add_to_array = { GER_parliament_x_array = 390 }
    add_to_array = { GER_parliament_y_array = 62 }
    add_to_array = { GER_parliament_x_array = 357 }
    add_to_array = { GER_parliament_y_array = 100 }
    add_to_array = { GER_parliament_x_array = 324 }
    add_to_array = { GER_parliament_y_array = 138 }
    add_to_array = { GER_parliament_x_array = 384 }
    add_to_array = { GER_parliament_y_array = 74 }
    add_to_array = { GER_parliament_x_array = 351 }
    add_to_array = { GER_parliament_y_array = 112 }
    add_to_array = { GER_parliament_x_array = 378 }
    add_to_array = { GER_parliament_y_array = 85 }
    add_to_array = { GER_parliament_x_array = 318 }
    add_to_array = { GER_parliament_y_array = 150 }
    add_to_array = { GER_parliament_x_array = 345 }
    add_to_array = { GER_parliament_y_array = 123 }
    add_to_array = { GER_parliament_x_array = 371 }
    add_to_array = { GER_parliament_y_array = 97 }
    add_to_array = { GER_parliament_x_array = 401 }
    add_to_array = { GER_parliament_y_array = 72 }
    add_to_array = { GER_parliament_x_array = 394 }
    add_to_array = { GER_parliament_y_array = 84 }
    add_to_array = { GER_parliament_x_array = 368 }
    add_to_array = { GER_parliament_y_array = 111 }
    add_to_array = { GER_parliament_x_array = 341 }
    add_to_array = { GER_parliament_y_array = 137 }
    add_to_array = { GER_parliament_x_array = 314 }
    add_to_array = { GER_parliament_y_array = 164 }
    add_to_array = { GER_parliament_x_array = 388 }
    add_to_array = { GER_parliament_y_array = 96 }
    add_to_array = { GER_parliament_x_array = 361 }
    add_to_array = { GER_parliament_y_array = 122 }
    add_to_array = { GER_parliament_x_array = 335 }
    add_to_array = { GER_parliament_y_array = 149 }
    add_to_array = { GER_parliament_x_array = 382 }
    add_to_array = { GER_parliament_y_array = 107 }
    add_to_array = { GER_parliament_x_array = 411 }
    add_to_array = { GER_parliament_y_array = 83 }
    add_to_array = { GER_parliament_x_array = 355 }
    add_to_array = { GER_parliament_y_array = 134 }
    add_to_array = { GER_parliament_x_array = 404 }
    add_to_array = { GER_parliament_y_array = 95 }
    add_to_array = { GER_parliament_x_array = 329 }
    add_to_array = { GER_parliament_y_array = 161 }
    add_to_array = { GER_parliament_x_array = 378 }
    add_to_array = { GER_parliament_y_array = 122 }
    add_to_array = { GER_parliament_x_array = 398 }
    add_to_array = { GER_parliament_y_array = 107 }
    add_to_array = { GER_parliament_x_array = 351 }
    add_to_array = { GER_parliament_y_array = 148 }
    add_to_array = { GER_parliament_x_array = 420 }
    add_to_array = { GER_parliament_y_array = 94 }
    add_to_array = { GER_parliament_x_array = 371 }
    add_to_array = { GER_parliament_y_array = 134 }
    add_to_array = { GER_parliament_x_array = 391 }
    add_to_array = { GER_parliament_y_array = 119 }
    add_to_array = { GER_parliament_x_array = 414 }
    add_to_array = { GER_parliament_y_array = 106 }
    add_to_array = { GER_parliament_x_array = 324 }
    add_to_array = { GER_parliament_y_array = 175 }
    add_to_array = { GER_parliament_x_array = 344 }
    add_to_array = { GER_parliament_y_array = 160 }
    add_to_array = { GER_parliament_x_array = 365 }
    add_to_array = { GER_parliament_y_array = 146 }
    add_to_array = { GER_parliament_x_array = 407 }
    add_to_array = { GER_parliament_y_array = 119 }
    add_to_array = { GER_parliament_x_array = 387 }
    add_to_array = { GER_parliament_y_array = 133 }
    add_to_array = { GER_parliament_x_array = 429 }
    add_to_array = { GER_parliament_y_array = 106 }
    add_to_array = { GER_parliament_x_array = 400 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 338 }
    add_to_array = { GER_parliament_y_array = 173 }
    add_to_array = { GER_parliament_x_array = 380 }
    add_to_array = { GER_parliament_y_array = 146 }
    add_to_array = { GER_parliament_x_array = 422 }
    add_to_array = { GER_parliament_y_array = 118 }
    add_to_array = { GER_parliament_x_array = 359 }
    add_to_array = { GER_parliament_y_array = 160 }
    add_to_array = { GER_parliament_x_array = 415 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 437 }
    add_to_array = { GER_parliament_y_array = 118 }
    add_to_array = { GER_parliament_x_array = 373 }
    add_to_array = { GER_parliament_y_array = 158 }
    add_to_array = { GER_parliament_x_array = 395 }
    add_to_array = { GER_parliament_y_array = 146 }
    add_to_array = { GER_parliament_x_array = 352 }
    add_to_array = { GER_parliament_y_array = 173 }
    add_to_array = { GER_parliament_x_array = 430 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 408 }
    add_to_array = { GER_parliament_y_array = 144 }
    add_to_array = { GER_parliament_x_array = 332 }
    add_to_array = { GER_parliament_y_array = 188 }
    add_to_array = { GER_parliament_x_array = 387 }
    add_to_array = { GER_parliament_y_array = 159 }
    add_to_array = { GER_parliament_x_array = 444 }
    add_to_array = { GER_parliament_y_array = 131 }
    add_to_array = { GER_parliament_x_array = 422 }
    add_to_array = { GER_parliament_y_array = 144 }
    add_to_array = { GER_parliament_x_array = 367 }
    add_to_array = { GER_parliament_y_array = 173 }
    add_to_array = { GER_parliament_x_array = 345 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 402 }
    add_to_array = { GER_parliament_y_array = 159 }
    add_to_array = { GER_parliament_x_array = 436 }
    add_to_array = { GER_parliament_y_array = 144 }
    add_to_array = { GER_parliament_x_array = 380 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 415 }
    add_to_array = { GER_parliament_y_array = 157 }
    add_to_array = { GER_parliament_x_array = 450 }
    add_to_array = { GER_parliament_y_array = 145 }
    add_to_array = { GER_parliament_x_array = 359 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 394 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 429 }
    add_to_array = { GER_parliament_y_array = 158 }
    add_to_array = { GER_parliament_x_array = 442 }
    add_to_array = { GER_parliament_y_array = 158 }
    add_to_array = { GER_parliament_x_array = 408 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 373 }
    add_to_array = { GER_parliament_y_array = 187 }
    add_to_array = { GER_parliament_x_array = 338 }
    add_to_array = { GER_parliament_y_array = 201 }
    add_to_array = { GER_parliament_x_array = 421 }
    add_to_array = { GER_parliament_y_array = 171 }
    add_to_array = { GER_parliament_x_array = 456 }
    add_to_array = { GER_parliament_y_array = 158 }
    add_to_array = { GER_parliament_x_array = 386 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 434 }
    add_to_array = { GER_parliament_y_array = 171 }
    add_to_array = { GER_parliament_x_array = 351 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 399 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 447 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 364 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 412 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 461 }
    add_to_array = { GER_parliament_y_array = 172 }
    add_to_array = { GER_parliament_x_array = 425 }
    add_to_array = { GER_parliament_y_array = 185 }
    add_to_array = { GER_parliament_x_array = 377 }
    add_to_array = { GER_parliament_y_array = 201 }
    add_to_array = { GER_parliament_x_array = 438 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 390 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 451 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 403 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 464 }
    add_to_array = { GER_parliament_y_array = 186 }
    add_to_array = { GER_parliament_x_array = 342 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 416 }
    add_to_array = { GER_parliament_y_array = 201 }
    add_to_array = { GER_parliament_x_array = 355 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 429 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 442 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 368 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 454 }
    add_to_array = { GER_parliament_y_array = 200 }
    add_to_array = { GER_parliament_x_array = 381 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 467 }
    add_to_array = { GER_parliament_y_array = 201 }
    add_to_array = { GER_parliament_x_array = 393 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 406 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 419 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 431 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 444 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 457 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 469 }
    add_to_array = { GER_parliament_y_array = 215 }
    add_to_array = { GER_parliament_x_array = 344 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 357 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 370 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 382 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 395 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 407 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 420 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 433 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 445 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 458 }
    add_to_array = { GER_parliament_y_array = 230 }
    add_to_array = { GER_parliament_x_array = 470 }
    add_to_array = { GER_parliament_y_array = 230 }
}

GER_remove_all_region_window_flags = {
    clr_country_flag = region_window_show_alsace_lorraine
}

GER_modify_influence_points = {
	add_to_variable = { GER_extra_influence = ger_modify_influence_points_var }
	clamp_variable = {
		var = GER_extra_influence
		min = 0
		max = 10000
	}
}

GER_modify_bundersrat_votes_in_favor = {
	custom_effect_tooltip = GER_modify_bundersrat_votes_in_favor_tt
	add_to_variable = { GER_bundesrat_votes_in_favor = ger_modify_bundersrat_votes_in_favor_var }
	clamp_variable = {
		var = GER_bundesrat_votes_in_favor
		min = 0
		max = GER_total_bundesrat_votes
	}
}

GER_sway_all_states = {
    set_country_flag = baden_swayed
    set_country_flag = hesse_swayed
    set_country_flag = bavaria_swayed
    set_country_flag = free_cities_swayed
    set_country_flag = mecklenburg_swayed
    set_country_flag = saxony_swayed
    set_country_flag = brunswick_swayed
    set_country_flag = wurttemberg_swayed
    set_country_flag = minor_states_swayed
    set_country_flag = thuringia_swayed
    if = {
		limit = { has_country_flag = GER_law_alsace_new_member_passed_in_bundesrat }
		set_country_flag = alsace_lorraine_swayed
    }
}

GER_assign_cooldowns = {
	if = {
		limit = {
			has_country_flag = GER_called_in_baden
		}
		clr_country_flag = GER_called_in_baden
		set_country_flag = GER_baden_cooldown
		custom_effect_tooltip = GER_baden_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_baden_cooldown
		}
		clr_country_flag = GER_baden_cooldown
		custom_effect_tooltip = GER_baden_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_hesse
		}
		clr_country_flag = GER_called_in_hesse
		set_country_flag = GER_hesse_cooldown
		custom_effect_tooltip = GER_hesse_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_hesse_cooldown
		}
		clr_country_flag = GER_hesse_cooldown
		custom_effect_tooltip = GER_hesse_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_bavaria
		}
		clr_country_flag = GER_called_in_bavaria
		set_country_flag = GER_bavaria_cooldown
		custom_effect_tooltip = GER_bavaria_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_bavaria_cooldown
		}
		clr_country_flag = GER_bavaria_cooldown
		custom_effect_tooltip = GER_bavaria_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_free_cities
		}
		clr_country_flag = GER_called_in_free_cities
		set_country_flag = GER_free_cities_cooldown
		custom_effect_tooltip = GER_free_cities_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_free_cities_cooldown
		}
		clr_country_flag = GER_free_cities_cooldown
		custom_effect_tooltip = GER_free_cities_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_mecklenburg
		}
		clr_country_flag = GER_called_in_mecklenburg
		set_country_flag = GER_mecklenburg_cooldown
		custom_effect_tooltip = GER_mecklenburg_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_mecklenburg_cooldown
		}
		clr_country_flag = GER_mecklenburg_cooldown
		custom_effect_tooltip = GER_mecklenburg_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_saxony
		}
		clr_country_flag = GER_called_in_saxony
		set_country_flag = GER_saxony_cooldown
		custom_effect_tooltip = GER_saxony_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_saxony_cooldown
		}
		clr_country_flag = GER_saxony_cooldown
		custom_effect_tooltip = GER_saxony_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_brunswick
		}
		clr_country_flag = GER_called_in_brunswick
		set_country_flag = GER_brunswick_cooldown
		custom_effect_tooltip = GER_brunswick_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_brunswick_cooldown
		}
		clr_country_flag = GER_brunswick_cooldown
		custom_effect_tooltip = GER_brunswick_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_wurttemberg
		}
		clr_country_flag = GER_called_in_wurttemberg
		set_country_flag = GER_wurttemberg_cooldown
		custom_effect_tooltip = GER_wurttemberg_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_wurttemberg_cooldown
		}
		clr_country_flag = GER_wurttemberg_cooldown
		custom_effect_tooltip = GER_wurttemberg_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_minor_states
		}
		clr_country_flag = GER_called_in_minor_states
		set_country_flag = GER_minor_states_cooldown
		custom_effect_tooltip = GER_minor_states_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_minor_states_cooldown
		}
		clr_country_flag = GER_minor_states_cooldown
		custom_effect_tooltip = GER_minor_states_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_thuringia
		}
		clr_country_flag = GER_called_in_thuringia
		set_country_flag = GER_thuringia_cooldown
		custom_effect_tooltip = GER_thuringia_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_thuringia_cooldown
		}
		clr_country_flag = GER_thuringia_cooldown
		custom_effect_tooltip = GER_thuringia_cooldown_ends_tt
	}
	if = {
		limit = {
			has_country_flag = GER_called_in_alsace
		}
		clr_country_flag = GER_called_in_alsace
		set_country_flag = GER_alsace_cooldown
		custom_effect_tooltip = GER_alsace_cooldown_tt
	}
	else_if = {
		limit = {
			has_country_flag = GER_alsace_cooldown
		}
		clr_country_flag = GER_alsace_cooldown
		custom_effect_tooltip = GER_alsace_cooldown_ends_tt
	}
}
GER_vote_ends = {
    custom_effect_tooltip = GER_vote_ends_tt
	set_variable = { GER_bundesrat_votes_in_favor = 17 } #should be count Prussia on the player side ?
	GER_assign_cooldowns = yes
	clr_country_flag = GER_vote_in_bundesrat
}

GER_reset_sway_reichstag = {
    clr_country_flag = GER_center_sway_20_percent
    clr_country_flag = GER_center_sway_40_percent
    set_variable = {
        var = center_ratio_sway_ratio
        value = 0.00
    }
    clr_country_flag = left_vote_in_progress
    clr_country_flag = GER_left_sway_20_percent
    set_variable = {
        var = left_ratio_sway_ratio
        value = 0.00
    }
    clr_country_flag = center_vote_in_progress
    clr_country_flag = GER_right_sway_20_percent
    set_variable = {
        var = right_ratio_sway_ratio
        value = 0.00
    }
    clr_country_flag = neutral_vote_in_progress
    clr_country_flag = GER_neutral_sway_20_percent
    set_variable = {
        var = neutral_ratio_sway_ratio
        value = 0.00
    }
    clr_country_flag = right_vote_in_progress
}

GER_healthcare_law_effect = {
    if = {
        limit = {
            GER = {
                has_idea = GER_idea_rising_unions
            }
        }
        swap_ideas = {
            remove_idea = GER_idea_rising_unions
            add_idea = GER_idea_rising_unions2
        }
        else_if = {
            limit = {
                GER = {
                    has_idea = GER_idea_rising_unions2
                }
            }
            remove_ideas = GER_idea_rising_unions2
        }
    }
}

GER_rustungswende_effect = {
    random_owned_controlled_state = {
        limit = {
            is_core_of = ROOT
            dockyard > 0
        }
        prioritize = {
            763
        }
        remove_building = {
            type = dockyard
            level = 1
        }
        add_extra_state_shared_building_slots = 2
        add_building_construction = {
            type = arms_factory
            level = 1
            instant_build = yes
        }
        add_building_construction = {
            type = arms_factory
            level = 1
            instant_build = yes
        }
    }
}

GER_alsace_lorraine_constitution_effect = {
    28 = {
        add_core_of = GER
    }
    1107 = {
        add_core_of = GER
    }
    every_owned_state = {
        limit = {
            has_dynamic_modifier = {
                modifier = GER_Reichsland_elsass_lothringen
            }
        }
        remove_dynamic_modifier = {
            modifier = GER_Reichsland_elsass_lothringen
        }
    }
    custom_effect_tooltip = ww1_germanytooltip19
    set_temp_variable = { ger_modify_influence_points_var = 5 }
    GER_modify_influence_points = yes
    custom_effect_tooltip = ww1_germany_influence_plus5
}

GER_national_pension_effect = {
    add_ideas = GER_hollwegs_national_pension
}

GER_german_pension_effect = {
    add_ideas = GER_discrimitory_national_pension
}

GER_polish_landholders_effect = {
    every_owned_state = {
        limit = {
            is_core_of = POL
            has_dynamic_modifier = { modifier = GER_germanisation }
        }
        custom_effect_tooltip = GER_germanisation_tooltip
        hidden_effect = {
            remove_dynamic_modifier = {
                modifier = GER_germanisation
            }
            add_dynamic_modifier = {
                modifier = GER_extended_germanisation
            }
        }
    }
}

GER_nationality_inclusive_law = {
    add_ideas = GER_reich_and_nationality_law_left
}

GER_prussian_electoral_reform_effect = {
    swap_ideas = {
        add_idea = GER_idea_bismarksche_reichsverassung2
        remove_idea = GER_idea_bismarksche_reichsverassung
    }
    set_country_flag = prussian_electoral_reform_passed
    if = {
        limit = {
            has_power_balance = {
                id = GER_civilian_government_vs_ohl
            }
        }
        add_power_balance_value = {
			id = GER_civilian_government_vs_ohl
			value = -0.15
			tooltip_side = GER_balance_civilian
		}
    }
}

GER_nationality_discriminatory_law = {
    add_ideas = GER_dismantled_minority_rights
}
GER_fith_naval_law_effect = {
    if = {
        limit = {
            has_completed_focus = GER_utilise_the_navy_league
            NOT = {
                has_country_flag = GER_no_navy_league_bonus
            }
        }
        add_ideas = GER_fith_fleet_act_extended
        else = {
            add_ideas = GER_fith_fleet_act
        }
    }
}
GER_progressive_taxation_effect = {
    add_timed_idea = {
        idea = GER_wealth_tax_law_idea
        days = 365
    }
}
GER_emergency_tariff_effect = {
    add_timed_idea = {
        idea = GER_temporary_tariffs
        days = 730
    }
}
GER_first_army_expansion_effect = {
    add_ideas = GER_military_expansion_law
}
GER_limited_army_bill_effect = {
    add_ideas = GER_military_expansion_law_limited
}
GER_second_army_expansion_effect = {
    swap_ideas = {
        remove_idea = GER_military_expansion_law
        add_idea = GER_military_expansion_laws
    }
}
GER_interwar_loser_new_constitution_effect = {
    if = {
        limit = {
            NOT = { has_cosmetic_tag = PRE }
        }
        set_cosmetic_tag = GER_republic
    }
    add_stability = 0.2 #for now
    news_event = ww1_german_revolution.8
}
GER_interwar_winner_new_constitution_effect = {
    add_stability = 0.1 #for now
    country_event = {
        id = ww1_german_victory.11
        days = 2
    }
    hidden_effect = {
        country_event = {
            id = ww1_german_victory.24
            days = 24
        }
    }
    set_country_flag = GER_march_reforms_completed
}
GER_rapid_urbanisation_reform_effect = {
    IF = {
        limit = {
            GER = {
                has_idea = GER_rapid_urbanisation
            }
        }
        swap_ideas = {
            remove_idea = GER_rapid_urbanisation
            add_idea = GER_rapid_urbanisation_2
        }
        else_if = {
            limit = {
                GER = {
                    has_idea = GER_rapid_urbanisation_2
                }
            }
            swap_ideas = {
                remove_idea = GER_rapid_urbanisation_2
                add_idea = GER_rapid_urbanisation_3
            }
            else_if = {
                limit = {
                    GER = {
                        has_idea = GER_rapid_urbanisation_3
                    }
                }
                remove_ideas = GER_rapid_urbanisation_3
            }
        }
    }
}
GER_protection_of_home_workers_law_effect = {
    add_stability = 0.075
    add_popularity = {
        ideology = ROOT
        popularity = 0.03
    }
}
GER_five_year_army_law_effect = {
    army_experience = 25
    add_doctrine_cost_reduction = {
        name = GER_five_year_army_law
        cost_reduction = 1
        uses = 1
        category = land_doctrine
    }
    if = {
        limit = {
            has_dlc = "Arms Against Tyranny"
        }
        mio:GER_deutsche_waffen_organization = {
            add_mio_size = 2
            add_mio_funds = 750
        }
        mio:GER_mauser_organization = {
            add_mio_size = 2
            add_mio_funds = 750
        }
    }
}
GER_home_by_christmas_improvment = {
    if = {
        limit = {
            has_idea = GER_home_by_christmas
        }
        swap_ideas = {         
            remove_idea = GER_home_by_christmas
            add_idea = GER_home_by_christmas2
        }
    }
    else_if = {
        limit = {
            has_idea = GER_home_by_christmas2
        }
        swap_ideas = {        
            remove_idea = GER_home_by_christmas2
            add_idea = GER_home_by_christmas3
        }
    }
    else = {
        remove_ideas = GER_home_by_christmas3
    }
}

GER_send_ship_to_netherlands = {
    HOL = {
        add_opinion_modifier = {
            target = GER
            modifier = small_increase
        }
        custom_effect_tooltip = GER_HOL_create_4_v105_torpedoes_boats
        hidden_effect = {
            GER = {
                create_equipment_variant = {
                    name = "V-105 Class"
                    type = ship_hull_light_1
                    name_group = GER_DD_HISTORICAL
                    parent_version = 0
                    modules = {
                        fixed_ship_battery_slot = ship_light_battery_1
                        fixed_ship_anti_air_slot = empty
                        fixed_ship_fire_control_system_slot = empty
                        fixed_ship_radar_slot = empty
                        fixed_ship_engine_slot = light_ship_engine_1
                        fixed_ship_torpedo_slot = ship_torpedo_1
                        mid_1_custom_slot = empty
                        rear_1_custom_slot = empty
                    }
                }
            }
            custom_effect_tooltip = escape_line
            create_ship = {
                type = ship_hull_light_1
                equipment_variant = "V-105 Class"
                creator = GER
                name = "HNLMS Z 1"
            }
            custom_effect_tooltip = escape_line_half
            create_ship = {
                type = ship_hull_light_1
                equipment_variant = "V-105 Class"
                creator = GER
                name = "HNLMS Z 2"
            }
            custom_effect_tooltip = escape_line_half
            create_ship = {
                type = ship_hull_light_1
                equipment_variant = "V-105 Class"
                creator = GER
                name = "HNLMS Z 3"
            }
            custom_effect_tooltip = escape_line_half
            create_ship = {
                type = ship_hull_light_1
                equipment_variant = "V-105 Class"
                creator = GER
                name = "HNLMS Z 4"
            }
        }
    }
}

GER_steal_netherlands_ships = {
    custom_effect_tooltip = GER_HOL_create_4_v105_torpedoes_boats
    hidden_effect = {
        GER = {
            create_equipment_variant = {
                name = "V-105 Class"
                type = ship_hull_light_1
                name_group = GER_DD_HISTORICAL
                parent_version = 0
                modules = {
                    fixed_ship_battery_slot = ship_light_battery_1
                    fixed_ship_anti_air_slot = empty
                    fixed_ship_fire_control_system_slot = empty
                    fixed_ship_radar_slot = empty
                    fixed_ship_engine_slot = light_ship_engine_1
                    fixed_ship_torpedo_slot = ship_torpedo_1
                    mid_1_custom_slot = empty
                    rear_1_custom_slot = empty
                }
            }
        }
        custom_effect_tooltip = escape_line
        create_ship = {
            type = ship_hull_light_1
            equipment_variant = "V-105 Class"
            creator = GER
            name = "Z1"
        }
        custom_effect_tooltip = escape_line_half
        create_ship = {
            type = ship_hull_light_1
            equipment_variant = "V-105 Class"
            creator = GER
            name = "Z2"
        }
        custom_effect_tooltip = escape_line_half
        create_ship = {
            type = ship_hull_light_1
            equipment_variant = "V-105 Class"
            creator = GER
            name = "Z3"
        }
        custom_effect_tooltip = escape_line_half
        create_ship = {
            type = ship_hull_light_1
            equipment_variant = "V-105 Class"
            creator = GER
            name = "Z4"
        }
    }
}

GER_enabling_act_effect = {
    custom_effect_tooltip = GER_unlock_war_economy_focuses_tt
    set_country_flag = GER_pass_enabling_act_tt
    country_event = {
        id = ww1_germanrework.102
        days = 2
    }
}

GER_auxiliary_services_act_effect = {
    add_ideas = GER_idea_hindenburg_programme
    unlock_decision_tooltip = GER_toggle_hiddenburg_program
    country_event = {
        id = ww1_germanrework.175
        days = 2
    }
}

GER_parliament_reassign_seats = {
	set_variable = { GER_parliament_seat_array^0 = SB }
	set_variable = { GER_parliament_seat_array^1 = USPD }
	set_variable = { GER_parliament_seat_array^2 = SPD }
	set_variable = { GER_parliament_seat_array^3 = FVP }
	set_variable = { GER_parliament_seat_array^4 = NLP }
	set_variable = { GER_parliament_seat_array^5 = RP }
	set_variable = { GER_parliament_seat_array^6 = NM }
	set_variable = { GER_parliament_seat_array^7 = NA }
	set_variable = { GER_parliament_seat_array^8 = Z }
	set_variable = { GER_parliament_seat_array^9 = FKP }
	set_variable = { GER_parliament_seat_array^10 = DKP }
    set_variable = { GER_parliament_seat_array^11 = WV }
    set_variable = { GER_parliament_seat_array^12 = DRP }
}

GER_silesia_deal_effect = {
    if = {
        limit = {
            tag = ITA
        }
        hidden_effect = {
            GER = {
                every_owned_state = {
                    limit = {
                        OR = {
                            state = 762
                            state = 67
                            state = 995
                        }
                    }
                    transfer_state_to = AUS
                }
            }
        }
        else = {
            GER = {
                every_owned_state = {
                    limit = {
                        OR = {
                            state = 762
                            state = 67
                            state = 995
                        }
                    }
                    transfer_state_to = AUS
                }
            }
        }
    }
    AUS = {
        every_owned_state = {
            limit = {
                OR = {
                    state = 244
                    state = 39
                }
            }
            transfer_state_to = ITA
        }
    }
    ITA = {
        remove_ideas = idea_italy_triple_alliance
        diplomatic_relation = {
            country = AUS
            relation = non_aggression_pact
            active = yes
        }
    }
}

GER_give_up_alsace_lorraine_demil = {
    FRA = {
            transfer_state = 1107
            transfer_state = 28
        }
    every_state = {
        limit = {
            OR = {
                state = 28
                state = 1107
            }
        }
        set_demilitarized_zone = yes
    }
}

GER_give_up_alsace_lorraine = {
    FRA = {
        transfer_state = 1107
        transfer_state = 28
    }
}

GER_share_alsace_lorraine = {
    FRA = {
        transfer_state = 1107
        remove_state_claim = 28
    }
}

GER_talks_advance_after_alsace_lorraine = {
    every_country = {
        limit = {
            OR = {
                has_war_with = GER
                is_in_faction_with = FRA
            }
        }
        country_event = {
            id = ww1_germanrework.135
            days = 2
        }
    }
    every_country = {
        limit = {
            is_in_faction_with = GER
        }
        country_event = {
            id = ww1_germanrework.136
            days = 2
        }
    }
}

GER_create_alsace_lorraine = {
    ALS = {
        transfer_state = 1107
        transfer_state = 28
        transfer_state = 863
        transfer_state = 864
    }
}

GER_british_neutrality_effect = {
    ENG = {
        add_ideas = neutrality_idea
        diplomatic_relation = {
            country = GER
            relation = non_aggression_pact
            active = yes
        }
    }
    GER = {
        diplomatic_relation = {
            country = ENG
            relation = non_aggression_pact
            active = yes
        }
    }
    if = {
        limit = {
            any_country = {
                OR = {
                    is_subject_of = ENG
                    tag = ENG
                }
                is_in_faction_with = FRA
            }
        }
        every_country = {
            limit = {
                OR = {
                    is_subject_of = ENG
                    tag = ENG
                }
                is_in_faction_with = FRA
            }
            leave_faction = yes
        }
    }
    ENG = {
        add_stability = 0.2
        add_war_support = -0.2
    }
}
GER_spd_slpit = {
    if = {
        limit = { 
            NOT= {
                has_global_flag = spd_split
            }
        }
        set_global_flag = spd_split
        effect_tooltip = {
            set_party_name = {
                ideology = democratic
                long_name = GER_majority_social_democratic_party_long
                name = GER_majority_social_democratic_party
            }
            set_party_name = {
                ideology = communism
                long_name = GER_independent_social_democratic_party_long
                name = GER_independent_social_democratic_party
            }
        } 
		hidden_effect = {
            every_possible_country = {
                limit = {
                    has_country_flag = spd_m_party
                }
                set_party_name = {
					ideology = democratic
					long_name = GER_majority_social_democratic_party_long
					name = GER_majority_social_democratic_party
				}
                clr_country_flag = spd_m_party
            }
            every_possible_country = {
                limit = {
                    has_country_flag = spd_r_party
                }
                set_party_name = {
					ideology = communism
					long_name = GER_independent_social_democratic_party_long
					name = GER_independent_social_democratic_party
				}
                clr_country_flag = spd_r_party
            }
        } 
    }

}
GER_1918_revolution_effect = {
    set_global_flag = GER_1918_revolution
    hidden_effect = {
        load_focus_tree = german_focus_weimar
    }
    if = {
        limit = {
            has_power_balance = { id = GER_civilian_government_vs_ohl }
        }
        remove_power_balance = {
            id = GER_civilian_government_vs_ohl
        }
    }
    mark_focus_tree_layout_dirty = yes
    GER_wilhelm_ii = {
        set_nationality = HOL
        remove_country_leader_role = {
            ideology = semi_constitutional_monarchy
        }
    }
    promote_character = GER_friedrich_ebert
    set_politics = {
		ruling_party = democratic
        long_name = GER_majority_social_democratic_party_long
        name = GER_majority_social_democratic_party
		elections_allowed = no
    }
    country_event = {
		id = ww1_german_revolution.17
		days = 1
	}
    hidden_effect = {
        news_event = {
			id = ww1_germany.5
			days = 3
		}
        if = {
            limit = {
                NOT = {
                    has_cosmetic_tag = PRE
                }
            }
            drop_cosmetic_tag = yes
        }
        # manpower restore and equipments
        # I dont wanna weimar to have duplicated template names with Reichswehr
        # and damn the locked template it is not even manualy disbandable
        # delete_unit_template_and_units = {
        #     division_template = "Infanterie-Division"
        #     disband = yes
        # }
        # delete_unit_template_and_units = {
        #     division_template = "Garde-Kavallerie-Division"
        #     disband = yes
        # }
        # delete_unit_template_and_units = {
        #     division_template = "Kavallerie-Division"
        #     disband = yes
        # }
        # delete_unit_template_and_units = {
        #     division_template = "Schutztruppe"
        #     disband = yes
        # }
        # delete_unit_template_and_units = {
        #     division_template = "S√ºdwestafrikanische Schutztruppe"
        #     disband = yes
        # }
        # delete_unit_template_and_units = {
        #     division_template = "Tsingtao Garnison"
        #     disband = yes
        # }
        # every_state = {
        #     GER = {
        #         delete_unit = {
        #             state = PREV
        #         }
        #     }
        # }
        # add_ideas = interwar_recovery
        activate_mission = mission_interwar_demobilization
        country_event = {
			id = ww1_german_revolution.2
			days = 7
		}
        every_state = {
            limit = {
                is_claimed_by = ROOT
            }
            remove_claim_by = ROOT
        }
        remove_ideas = {
            GER_wilhelm_ii
            GER_wilhelm_ii_postwar
        } 
        set_party_name = {
            ideology = neutrality
            long_name = GER_national_peoples_party
            name = GER_national_peoples_party
        }
        GER_wolfgang_kapp = {
			if = {
				limit = {
					has_ideology = civilian_dictatorship
				}
				promote_character = civilian_dictatorship
				else = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = civilian_dictatorship
							traits = { staunch_monarchist }
						}
					}
				}	
			}
		}
        set_party_name = {
			ideology = fascism
			long_name = GER_fascism_party_DAP_long
			name = GER_fascism_party_DAP
		}
        GER_anton_drexler = {
			if = {
				limit = {
					has_ideology = gen_nazism
				}
				promote_character = gen_nazism
				else = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = gen_nazism
						}
					}
				}	
			}
		}
        GER_spd_slpit = yes
        if = {
            limit = {
                NOT = {
                    has_global_flag = spartacist_uprising
                    has_global_flag = support_spartacists
                }
            }
            promote_character = GER_hugo_haase
            set_party_name = {
                ideology = communism
                long_name = GER_independent_social_democratic_party_long
                name = GER_independent_social_democratic_party
            }
        }
        # Republic of Alsace-Lorraine
        if = {
            limit = {
                OR = {
                    owns_state = 28
                    owns_state = 1107
                    has_subject = ALS
                }
                OR = {
                    ALS = {
                        OR = {
                            exists = no
                            is_subject_of = ROOT
                        }
                    }
                }
            }
            every_owned_state = {
                limit = {
                    is_core_of = ALS
                }
                transfer_state_to = ALS
            }
            end_puppet = ALS
            ALS = {
                leave_faction = yes
                drop_cosmetic_tag = yes
                add_popularity = {
                    ideology = communism
                    popularity = 0.35
                }
                set_politics = {
                    ruling_party = communism
                    elections_allowed = no
                }
                add_ideas = standing_alone
                remove_ideas = GER_customs_union
                set_truce = {
                    target = GER
                    days = 365
                }
                set_truce = {
                    target = FRA
                    days = 365
                }
            }
            FRA = {
                country_event = {
                    id = ww1_germany.171
                    days = 12
                }
            }
        }
        # People's States
        every_possible_country = {
            limit = {
                is_constituent_of_germany = yes
                OR = {
                    exists = no
                    is_subject_of = ROOT
                }
                NOT = {
                    tag = ALS
                    tag = GER
                }
            }
            set_politics = {
                ruling_party = democratic
                elections_allowed = yes
            }
            add_popularity = {
                ideology = neutrality
                popularity = -0.35
            }
            add_popularity = {
                ideology = democratic
                popularity = 0.15
            }
            set_country_flag = great_war_loser
            # add_ideas = mutiny_3
            # add_ideas = strikes_3
        }
    }
}

GER_politize_OHL_for_interwar = {
    if = {
        limit = {
            has_dynamic_modifier = {
                modifier = GER_ohl_command
            }
        }
        remove_dynamic_modifier = {
            modifier = GER_ohl_command
        }
        clr_country_flag  = OHL_command_dictatorship
        set_country_flag  = OHL_command_political_dictatorship
    }
}

GER_remove_OHL = {
    if = {
        limit = {
            has_dynamic_modifier = {
                modifier = GER_ohl_command
            }
        }
        remove_dynamic_modifier = {
            modifier = GER_ohl_command
        }
    }
}

GER_intensification_of_submarine_warfare_effect = {
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea3
        }
        swap_ideas = {
            add_idea = GER_unrestricted_submarine_warfare_idea4
            remove_idea = GER_unrestricted_submarine_warfare_idea3
        }
    }
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea2
        }
        swap_ideas = {
            add_idea = GER_unrestricted_submarine_warfare_idea3
            remove_idea = GER_unrestricted_submarine_warfare_idea2
        }
    }
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea
        }
        swap_ideas = {
            add_idea = GER_unrestricted_submarine_warfare_idea2
            remove_idea = GER_unrestricted_submarine_warfare_idea
        }
    }
    if = {
        limit = {
            has_unrestricted_submarine_warfare_idea = no
        }
        add_ideas = GER_unrestricted_submarine_warfare_idea 
    }
}

GER_reduction_of_submarine_warfare_effect = {
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea
        }
        remove_ideas = GER_unrestricted_submarine_warfare_idea
    }
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea2
        }
        swap_ideas = {
            add_idea = GER_unrestricted_submarine_warfare_idea
            remove_idea = GER_unrestricted_submarine_warfare_idea2
        }
    }
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea3
        }
        swap_ideas = {
            add_idea = GER_unrestricted_submarine_warfare_idea2
            remove_idea = GER_unrestricted_submarine_warfare_idea3
        }
    }
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea4
        }
         swap_ideas = {
            add_idea = GER_unrestricted_submarine_warfare_idea3
            remove_idea = GER_unrestricted_submarine_warfare_idea4
        }
    }
}

GER_neutral_got_hit_by_a_torpedo = {
    random_country = {
        limit = {
            has_war = no
            OR = {
                tag = SWE
                tag = DEN
                tag = NOR
                tag = HOL
                tag = BEL
                tag = SPR
                tag = POR
                tag = ITA
                tag = IRE
                tag = EST
                tag = LIT
                tag = LAT
            }
            has_equipment = {
				convoy > 5
			}
        }
        country_event = {
            id = ww1_germanrework.162
            days = 2
        }
    }
}

GER_setup_hit_random_list = {
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea
        }
        set_temp_variable = {
            neutral_hit_chance = 15
        }
        set_temp_variable = {
            usa_hit_chance = 1
        }
    }
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea2
        }
        set_temp_variable = {
            neutral_hit_chance = 20
        }
        set_temp_variable = {
            usa_hit_chance = 10
        }
    }
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea3
        }
        set_temp_variable = {
            neutral_hit_chance = 25
        }
        set_temp_variable = {
            usa_hit_chance = 15
        }
    }
    if = {
        limit = {
            has_idea = GER_unrestricted_submarine_warfare_idea4
        }
        set_temp_variable = {
            neutral_hit_chance = 30
        }
        set_temp_variable = {
            usa_hit_chance = 20
        }
    }
    if = {
        limit = {
            OR = {
                has_war_with = USA
                AND = {
                    is_historical_focus_on = yes 
                    NOT = {
                        has_country_flag = magicaly_rooted_lusitania_attack
                    }
                }
            }
        }
        set_temp_variable = {
            usa_hit_chance = 0 #remove all chance
        }
    }
    random_list = {
        80 = {
            #nothing ever happens!
        }
        neutral_hit_chance = {
            #hit a random neutral country
            GER_neutral_got_hit_by_a_torpedo = yes
        }
        usa_hit_chance = {
            #we hit USA!
            if = {
                limit = {
                    has_global_flag = USA_warned_GER_about_USW
                }
                USA = {
                    country_event = {
                        id = ww1_germanrework.170 #generic
                        days = 2
                    }
                }
                else = {
                     country_event = {
                        id = ww1_germanrework.164 #lusitania hits!
                        days = 2
                    }
                }
            }
           
        }
    }
}

GER_change_wilhelm_ii_portrait = {
   GER_wilhelm_ii = {
		set_portraits = {
			civilian = {
				large="gfx/leaders/GER/GER_Wilhelm_II_1918.png"
			}
		}
	}
	if = {
		limit = {  has_idea = GER_wilhelm_ii }
		swap_ideas = {
			remove_idea = GER_wilhelm_ii
			add_idea = GER_wilhelm_ii_postwar
		}
	}
}

GER_improve_quantitative_war_planning = {
    if = {
        limit = {
            has_idea = quantitative_war_planning4
        }
        add_political_power = 120
    }
    if = {
        limit = {
            has_idea = quantitative_war_planning3
        }
        swap_ideas = {
            add_idea = quantitative_war_planning4
            remove_idea = quantitative_war_planning3
        }
    }
    if = {
        limit = {
            has_idea = quantitative_war_planning2
        }
        swap_ideas = {
            add_idea = quantitative_war_planning3
            remove_idea = quantitative_war_planning2
        }
    }
    if = {
        limit = {
            has_idea = quantitative_war_planning
        }
        swap_ideas = {
            add_idea = quantitative_war_planning2
            remove_idea = quantitative_war_planning
        }
    }
    if = {
        limit = {
            NOT = {
                has_idea = quantitative_war_planning
                has_idea = quantitative_war_planning2
                has_idea = quantitative_war_planning3
                has_idea = quantitative_war_planning4
            }
        }
        add_ideas = quantitative_war_planning
    }
}

GER_mitteleuropa_calculation = {
    set_variable = {
        GER_mitteleuropa_bonus = 0
    }
    every_country = {
        limit = {
            has_idea = GER_mitteleuropa_member
        }
        GER = {
            add_to_variable = {
                GER_mitteleuropa_bonus = 0.02
            }
        }
    }
}

GER_fire_current_chancellor = {
    custom_effect_tooltip = GER_fire_current_chancellor_tt
	hidden_effect = {
		every_character = {
			limit = {
				is_political_advisor = yes
                NOT = {
                    advisor_can_be_fired = {
                        slot = political_advisor
                    }
                    is_character = GER_erich_ludendorff
                }			
			}
            if = {
                limit = {
                    NOT = {
                        is_character = GER_theobald_von_bethmann_hollweg
                        is_character = GER_georg_michaelis
                        is_character = GER_georg_von_hertling
                        is_character = GER_maximilian_von_baden
                        is_character = GER_ernst_von_heydebrand
                        is_character = GER_wilhelm_solf
                        is_character = GER_matthias_erzberger
                    }
                }
                set_can_be_fired_in_advisor_role = {
                    value = yes
                }
            }
			set_nationality = XXA #couldn't find another way
			set_nationality = PREV
		}
        if = {
			limit = {
                GER_theobald_von_bethmann_hollweg = {
                    is_country_leader = yes
                    has_ideology = authoritarian_democracy
                }
			}
            remove_country_leader_role = {
                character = GER_theobald_von_bethmann_hollweg
                ideology = authoritarian_democracy
            }
			promote_character = GER_wilhelm_ii
			set_party_name = {
				ideology = neutrality
				long_name = GER_neutrality_party
				name = GER_neutrality_party
			}				
		}
	}
}

generic_setup_building_civ_objective = {
    set_variable = { civilian_total_after_goal = civilian_goal }
    add_to_variable = { civilian_total_after_goal = industrial_complex_level }
    set_state_flag = GER_building_mission_civilian_factory
    custom_effect_tooltip = tt_build_one_civ
}

generic_setup_building_infra_objective = {
    set_variable = { infrastructure_total_after_goal = infrastructure_goal }
    add_to_variable = { infrastructure_total_after_goal = infrastructure_level }
    set_state_flag = GER_building_mission_infrastructure
    custom_effect_tooltip = tt_build_one_infra
}

GER_increase_target_federal_state_influence = {
    custom_effect_tooltip = {
        localization_key = GER_get_FROM_influence_tt
        INFLUENCE = "1"
    }
    FROM = {
        add_to_variable = { GER_extra_influence_in_this_federal_state = 1 }
    }
}

GER_increase_target_federal_state_influence_PREV = {
    custom_effect_tooltip = {
        localization_key = GER_get_FROM_influence_by_flag_tt
        INFLUENCE = "1"
    }
    FROM = {
        add_to_variable = { GER_extra_influence_in_this_federal_state = 1 }
    }
}

GER_get_federal_state_influence_points_from_state_id = {
    custom_effect_tooltip = GER_get_local_influence_points
}

GER_start_investment_mission_for_federal_state = {
    if = {
        limit = { has_country_flag = GER_negotiating_with_bavaria }
        activate_mission = GER_investment_in_bavaria
        every_owned_state = {
            limit = {  is_core_of = BAY }
            set_variable = { civilian_goal = 1 }
            generic_setup_building_civ_objective = yes
            custom_effect_tooltip = effect_if_completed
            custom_effect_tooltip = {
                localization_key = GER_influence_point_fake_tt
                INFLUENCE = "1"
                FEDERAL_STATE = german_region_bavaria
            }
        }
        clr_country_flag = GER_negotiating_with_bavaria
    }
    else_if = {
        limit = { has_country_flag = GER_negotiating_with_saxony }
        activate_mission = GER_investment_in_saxony
        every_owned_state = {
            limit = {  is_core_of = SAX }
            set_variable = { civilian_goal = 1 }
            generic_setup_building_civ_objective = yes
            custom_effect_tooltip = effect_if_completed
            custom_effect_tooltip = {
                localization_key = GER_influence_point_fake_tt
                INFLUENCE = "1"
                FEDERAL_STATE = german_region_saxony
            }
        }
        clr_country_flag = GER_negotiating_with_saxony
    }
    clr_country_flag = GER_negotiating_with_federal_state
}

GER_start_investment_infra_mission_for_federal_state = {
    if = {
        limit = { has_country_flag = GER_negotiating_with_bavaria  }
        activate_mission = GER_investment_in_bavaria_infrastructure
        every_owned_state = {
            limit = { is_core_of = BAY }
            set_variable = { infrastructure_goal = 1 }
			generic_setup_building_infra_objective = yes
            custom_effect_tooltip = effect_if_completed
            custom_effect_tooltip = {
                localization_key = GER_influence_point_fake_tt
                INFLUENCE = "1"
                FEDERAL_STATE = german_region_bavaria
            }
        }
        clr_country_flag = GER_negotiating_with_bavaria
    }
    else_if = {
        limit = { has_country_flag = GER_negotiating_with_saxony  }
        activate_mission = GER_investment_in_saxony_infrastructure
        every_owned_state = {
            limit = { is_core_of = SAX }
            set_variable = { infrastructure_goal = 1 }
			generic_setup_building_infra_objective = yes
            custom_effect_tooltip = effect_if_completed
            custom_effect_tooltip = {
                localization_key = GER_influence_point_fake_tt
                INFLUENCE = "1"
                FEDERAL_STATE = german_region_saxony
            }
        }
        clr_country_flag = GER_negotiating_with_saxony
    }
    clr_country_flag = GER_negotiating_with_federal_state
}

GER_start_political_concession_with_federal_state = {
    if = {
        limit = { has_country_flag = GER_negotiating_with_bavaria }
        hidden_effect = {
            random_owned_state = {
                limit = { is_core_of = BAY }
                set_state_flag = GER_political_concession_target               
            }
        }
        custom_effect_tooltip = effect_when_gone
        custom_effect_tooltip = {
            localization_key = GER_influence_point_fake_tt
            INFLUENCE = "1"
            FEDERAL_STATE = german_region_bavaria
        }
        clr_country_flag = GER_negotiating_with_bavaria
    }
    else_if = {
        limit = { has_country_flag = GER_negotiating_with_saxony }
        hidden_effect = {
            random_owned_state = {
                limit = { is_core_of = SAX }
                set_state_flag = GER_political_concession_target               
            }
        }
        custom_effect_tooltip = effect_when_gone
        custom_effect_tooltip = {
            localization_key = GER_influence_point_fake_tt
            INFLUENCE = "1"
            FEDERAL_STATE = german_region_saxony
        }
        clr_country_flag = GER_negotiating_with_saxony
    }
    clr_country_flag = GER_negotiating_with_federal_state
}

GER_end_political_concession_with_federal_state = {
    random_owned_state = {
        limit = {
            has_state_flag = GER_political_concession_target
        }
        clr_state_flag = GER_political_concession_target
        if = {
            limit = { is_core_of = BAY }
            ROOT = {	#dont give it to a precise state
                add_to_variable = { GER_influence_in_bavaria = 1 }
            }
            custom_effect_tooltip = {
                localization_key = GER_influence_point_fake_tt
                INFLUENCE = "1"
                FEDERAL_STATE = german_region_bavaria
            }
        }
        else_if = {
            limit = { is_core_of = SAX }
            ROOT = {	#dont give it to a precise state
                add_to_variable = { GER_influence_in_saxony = 1 }
            }
            custom_effect_tooltip = {
                localization_key = GER_influence_point_fake_tt
                INFLUENCE = "1"
                FEDERAL_STATE = german_region_saxony
            }
        }
    }
}

GER_remove_all_negotiation_flags = {
    clr_country_flag = GER_negotiating_with_federal_state
    clr_country_flag = GER_negotiating_with_bavaria
    clr_country_flag = GER_negotiating_with_saxony
}

GER_calculate_mecklenburg_votes = {
    set_variable = { GER_votes_of_mecklenburg = 0 }
    if = {
        limit = { GER_is_mecklenburg_schwerin_available_in_bundesrat = yes }
        add_to_variable = { var = GER_votes_of_mecklenburg value = GER_votes_of_mecklenburg_schwerin }
    }
    if = {
        limit = { GER_is_mecklenburg_strelitz_available_in_bundesrat = yes }
        add_to_variable = { var = GER_votes_of_mecklenburg value = 1 }
    }  
}

GER_calculate_bundesrat_votes = {
	set_variable = { GER_total_bundesrat_votes = 0 }
    set_variable = { GER_bundesrat_votes_in_favor = 0 }
    if = {
        limit = {  GER_is_prussia_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_prussia }
        if = {
            limit = { GER_is_prussia_loyal = yes }
            add_to_variable = { var = GER_bundesrat_votes_in_favor value = GER_votes_of_prussia }
            set_country_flag = GER_called_in_prussia
        }
    }
    if = {
        limit = { GER_is_bavaria_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_bavaria }
    }
    if = {
        limit = { GER_is_saxony_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_saxony }
    }
    if = {
        limit = { GER_is_wurttemberg_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_wurttemberg }
    }
    if = {
        limit = { GER_is_baden_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_baden }
    }
    if = {
        limit = {  GER_is_hesse_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_hesse }
    }
    if = {
        limit = { GER_is_mecklenburg_available_in_bundesrat = yes }
        GER_calculate_mecklenburg_votes = yes
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_mecklenburg }
    }
    if = {
        limit = { GER_is_brunswick_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_brunswick }
    }
    if = {
        limit = { GER_is_alsace_lorraine_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_alsace_lorraine }
    }
    if = {
        limit = { GER_is_thuringia_available_in_bundesrat = yes}
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_thuringia }
    }
    if = {
        limit = { GER_is_any_free_city_available_in_bundesrat = yes  }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_free_cities }
    }
    if = {
        limit = {  GER_is_any_minor_state_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_minor_states }
    }
    if = {
        limit = {  GER_is_luxembourg_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_luxembourg }
    }
    if = {
        limit = { GER_is_austria_available_in_bundesrat = yes }
        add_to_variable = { var = GER_total_bundesrat_votes value = GER_votes_of_austria }
    }
}