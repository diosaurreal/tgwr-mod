PER_market_workshop = {


	set_temp_variable = { PER.PER_var_change_finer = PER.PER_var_workshop }
	subtract_from_temp_variable = { PER.PER_var_change_finer = PER.PER_var_changer_workshop }
	add_to_variable = {
		var = PER.PER_var_changer_workshop
		value = PER.PER_var_change_finer
	}
	
	###workshops effects on IP
	set_temp_variable = { PER.PER_var_change_finer_V2 = PER.PER_var_workshop_now }
	subtract_from_temp_variable = { PER.PER_var_change_finer_V2 = PER.PER_var_changer_workshop_V2 }
	add_to_variable = {
		var = PER.PER_var_changer_workshop_V2
		value = PER.PER_var_change_finer_V2
	}
	
	add_to_variable = {
		var = PER.PER_var_workshop
		value = PER.PER_var_change_finer_V2
	}
	
	#### industrial goods ####
	add_to_variable = {
		var = PER.PER_var_goods
		value = PER.PER_var_change_finer
	}
	
	#### rural sosiety ####
	
	#PER.PER_psd -10%
	#PER.PER_pfef -10%
	#PER.PER_cgf 40%
	#PER.PER_rsf -30%
	
	set_temp_variable  = {
		var = PER.PER_var_change_finer_1
		value = PER.PER_var_change_finer
	}
	divide_temp_variable  = {
		var = PER.PER_var_change_finer_1
		value = 116250
	}
	set_temp_variable  = {
		var = PER.PER_var_change_finer_2
		value = PER.PER_var_change_finer
	}
	divide_temp_variable  = {
		var = PER.PER_var_change_finer_2
		value = 116250
	}
	set_temp_variable  = {
		var = PER.PER_var_change_finer_3
		value = PER.PER_var_change_finer
	}
	divide_temp_variable  = {
		var = PER.PER_var_change_finer_3
		value = 29062.5
	}
	set_temp_variable  = {
		var = PER.PER_var_change_finer_4
		value = PER.PER_var_change_finer
	}
	divide_temp_variable  = {
		var = PER.PER_var_change_finer_4
		value = 38750
	}
	
	add_to_variable = {
		var = PER.PER_psd
		value = PER.PER_var_change_finer_1
	}
	add_to_variable = {
		var = PER.PER_pfef
		value = PER.PER_var_change_finer_2
	}
	subtract_from_variable = {
		var = PER.PER_cgf
		value = PER.PER_var_change_finer_3
	}
	add_to_variable = {
		var = PER.PER_rsf
		value = PER.PER_var_change_finer_4
	}
	
	clamp_variable = {
		var = PER.PER_psd
		max = 0
		min = -0.125
	}
	clamp_variable = {
		var = PER.PER_pfef
		max = 0
		min = -0.125
	}
	clamp_variable = {
		var = PER.PER_cgf
		max = 0.5
		min = 0
	}
	clamp_variable = {
		var = PER.PER_rsf
		max = 0
		min = -0.375
	}
	
	if = {
		limit = {
			check_variable = {
				PER.PER_var_workshop > 11624
			}
		}
		set_variable = { PER.PER_psd = 0 }
		set_variable = { PER.PER_pfef = 0 }
		set_variable = { PER.PER_cgf = 0 }
		set_variable = { PER.PER_rsf = 0 }
	}
	
	####### factory #######
	
	set_variable = { PER.PER_var_change_finer_facotry = PER.num_of_civilian_factories }
	subtract_from_variable = { PER.PER_var_change_finer_facotry = PER.PER_var_changer_factorries }
	add_to_variable = {
		var = PER.PER_var_changer_factorries
		value = PER.PER_var_change_finer_facotry
	}
	multiply_variable = { PER.PER_var_change_finer_facotry = 150 }
	add_to_variable = {
		var = PER.PER_var_workshop
		value = PER.PER_var_change_finer_facotry
	}
	set_variable = { PER.PER_var_change_finer_facotry = 0 }
	
	##### goods #####
	
	
	set_variable = { PER.PER_farm_change_finer = PER.PER_farm }
	subtract_from_variable = { PER.PER_farm_change_finer = PER.PER_farm_changer }
	add_to_variable = {
		var = PER.PER_farm_changer
		value = PER.PER_farm_change_finer
	}
	multiply_variable = { PER.PER_farm_change_finer = 50 }
	add_to_variable = {
		var = PER.PER_var_goods
		value = PER.PER_farm_change_finer
	}
	set_variable = { PER.PER_farm_change_finer = 0 }
	
	#### goods per capta ####
	
	set_variable = { PER.PER_persian_population = Iranian_core_population }
	
	#PER.max_manpower_k
	
	divide_variable = {
		var = PER.PER_persian_population
		value = 100
	}
	
	set_variable = { PER.PER_var_goods_per_capta = PER.PER_var_goods }
	
	divide_variable = {
		var = PER.PER_var_goods_per_capta
		value = PER.PER_persian_population
	}

	multiply_variable = {
		var = PER_var_goods_per_capta
		value = 100
	}
	
	#### trade import ####
	
	set_variable = { PER.PER_var_import_goods = 100 }
	
	subtract_from_variable = { PER.PER_var_import_goods = PER.PER_var_goods_per_capta }
	
	subtract_from_variable = { PER.PER_var_import_goods = PER.PER_var_domestic_production_support }
	
	clamp_variable = {
		var = PER.PER_var_import_goods
		min = 0
		max = 100
	}

	#### total goods ####
	
	set_variable = { PER.PER_var_total_goods = PER.PER_var_goods_per_capta }
	
	add_to_variable = {
		var = PER.PER_var_total_goods
		value = PER.PER_var_import_goods
	}
	
	#### Foreign influence market ####
	
	set_variable = { PER.PER_FIMme = PER.PER_Foreign_influence_market }
	divide_variable = {
		var = PER.PER_FIMme
		value = 100
	}
	
	set_variable = { PER.PER_FIMtof = PER.PER_Foreign_influence_market }
	divide_variable = {
		var = PER.PER_FIMtof
		value = 100
	}
	
	set_variable = { PER.PER_FIMcito = PER.PER_Foreign_influence_market }
	divide_variable = {
		var = PER.PER_FIMcito
		value = 5
	}
	
	#### decrease foreign influence by goods ####
	
	set_variable = { PER.PER_Foreign_influence_market = PER.PER_var_import_goods }
	subtract_from_variable = { PER.PER_Foreign_influence_market = PER.PER_var_anti_foreign_influnce }
	
	#has_idea = PER_civil_defnece
	
	if = {
		limit  = {
			NOT = {
				PER = {
					has_dynamic_modifier = {
						modifier = PER_idea_foreign_reliance
					}
				}
			}	
		}
		PER = {
			divide_variable = {
				var = PER.PER_Foreign_influence_market
				value = 2
			}
		}
	}
	
	clamp_variable = {
		var = PER.PER_Foreign_influence_market
		max = 100
		min = 0
	}
	
	#### crisis by not Goods enough ####
	
	set_variable = { PER.PER_var_crisis_by_Ngoods = PER.PER_var_total_goods }
	subtract_from_variable = { PER.PER_var_crisis_by_Ngoods = 100 }
	
	##
	
	divide_variable = {
		var = PER.PER_var_crisis_by_Ngoods
		value = 100
	}
	
	set_variable = { PER.PER_PMsf = PER.PER_var_crisis_by_Ngoods }
	
	set_variable = { PER.PER_var_export_income_cg = PER.PER_var_crisis_by_Ngoods }
	
	divide_variable = {
		var = PER.PER_var_export_income_cg
		value = -2
	}
	
	set_variable = { PER.PER_EPcgf = PER.PER_var_export_income_cg }
	
	set_variable = { PER.PER_var_export_income = PER.PER_var_crisis_by_Ngoods }
	
	divide_variable = {
		var = PER.PER_var_export_income
		value = 2
	}
	
	set_variable = { PER.PER_EPcons = PER.PER_var_export_income }
	
	set_variable = { PER.PER_EPpfef = PER.PER_var_export_income }
	
	set_variable = { PER.PER_EPpfme = PER.PER_var_export_income }
	
	clamp_variable = {
		var = PER.PER_EPcons
		#max = 100
		min = 0
	}
	clamp_variable = {
		var = PER.PER_EPpfef
		#max = 100
		min = 0
	}
	clamp_variable = {
		var = PER.PER_EPpfme
		#max = 100
		min = 0
	}
	clamp_variable = {
		var = PER.PER_EPcgf
		max = 0
		#min = 0
	}
	
	## dept ##
	
	set_variable = { PER.PER_var_Dept_changed = PER.PER_var_Dept }
	divide_variable = {
		var = PER.PER_var_Dept_changed
		value = 100
	}
	
	#### workshops bankup ####
	
	set_variable = { PER.PER_var_workshop_bankup = PER.PER_Foreign_influence_market }
	multiply_variable = {
		var = PER.PER_var_workshop_bankup
		value = 5
	}
	divide_variable = {
		var = PER.PER_var_workshop_bankup
		value = 30
	}
	round_variable = PER.PER_var_workshop_bankup
	
	#### export income ####
	
	
	#PER_var_posetivee : posetive_export
	#PER_var_posef : posetive_export_finder
	#PER_var_pec : posetive_export_changer

	
	#### limits ####
	
	clamp_variable = {
		var = PER.PER_var_domestic_production_support
		max = 100
		min = -100
	}
	
	#clamp_variable = {
	#	var = PER.PER_PMcgf
	#	min = -0.6
	#}
}

PER_Persia_political = {

	set_variable = { PER_moderates_party = PER.party_popularity@neutrality }

	set_variable = { PER_socialists_party = PER.party_popularity@democratic }
	
	add_to_variable = {
		var = PER_socialists_party
		value = PER.party_popularity@communism
	}
	
	
#	if = {
#		limit = {
#			check_variable = {
#				var = PER_moderates_party
#				value = 0
#				compare = equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 0 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.05
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 1 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.05
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.10
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 2 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.10
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.15
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 3 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.15
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.20
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 4 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.20
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.25
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 5 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.25
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.30
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 6 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.30
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.35
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 7 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.35
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.40
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 8 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.40
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.45
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 9 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.45
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.50
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 10 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.50
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.55
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 11 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.55
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.60
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 12 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.60
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.65
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 13 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.65
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.70
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 14 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.70
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.75
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 15 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.75
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.80
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 16 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.80
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.85
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 16 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.85
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.90
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 17 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.90
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.95
#				compare = less_than_or_equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 18 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				PER_moderates_party > 0.95
#			}
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.100
#				compare = less_than
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 19 }
#	}
#	if = {
#		limit = {
#			check_variable = {
#				var = PER_moderates_party
#				value = 0.1
#				compare = equals
#			}
#		}
#		set_variable = { PER_parliment_seats_icon_var = 20 }
#	}
	
	#set_variable = { PER_moderates_party_seats = PER_moderates_party }
	#
	#set_variable = { PER_socialists_party_seats = PER_socialists_party }

}

PER_Persia_ruling_party_gfx_icon = {

	if = {
		limit = {
			PER = {
				has_elections = yes
				has_government = neutrality
			}
			#check_variable = {
			#	PER_moderates_party > 0.5
			#}
		}
		set_variable = { PER_grp_var = 1 }
	}
	
	if = {
		limit = {
			PER = {
				has_elections = yes
				OR = {
					has_government = democratic
					has_government = communism
				}
			}
			#check_variable = {
			#	PER_socialists_party > 0.5
			#}
		}
		set_variable = { PER_grp_var = 2 }
	}

}

# Allocate a random number of seats to Parties 1, 2, 3 and 4
PER_generate_random_party_seats = {
	set_variable = { Etedal_party_seats = PER_moderates_party }
	set_variable = { PER_Democrats_party_seats = PER.party_popularity@democratic }
	set_variable = { PER_Progress_Party = PER.party_popularity@communism }
	set_variable = { PER_vacant_seats = PER_parliment_vacant }

	set_temp_variable = { total = Etedal_party_seats }
	add_to_temp_variable = { total = PER_Democrats_party_seats }
	add_to_temp_variable = { total = PER_Progress_Party }
	add_to_temp_variable = { total = PER_vacant_seats }
	divide_variable = { Etedal_party_seats = total }
	divide_variable = { PER_Democrats_party_seats = total }
	divide_variable = { PER_Progress_Party = total }

	multiply_variable = { Etedal_party_seats = 120 }
	multiply_variable = { PER_Democrats_party_seats = 120 }
	multiply_variable = { PER_Progress_Party = 120 }
	round_variable = Etedal_party_seats
	round_variable = PER_Democrats_party_seats
	round_variable = PER_Progress_Party

	set_variable = { PER_vacant_seats = 120 }
	subtract_from_variable = { PER_vacant_seats = Etedal_party_seats }
	subtract_from_variable = { PER_vacant_seats = PER_Democrats_party_seats }
	subtract_from_variable = { PER_vacant_seats = PER_Progress_Party }
}

PER_init_parliament = {
	PER_generate_random_party_seats = yes
	
	# Generate partial sums t1 = (P1), t2 = (P1 + P2), t3 = (P1 + P2 + P3)
	# so that we can use resize_array to fill our array with the right number of seats for each party
	set_temp_variable = { t1 = Etedal_party_seats }
	set_temp_variable = { t2 = PER_Democrats_party_seats }
	set_temp_variable = { t3 = PER_Progress_Party }
	set_temp_variable = { t4 = 120 }

	add_to_temp_variable = { t2 = t1 }
	add_to_temp_variable = { t3 = t2 }


	clear_array = PER_frame_party

	# Resize array to t1 seats, setting P1 frame numbers to 1 (Party 1 color)
	resize_array = {
		array = PER_frame_party
		value = 5
		size = t1
	}
	# Resize array to t2 seats, setting P2 frame numbers to 2 (Party 2 color)
	resize_array = {
		array = PER_frame_party
		value = 2
		size = t2
	}
	# Resize array to t3 seats, setting P3 frame numbers to 3 (Party 3 color)
	resize_array = {
		array = PER_frame_party
		value = 1
		size = t3
	}
	# Resize array to all 300 seats, setting remaining frame numbers to 4 (Party 4 color)
	resize_array = {
		array = PER_frame_party
		value = 11
		size = t4
	}

	# Setup positions (ideally only done once in a history file or game-start event, this is inefficient)
	
	clear_array = PER_X_possion
	clear_array = PER_Y_posison

	add_to_array = { PER_X_possion = 0 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 16 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 32 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 48 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 64 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 80 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 2 }
	add_to_array = { PER_Y_posison = 161 }
	add_to_array = { PER_X_possion = 19 }
	add_to_array = { PER_Y_posison = 160 }
	add_to_array = { PER_X_possion = 35 }
	add_to_array = { PER_Y_posison = 160 }
	add_to_array = { PER_X_possion = 51 }
	add_to_array = { PER_Y_posison = 160 }
	add_to_array = { PER_X_possion = 68 }
	add_to_array = { PER_Y_posison = 160 }
	add_to_array = { PER_X_possion = 7 }
	add_to_array = { PER_Y_posison = 141 }
	add_to_array = { PER_X_possion = 24 }
	add_to_array = { PER_Y_posison = 140 }
	add_to_array = { PER_X_possion = 85 }
	add_to_array = { PER_Y_posison = 159 }
	add_to_array = { PER_X_possion = 41 }
	add_to_array = { PER_Y_posison = 140 }
	add_to_array = { PER_X_possion = 14 }
	add_to_array = { PER_Y_posison = 122 }
	add_to_array = { PER_X_possion = 58 }
	add_to_array = { PER_Y_posison = 141 }
	add_to_array = { PER_X_possion = 32 }
	add_to_array = { PER_Y_posison = 121 }
	add_to_array = { PER_X_possion = 76 }
	add_to_array = { PER_Y_posison = 140 }
	add_to_array = { PER_X_possion = 50 }
	add_to_array = { PER_Y_posison = 121 }
	add_to_array = { PER_X_possion = 23 }
	add_to_array = { PER_Y_posison = 104 }
	add_to_array = { PER_X_possion = 68 }
	add_to_array = { PER_Y_posison = 122 }
	add_to_array = { PER_X_possion = 42 }
	add_to_array = { PER_Y_posison = 104 }
	add_to_array = { PER_X_possion = 95 }
	add_to_array = { PER_Y_posison = 138 }
	add_to_array = { PER_X_possion = 34 }
	add_to_array = { PER_Y_posison = 88 }
	add_to_array = { PER_X_possion = 62 }
	add_to_array = { PER_Y_posison = 103 }
	add_to_array = { PER_X_possion = 88 }
	add_to_array = { PER_Y_posison = 122 }
	add_to_array = { PER_X_possion = 54 }
	add_to_array = { PER_Y_posison = 87 }
	add_to_array = { PER_X_possion = 80 }
	add_to_array = { PER_Y_posison = 106 }
	add_to_array = { PER_X_possion = 47 }
	add_to_array = { PER_Y_posison = 72 }
	add_to_array = { PER_X_possion = 76 }
	add_to_array = { PER_Y_posison = 88 }
	add_to_array = { PER_X_possion = 110 }
	add_to_array = { PER_Y_posison = 121 }
	add_to_array = { PER_X_possion = 69 }
	add_to_array = { PER_Y_posison = 73 }
	add_to_array = { PER_X_possion = 61 }
	add_to_array = { PER_Y_posison = 58 }
	add_to_array = { PER_X_possion = 103 }
	add_to_array = { PER_Y_posison = 107 }
	add_to_array = { PER_X_possion = 95 }
	add_to_array = { PER_Y_posison = 92 }
	add_to_array = { PER_X_possion = 93 }
	add_to_array = { PER_Y_posison = 74 }
	add_to_array = { PER_X_possion = 85 }
	add_to_array = { PER_Y_posison = 60 }
	add_to_array = { PER_X_possion = 77 }
	add_to_array = { PER_Y_posison = 46 }
	add_to_array = { PER_X_possion = 113 }
	add_to_array = { PER_Y_posison = 81 }
	add_to_array = { PER_X_possion = 121 }
	add_to_array = { PER_Y_posison = 95 }
	add_to_array = { PER_X_possion = 129 }
	add_to_array = { PER_Y_posison = 108 }
	add_to_array = { PER_X_possion = 95 }
	add_to_array = { PER_Y_posison = 36 }
	add_to_array = { PER_X_possion = 103 }
	add_to_array = { PER_Y_posison = 50 }
	add_to_array = { PER_X_possion = 111 }
	add_to_array = { PER_Y_posison = 64 }
	add_to_array = { PER_X_possion = 113 }
	add_to_array = { PER_Y_posison = 28 }
	add_to_array = { PER_X_possion = 132 }
	add_to_array = { PER_Y_posison = 72 }
	add_to_array = { PER_X_possion = 122 }
	add_to_array = { PER_Y_posison = 42 }
	add_to_array = { PER_X_possion = 131 }
	add_to_array = { PER_Y_posison = 56 }
	add_to_array = { PER_X_possion = 140 }
	add_to_array = { PER_Y_posison = 86 }
	add_to_array = { PER_X_possion = 150 }
	add_to_array = { PER_Y_posison = 100 }
	add_to_array = { PER_X_possion = 132 }
	add_to_array = { PER_Y_posison = 23 }
	add_to_array = { PER_X_possion = 142 }
	add_to_array = { PER_Y_posison = 37 }
	add_to_array = { PER_X_possion = 152 }
	add_to_array = { PER_Y_posison = 67 }
	add_to_array = { PER_X_possion = 151 }
	add_to_array = { PER_Y_posison = 51 }
	add_to_array = { PER_X_possion = 152 }
	add_to_array = { PER_Y_posison = 19 }
	add_to_array = { PER_X_possion = 162 }
	add_to_array = { PER_Y_posison = 82 }
	add_to_array = { PER_X_possion = 162 }
	add_to_array = { PER_Y_posison = 34 }
	add_to_array = { PER_X_possion = 172 }
	add_to_array = { PER_Y_posison = 97 }
	add_to_array = { PER_X_possion = 172 }
	add_to_array = { PER_Y_posison = 66 }
	add_to_array = { PER_X_possion = 172 }
	add_to_array = { PER_Y_posison = 50 }
	add_to_array = { PER_X_possion = 172 }
	add_to_array = { PER_Y_posison = 18 }
	add_to_array = { PER_X_possion = 183 }
	add_to_array = { PER_Y_posison = 34 }
	add_to_array = { PER_X_possion = 183 }
	add_to_array = { PER_Y_posison = 82 }
	add_to_array = { PER_X_possion = 192 }
	add_to_array = { PER_Y_posison = 19 }
	add_to_array = { PER_X_possion = 193 }
	add_to_array = { PER_Y_posison = 51 }
	add_to_array = { PER_X_possion = 193 }
	add_to_array = { PER_Y_posison = 67 }
	add_to_array = { PER_X_possion = 203 }
	add_to_array = { PER_Y_posison = 37 }
	add_to_array = { PER_X_possion = 212 }
	add_to_array = { PER_Y_posison = 23 }
	add_to_array = { PER_X_possion = 195 }
	add_to_array = { PER_Y_posison = 100 }
	add_to_array = { PER_X_possion = 204 }
	add_to_array = { PER_Y_posison = 86 }
	add_to_array = { PER_X_possion = 214 }
	add_to_array = { PER_Y_posison = 56 }
	add_to_array = { PER_X_possion = 223 }
	add_to_array = { PER_Y_posison = 42 }
	add_to_array = { PER_X_possion = 213 }
	add_to_array = { PER_Y_posison = 72 }
	add_to_array = { PER_X_possion = 231 }
	add_to_array = { PER_Y_posison = 28 }
	add_to_array = { PER_X_possion = 234 }
	add_to_array = { PER_Y_posison = 64 }
	add_to_array = { PER_X_possion = 242 }
	add_to_array = { PER_Y_posison = 50 }
	add_to_array = { PER_X_possion = 250 }
	add_to_array = { PER_Y_posison = 36 }
	add_to_array = { PER_X_possion = 216 }
	add_to_array = { PER_Y_posison = 108 }
	add_to_array = { PER_X_possion = 224 }
	add_to_array = { PER_Y_posison = 95 }
	add_to_array = { PER_X_possion = 232 }
	add_to_array = { PER_Y_posison = 81 }
	add_to_array = { PER_X_possion = 267 }
	add_to_array = { PER_Y_posison = 46 }
	add_to_array = { PER_X_possion = 259 }
	add_to_array = { PER_Y_posison = 60 }
	add_to_array = { PER_X_possion = 252 }
	add_to_array = { PER_Y_posison = 74 }
	add_to_array = { PER_X_possion = 249 }
	add_to_array = { PER_Y_posison = 92 }
	add_to_array = { PER_X_possion = 242 }
	add_to_array = { PER_Y_posison = 107 }
	add_to_array = { PER_X_possion = 283 }
	add_to_array = { PER_Y_posison = 58 }
	add_to_array = { PER_X_possion = 276 }
	add_to_array = { PER_Y_posison = 73 }
	add_to_array = { PER_X_possion = 235 }
	add_to_array = { PER_Y_posison = 121 }
	add_to_array = { PER_X_possion = 268 }
	add_to_array = { PER_Y_posison = 88 }
	add_to_array = { PER_X_possion = 298 }
	add_to_array = { PER_Y_posison = 72 }
	add_to_array = { PER_X_possion = 264 }
	add_to_array = { PER_Y_posison = 106 }
	add_to_array = { PER_X_possion = 290 }
	add_to_array = { PER_Y_posison = 87 }
	add_to_array = { PER_X_possion = 257 }
	add_to_array = { PER_Y_posison = 122 }
	add_to_array = { PER_X_possion = 283 }
	add_to_array = { PER_Y_posison = 103 }
	add_to_array = { PER_X_possion = 311 }
	add_to_array = { PER_Y_posison = 88 }
	add_to_array = { PER_X_possion = 249 }
	add_to_array = { PER_Y_posison = 138 }
	add_to_array = { PER_X_possion = 303 }
	add_to_array = { PER_Y_posison = 104 }
	add_to_array = { PER_X_possion = 277 }
	add_to_array = { PER_Y_posison = 122 }
	add_to_array = { PER_X_possion = 322 }
	add_to_array = { PER_Y_posison = 104 }
	add_to_array = { PER_X_possion = 294 }
	add_to_array = { PER_Y_posison = 121 }
	add_to_array = { PER_X_possion = 269 }
	add_to_array = { PER_Y_posison = 140 }
	add_to_array = { PER_X_possion = 313 }
	add_to_array = { PER_Y_posison = 121 }
	add_to_array = { PER_X_possion = 287 }
	add_to_array = { PER_Y_posison = 141 }
	add_to_array = { PER_X_possion = 331 }
	add_to_array = { PER_Y_posison = 122 }
	add_to_array = { PER_X_possion = 304 }
	add_to_array = { PER_Y_posison = 140 }
	add_to_array = { PER_X_possion = 260 }
	add_to_array = { PER_Y_posison = 159 }
	add_to_array = { PER_X_possion = 321 }
	add_to_array = { PER_Y_posison = 140 }
	add_to_array = { PER_X_possion = 338 }
	add_to_array = { PER_Y_posison = 141 }
	add_to_array = { PER_X_possion = 277 }
	add_to_array = { PER_Y_posison = 160 }
	add_to_array = { PER_X_possion = 293 }
	add_to_array = { PER_Y_posison = 160 }
	add_to_array = { PER_X_possion = 310 }
	add_to_array = { PER_Y_posison = 160 }
	add_to_array = { PER_X_possion = 326 }
	add_to_array = { PER_Y_posison = 160 }
	add_to_array = { PER_X_possion = 342 }
	add_to_array = { PER_Y_posison = 161 }
	add_to_array = { PER_X_possion = 265 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 281 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 297 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 313 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 329 }
	add_to_array = { PER_Y_posison = 181 }
	add_to_array = { PER_X_possion = 345 }
	add_to_array = { PER_Y_posison = 181 }
}

PER_population = {
	
	clear_variable = Iranian_core_population
	
	if = {
		limit = {
			266 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 266.state_population_k
		}
	}
	
	if = {
		limit = {
			419 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 419.state_population_k
		}
	}
	
	if = {
		limit = {
			877 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 877.state_population_k
		}
	}
	
	if = {
		limit = {
			420 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 420.state_population_k
		}
	}
	
	if = {
		limit = {
			421 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 421.state_population_k
		}
	}
	
	if = {
		limit = {
			417 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 417.state_population_k
		}
	}
	
	if = {
		limit = {
			413 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 413.state_population_k
		}
	}
	
	if = {
		limit = {
			411 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 411.state_population_k
		}
	}
	
	if = {
		limit = {
			412 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 412.state_population_k
		}
	}
	
	if = {
		limit = {
			418 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 418.state_population_k
		}
	}
	
	if = {
		limit = {
			1117 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 1117.state_population_k
		}
	}
	
	if = {
		limit = {
			1013 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 1013.state_population_k
		}
	}
	
	if = {
		limit = {
			416 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 416.state_population_k
		}
	}
	
	if = {
		limit = {
			414 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 414.state_population_k
		}
	}
	
	if = {
		limit = {
			410 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 410.state_population_k
		}
	}
	
	if = {
		limit = {
			444 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 444.state_population_k
		}
	}
	
	if = {
		limit = {
			415 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 415.state_population_k
		}
	}
	
	if = {
		limit = {
			445 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 445.state_population_k
		}
	}
	
	if = {
		limit = {
			267 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 267.state_population_k
		}
	}
	
	if = {
		limit = {
			442 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 442.state_population_k
		}
	}
	
	if = {
		limit = {
			584 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 584.state_population_k
		}
	}
	
	if = {
		limit = {
			406 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 406.state_population_k
		}
	}
	
	if = {
		limit = {
			405 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 405.state_population_k
		}
	}
	
	if = {
		limit = {
			586 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 586.state_population_k
		}
	}
	
	if = {
		limit = {
			732 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 732.state_population_k
		}
	}
	
	if = {
		limit = {
			229 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 229.state_population_k
		}
	}
	
	if = {
		limit = {
			823 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 823.state_population_k
		}
	}
	
	if = {
		limit = {
			830 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 830.state_population_k
		}
	}
	
	if = {
		limit = {
			565 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 565.state_population_k
		}
	}
	
	if = {
		limit = {
			231 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 231.state_population_k
		}
	}
	
	if = {
		limit = {
			818 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 818.state_population_k
		}
	}
	
	if = {
		limit = {
			938 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 938.state_population_k
		}
	}
	
	if = {
		limit = {
			939 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 939.state_population_k
		}
	}
	
	if = {
		limit = {
			230 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 230.state_population_k
		}
	}
	
	if = {
		limit = {
			787 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 787.state_population_k
		}
	}
	
	if = {
		limit = {
			874 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 874.state_population_k
		}
	}
	
	if = {
		limit = {
			291 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 291.state_population_k
		}
	}
	
	if = {
		limit = {
			853 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 853.state_population_k
		}
	}
	
	if = {
		limit = {
			883 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 883.state_population_k
		}
	}
	
	if = {
		limit = {
			879 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 879.state_population_k
		}
	}
	
	if = {
		limit = {
			676 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 676.state_population_k
		}
	}
	
	if = {
		limit = {
			828 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 828.state_population_k
		}
	}
	
	if = {
		limit = {
			352 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 352.state_population_k
		}
	}
	
	if = {
		limit = {
			886 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 886.state_population_k
		}
	}
	
	if = {
		limit = {
			680 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 680.state_population_k
		}
	}
	
	if = {
		limit = {
			884 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 884.state_population_k
		}
	}
	
	if = {
		limit = {
			1029 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 1029.state_population_k
		}
	}
	
	if = {
		limit = {
			1028 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 1028.state_population_k
		}
	}
	
	if = {
		limit = {
			829 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 829.state_population_k
		}
	}
	
	if = {
		limit = {
			350 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 350.state_population_k
		}
	}
	
	if = {
		limit = {
			1022 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 1022.state_population_k
		}
	}
	
	if = {
		limit = {
			881 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 881.state_population_k
		}
	}
	
	if = {
		limit = {
			353 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 353.state_population_k
		}
	}
	
	if = {
		limit = {
			1034 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 1034.state_population_k
		}
	}
	
	if = {
		limit = {
			354 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = Iranian_core_population
			value = 354.state_population_k
		}
	}
	
}

PER_workshops_land = {
	
	### workshops
	
	clear_variable = PER.PER_var_workshop_now
	
	if = {
		limit = {
			266 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 266.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			419 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 419.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			877 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 877.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			420 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 420.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			421 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 421.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			417 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 417.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			413 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 413.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			411 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 411.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			412 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 412.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			418 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 418.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			1117 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 1117.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			1013 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 1013.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			416 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 416.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			414 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 414.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			410 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 410.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			444 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 444.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			415 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 415.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			445 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 445.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			267 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 267.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			442 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 442.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			584 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 584.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			406 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 406.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			405 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 405.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			586 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 586.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			732 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 732.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			229 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 229.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			823 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 823.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			830 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 830.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			565 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 565.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			231 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 231.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			818 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 818.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			938 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 938.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			939 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 939.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			230 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 230.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			787 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 787.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			874 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 874.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			291 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 291.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			853 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 853.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			883 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 883.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			879 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 879.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			676 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 676.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			828 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 828.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			352 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 352.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			886 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 886.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			680 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 680.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			884 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 884.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			1029 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 1029.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			1028 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 1028.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			829 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 829.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			350 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 350.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			1022 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 1022.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			881 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 881.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			353 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 353.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			1034 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 1034.PER_var_workshop_now
		}
	}
	
	if = {
		limit = {
			354 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_var_workshop_now
			value = 354.PER_var_workshop_now
		}
	}
	
}

PER_farm_land = {
	
	### farms
	
	clear_variable = PER.PER_farm
	
	if = {
		limit = {
			266 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 266.PER_farm
		}
	}
	
	if = {
		limit = {
			419 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 419.PER_farm
		}
	}
	
	if = {
		limit = {
			877 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 877.PER_farm
		}
	}
	
	if = {
		limit = {
			420 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 420.PER_farm
		}
	}
	
	if = {
		limit = {
			421 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 421.PER_farm
		}
	}
	
	if = {
		limit = {
			417 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 417.PER_farm
		}
	}
	
	if = {
		limit = {
			413 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 413.PER_farm
		}
	}
	
	if = {
		limit = {
			411 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 411.PER_farm
		}
	}
	
	if = {
		limit = {
			412 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 412.PER_farm
		}
	}
	
	if = {
		limit = {
			418 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 418.PER_farm
		}
	}
	
	if = {
		limit = {
			1117 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 1117.PER_farm
		}
	}
	
	if = {
		limit = {
			1013 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 1013.PER_farm
		}
	}
	
	if = {
		limit = {
			416 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 416.PER_farm
		}
	}
	
	if = {
		limit = {
			414 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 414.PER_farm
		}
	}
	
	if = {
		limit = {
			410 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 410.PER_farm
		}
	}
	
	if = {
		limit = {
			444 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 444.PER_farm
		}
	}
	
	if = {
		limit = {
			415 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 415.PER_farm
		}
	}
	
	if = {
		limit = {
			445 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 445.PER_farm
		}
	}
	
	if = {
		limit = {
			267 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 267.PER_farm
		}
	}
	
	if = {
		limit = {
			442 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 442.PER_farm
		}
	}
	
	if = {
		limit = {
			584 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 584.PER_farm
		}
	}
	
	if = {
		limit = {
			406 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 406.PER_farm
		}
	}
	
	if = {
		limit = {
			405 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 405.PER_farm
		}
	}
	
	if = {
		limit = {
			586 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 586.PER_farm
		}
	}
	
	if = {
		limit = {
			732 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 732.PER_farm
		}
	}
	
	if = {
		limit = {
			229 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 229.PER_farm
		}
	}
	
	if = {
		limit = {
			823 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 823.PER_farm
		}
	}
	
	if = {
		limit = {
			830 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 830.PER_farm
		}
	}
	
	if = {
		limit = {
			565 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 565.PER_farm
		}
	}
	
	if = {
		limit = {
			231 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 231.PER_farm
		}
	}
	
	if = {
		limit = {
			818 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 818.PER_farm
		}
	}
	
	if = {
		limit = {
			938 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 938.PER_farm
		}
	}
	
	if = {
		limit = {
			939 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 939.PER_farm
		}
	}
	
	if = {
		limit = {
			230 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 230.PER_farm
		}
	}
	
	if = {
		limit = {
			787 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 787.PER_farm
		}
	}
	
	if = {
		limit = {
			874 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 874.PER_farm
		}
	}
	
	if = {
		limit = {
			291 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 291.PER_farm
		}
	}
	
	if = {
		limit = {
			853 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 853.PER_farm
		}
	}
	
	if = {
		limit = {
			883 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 883.PER_farm
		}
	}
	
	if = {
		limit = {
			879 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 879.PER_farm
		}
	}
	
	if = {
		limit = {
			676 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 676.PER_farm
		}
	}
	
	if = {
		limit = {
			828 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 828.PER_farm
		}
	}
	
	if = {
		limit = {
			352 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 352.PER_farm
		}
	}
	
	if = {
		limit = {
			886 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 886.PER_farm
		}
	}
	
	if = {
		limit = {
			680 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 680.PER_farm
		}
	}
	
	if = {
		limit = {
			884 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 884.PER_farm
		}
	}
	
	if = {
		limit = {
			1029 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 1029.PER_farm
		}
	}
	
	if = {
		limit = {
			1028 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 1028.PER_farm
		}
	}
	
	if = {
		limit = {
			829 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 829.PER_farm
		}
	}
	
	if = {
		limit = {
			350 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 350.PER_farm
		}
	}
	
	if = {
		limit = {
			1022 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 1022.PER_farm
		}
	}
	
	if = {
		limit = {
			881 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 881.PER_farm
		}
	}
	
	if = {
		limit = {
			353 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 353.PER_farm
		}
	}
	
	if = {
		limit = {
			1034 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 1034.PER_farm
		}
	}
	
	if = {
		limit = {
			354 = {
				is_controlled_by = PER
				is_core_of = PER
			}
		}
		add_to_variable = {
			var = PER.PER_farm
			value = 354.PER_farm
		}
	}

}