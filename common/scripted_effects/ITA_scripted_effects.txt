ITA_add_correct_mafia_rising_modifier_version = {
	if = {
		limit = {
			has_dlc = "La Resistance"
		}
		add_dynamic_modifier = {
			modifier = ITA_mafia_on_the_rise
		}
	}
	else = {
		add_dynamic_modifier = {
			modifier = ITA_mafia_on_the_rise_no_lar
		}
	}
}
ITA_contain_the_labor_movement_effect = {
	if = {
		limit = {
			has_stability > 0.999
		}
		add_popularity = {
			ideology = communism
			popularity = -0.1
		}
	}
	else_if = {
		limit = {
			has_stability > 0.9
		}
		add_popularity = {
			ideology = communism
			popularity = -0.09
		}
	}
	else_if = {
		limit = {
			has_stability > 0.8
		}
		add_popularity = {
			ideology = communism
			popularity = -0.08
		}
	}
	else_if = {
		limit = {
			has_stability > 0.7
		}
		add_popularity = {
			ideology = communism
			popularity = -0.07
		}
		add_political_power = 45
	}
	else_if = {
		limit = {
			has_stability > 0.6
		}
		add_popularity = {
			ideology = communism
			popularity = -0.06
		}
	}
	else_if = {
		limit = {
			has_stability > 0.5
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}
	else_if = {
		limit = {
			has_stability > 0.4
		}
		add_popularity = {
			ideology = communism
			popularity = -0.04
		}
	}
	else_if = {
		limit = {
			has_stability > 0.3
		}
		add_popularity = {
			ideology = communism
			popularity = -0.03
		}
	}
	else_if = {
		limit = {
			has_stability > 0.2
		}
		add_popularity = {
			ideology = communism
			popularity = -0.02
		}
	}
	else_if = {
		limit = {
			has_stability > 0.1
		}
		add_popularity = {
			ideology = communism
			popularity = -0.01
		}
	}
}
ITA_house_of_cards_update = {
	clamp_variable = {
		var = ITA_socialist_pm_support
		min = 0
		max = ITA_socialist_pm_start
	}
	clamp_variable = {
		var = ITA_radical_pm_support
		min = 0
		max = ITA_radical_pm_start
	}
	clamp_variable = {
		var = ITA_historical_left_support
		min = 0
		max = ITA_historical_left_start
	}
	clamp_variable = {
		var = ITA_right_swing_support
		min = 0
		max = ITA_right_wing_start
	}
	set_variable = {
		ITA_total_government_support = 0
	}
	add_to_variable = {
		ITA_total_government_support = ITA_socialist_pm_support
	}
	add_to_variable = {
		ITA_total_government_support = ITA_radical_pm_support
	}
	add_to_variable = {
		ITA_total_government_support = ITA_historical_left_support
	}
	add_to_variable = {
		ITA_total_government_support = ITA_right_swing_support
	}
}

ITA_paramilitary_worsen = {
	if = {
		limit = {
			NOT = {
				has_idea = ITA_nationalist_agitation_idea_1
				has_idea = ITA_nationalist_agitation_idea_2
				has_idea = ITA_nationalist_agitation_idea_3
				has_idea = ITA_nationalist_agitation_idea_4
				has_idea = ITA_nationalist_agitation_idea_5
				has_idea = ITA_nationalist_agitation_idea_6
				has_idea = ITA_nationalist_agitation_idea_7
				has_idea = ITA_nationalist_agitation_idea_8
				has_idea = ITA_nationalist_agitation_idea_9
				has_idea = ITA_nationalist_agitation_idea_10
				has_idea = ITA_nationalist_agitation_idea_11
				has_idea = ITA_nationalist_agitation_idea_12
				has_idea = ITA_nationalist_agitation_idea_13
				has_idea = ITA_nationalist_agitation_idea_14
				has_idea = ITA_nationalist_agitation_idea_15
			}
		}
		add_ideas = ITA_nationalist_agitation_idea_1
	}
	if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_1
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_1
			add_idea = ITA_nationalist_agitation_idea_2
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_2
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_2
			add_idea = ITA_nationalist_agitation_idea_3
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_3
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_3
			add_idea = ITA_nationalist_agitation_idea_4
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_4
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_4
			add_idea = ITA_nationalist_agitation_idea_5
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_5
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_5
			add_idea = ITA_nationalist_agitation_idea_6
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_6
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_6
			add_idea = ITA_nationalist_agitation_idea_7
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_7
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_7
			add_idea = ITA_nationalist_agitation_idea_8
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_8
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_8
			add_idea = ITA_nationalist_agitation_idea_9
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_9
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_9
			add_idea = ITA_nationalist_agitation_idea_10
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_10
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_10
			add_idea = ITA_nationalist_agitation_idea_11
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_11
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_11
			add_idea = ITA_nationalist_agitation_idea_12
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_12
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_12
			add_idea = ITA_nationalist_agitation_idea_13
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_13
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_13
			add_idea = ITA_nationalist_agitation_idea_14
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_14
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_14
			add_idea = ITA_nationalist_agitation_idea_15
		}
	}
}
ITA_paramilitary_improve = {
	if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_1
		}
		remove_ideas = ITA_nationalist_agitation_idea_1
	}
	if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_15
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_15
			add_idea = ITA_nationalist_agitation_idea_14
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_14
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_14
			add_idea = ITA_nationalist_agitation_idea_13
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_13
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_13
			add_idea = ITA_nationalist_agitation_idea_12
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_12
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_12
			add_idea = ITA_nationalist_agitation_idea_11
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_11
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_11
			add_idea = ITA_nationalist_agitation_idea_10
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_10
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_10
			add_idea = ITA_nationalist_agitation_idea_9
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_9
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_9
			add_idea = ITA_nationalist_agitation_idea_8
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_8
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_8
			add_idea = ITA_nationalist_agitation_idea_7
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_7
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_7
			add_idea = ITA_nationalist_agitation_idea_6
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_6
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_6
			add_idea = ITA_nationalist_agitation_idea_5
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_5
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_5
			add_idea = ITA_nationalist_agitation_idea_4
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_4
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_4
			add_idea = ITA_nationalist_agitation_idea_3
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_3
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_3
			add_idea = ITA_nationalist_agitation_idea_2
		}
	}
	else_if = {
		limit = {
			has_idea = ITA_nationalist_agitation_idea_2
		}
		swap_ideas = {
			remove_idea = ITA_nationalist_agitation_idea_2
			add_idea = ITA_nationalist_agitation_idea_1
		}
	}
}

ITA_socialist_government_support = {
	set_variable = {
		ITA_total_government_supportss = 508
	}
	IF = {
		Limit = {
			NOT = {
				has_global_flag = ITA_maximalists_in_coalition
			}
		}
		subtract_from_variable = {
			ITA_total_government_supportss = ITA_maximalist_pm
		}
	}
	IF = {
		Limit = {
			NOT = {
				has_global_flag = ITA_labourists_in_coalition
			}
		}
		subtract_from_variable = {
			ITA_total_government_supportss = ITA_labour_pm
		}
	}
	IF = {
		Limit = {
			NOT = {
				has_global_flag = ITA_reformists_in_coalition
			}
		}
		subtract_from_variable = {
			ITA_total_government_supportss = ITA_reform_pm
		}
	}
	IF = {
		Limit = {
			NOT = {
				has_global_flag = ITA_republicans_in_coalition
			}
		}
		subtract_from_variable = {
			ITA_total_government_supportss = ITA_republican_pm
		}
	}
	IF = {
		Limit = {
			NOT = {
				has_global_flag = ITA_progressives_in_coalition
			}
		}
		subtract_from_variable = {
			ITA_total_government_supportss = ITA_progressive_pm
		}
	}
	IF = {
		Limit = {
			NOT = {
				has_global_flag = ITA_liberals_in_coalition
			}
		}
		subtract_from_variable = {
			ITA_total_government_supportss = ITA_liberal_pm
		}
	}
	IF = {
		Limit = {
			NOT = {
				has_global_flag = ITA_catholics_in_coalition
			}
		}
		subtract_from_variable = {
			ITA_total_government_supportss = ITA_catholic_pm
		}
	}
	subtract_from_variable = {
		ITA_total_government_supportss = ITA_nationalist_pm
	}
}
