remove_french_presidents = {
	remove_ideas = {
		FRA_armand_fallieres
		FRA_raymond_poincare
		FRA_jules_pams
		FRA_edouard_vaillant
		FRA_paul_deschanel
		FRA_alexandre_millerand
		FRA_gaston_doumergue
		FRA_paul_painleve
		FRA_alexandre_millerand_pm_advisor
	}
}

FRA_the_first_carrier_effect = {
	if = {
		limit = {
			has_dlc = "Man the Guns"
		}
		hidden_effect = {
			set_technology = {
				early_ship_hull_carrier = 1
			}
		}
		create_equipment_variant = {
			name = "Foudre Class"
			type = ship_hull_carrier_conversion_ca
			name_group = FRA_CL_HISTORICAL
			parent_version = 0
			modules = {
				fixed_ship_deck_slot_1 = ship_deck_space
				fixed_ship_deck_slot_2 = empty
				fixed_ship_anti_air_slot = empty
				fixed_ship_radar_slot = empty
				fixed_ship_engine_slot = carrier_ship_engine_1
				fixed_ship_secondaries_slot = empty
			}
		}
		create_ship = {
			type = ship_hull_carrier_conversion_ca
			equipment_variant = "Foudre Class"
			name = "Foudre"
		}
		else = {
			set_technology = {
				early_carrier = 1
			}
			### Ship Variants ###
			create_equipment_variant = {
				name = "Foudre Class"
				type = carrier_1
				upgrades = {
					ship_reliability_upgrade = 1
					sub_engine_upgrade = 1
					sub_stealth_upgrade = 1
					sub_torpedo_upgrade = 1
				}
			}
			create_ship = {
				type = carrier_1
				equipment_variant = "Foudre Class"
				name = "Foudre"
			}
		}
	}
}

FRA_clear_all_alliance = {
	clr_country_flag = SFIO_allied
	clr_country_flag = independent_socialist_allied
	clr_country_flag = democratic_republican_alliance_allied
	clr_country_flag = radical_party_allied
	clr_country_flag = republicain_federation_allied
	clr_country_flag = conservatives_allied
	clr_country_flag = independent_republicans_allied
	clr_country_flag = independent_radicals_allied
	clr_country_flag = popular_liberal_action_allied
	clr_country_flag = nationalists_allied
	reload_parliament_gui = yes
}

FRA_recalculate_parliament_alliance = {

	set_variable = { var = democrat_alliance value = 0 } 
	if = {
		limit = {
			has_country_flag = SFIO_allied
			###### player ban socialism
			NOT = {
				AND = {
					is_puppet = no
					has_country_flag = FRA_socialism_banned
				}
			}
		}
		add_to_variable = { var = democrat_alliance value = SFIO }
	}
	if = {
		limit = {
			has_country_flag = independent_socialist_allied
		}
		add_to_variable = { var = democrat_alliance value = independent_socialist }
	}
	if = {
		limit = {
			has_country_flag = democratic_republican_alliance_allied
		}
		add_to_variable = { var = democrat_alliance value = democratic_republican_alliance }
	}
	if = {
		limit = {
			has_country_flag = radical_party_allied
		}
		add_to_variable = { var = democrat_alliance value = radical_party }
	}
	if = {
		limit = {
			has_country_flag = republicain_federation_allied
		}
		add_to_variable = { var = democrat_alliance value = republicain_federation }
	}
	if = {
		limit = {
			has_country_flag = conservatives_allied
		}
		add_to_variable = { var = democrat_alliance value = conservatives }
	}
	if = {
		limit = {
			has_country_flag = independent_republicans_allied
		}
		add_to_variable = { var = democrat_alliance value = independent_republicans }
	}
	if = {
		limit = {
			has_country_flag = independent_radicals_allied
		}
		add_to_variable = { var = democrat_alliance value = independent_radicals }
	}
	if = {
		limit = {
			has_country_flag = popular_liberal_action_allied
		}
		add_to_variable = { var = democrat_alliance value = popular_liberal_action }
	}
	if = {
		limit = {
			has_country_flag = nationalists_allied
		}
		add_to_variable = { var = democrat_alliance value = nationalists }
	}
	set_variable = {
		var = democrat_alliance_percent
		value = democrat_alliance
	}
	multiply_variable = {
		democrat_alliance_percent = 100
	}
	divide_variable = {
		democrat_alliance_percent = seatNumbers
	}
	build_opposite_coalition = yes
	reload_parliament_gui = yes
}

build_opposite_coalition = {
	#cleanup the opposition coalition
	clr_country_flag = SFIO_opposed
	clr_country_flag = independent_socialist_opposed
	clr_country_flag = radical_party_opposed
	clr_country_flag = independent_radicals_opposed
	clr_country_flag = democratic_republican_alliance_opposed
	clr_country_flag = republicain_federation_opposed
	clr_country_flag = conservatives_opposed
	clr_country_flag = independent_republicans_opposed
	clr_country_flag = popular_liberal_action_opposed
	clr_country_flag = nationalists_opposed
	clr_country_flag = player_coalition_is_minority
	set_variable = {
		alternative_coalition_seats = 0
	}
	if = {
		limit = {
			check_variable = {
				democrat_alliance < 300	#if player dont have the majority, he will see an alternative coalition if its exists
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = radical_party_allied #radical party is a coalition leader for center parties
				}
			}
			add_to_variable = { alternative_coalition_seats = radical_party }
			set_country_flag = radical_party_opposed
			if = {
				limit = {
					NOT = {
						has_country_flag = democratic_republican_alliance_allied #they would join forces
					}
				}
				add_to_variable = { alternative_coalition_seats = democratic_republican_alliance }
				set_country_flag = democratic_republican_alliance_opposed
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = independent_radicals_allied #they would join forces
					}
				}
				add_to_variable = { alternative_coalition_seats = independent_radicals }
				set_country_flag = independent_radicals_opposed
			}
			if = {
				limit = {
					check_variable = {
						alternative_coalition_seats > democrat_alliance
					}
				}
				set_temp_variable = {
					v = 4 #its the party array, used to get the party name =)
				}
				#useful for debug to see how big the rival majority is 
				#custom_effect_tooltip = radical_party_form_an_alternative_coalition
				set_country_flag = player_coalition_is_minority
				else = {
					clr_country_flag = radical_party_opposed
					clr_country_flag = independent_radicals_opposed
					clr_country_flag = democratic_republican_alliance_opposed
				}
			}
		}
	}
}

parliament_reassign_seats = {
	set_variable = { parliament_seat_array^0 = SFIO }
	set_variable = { parliament_seat_array^1 = independent_socialist }
	set_variable = { parliament_seat_array^2 = radical_party }
	set_variable = { parliament_seat_array^3 = democratic_republican_alliance }
	set_variable = { parliament_seat_array^4 = independent_radicals }
	set_variable = { parliament_seat_array^5 = republicain_federation }
	set_variable = { parliament_seat_array^6 = conservatives } #new !
	set_variable = { parliament_seat_array^7 = independent_republicans } #new
	set_variable = { parliament_seat_array^8 = popular_liberal_action }
	set_variable = { parliament_seat_array^9 = nationalists }
	set_variable = { parliament_seat_array^10 = vacant }
	FRA_recalculate_parliament_alliance = yes
}

imagine_radical_socialist_opposite_coalition = {
	set_temp_variable = {
		alternative_coalition_seats = 0
	}
	add_to_temp_variable = { alternative_coalition_seats = democratic_republican_alliance }
	add_to_temp_variable = { alternative_coalition_seats = radical_party }
	add_to_temp_variable = { alternative_coalition_seats = independent_radicals }
	if = {
		limit = {
			check_variable = {
				alternative_coalition_seats > 250
			}
		}
		
		set_temp_variable = {
			v = 4 #its the party array, used to get the party name =)
		}
		custom_effect_tooltip = radical_party_form_an_alternative_coalition
	}
}

FRA_remove_all_ideas = {
	remove_ideas = FRA_market_dynamism
	remove_ideas = FRA_firepower
	remove_ideas = FRA_firepower2
	remove_ideas = FRA_ww1_forced_conscription_in_colonies
	remove_ideas = FRA_idea_colonial_conscription
	remove_ideas = FRA_protector_of_the_weakests
	remove_ideas = FRA_ww1_social_investments
	remove_ideas = FRA_ww1_overseas_economy
	remove_ideas = FRA_ww1_colonial_volunteers
	remove_ideas = FRA_speed_cult
	remove_ideas = FRA_speed_cult2
	remove_ideas = FRA_air_fortress
	remove_ideas = FRA_memories_of_1812
	remove_ideas = FRA_napoleonic_pride
	remove_ideas = FRA_catholic_support
	remove_ideas = FRA_fascist_terror
	remove_ideas = FRA_camelots_du_roi
	remove_ideas = FRA_ww1_arms_export
	remove_ideas = FRA_interventionism
	remove_ideas = FRA_guards_of_the_motherland
	remove_ideas = FRA_idea_world_revolution
	remove_ideas = FRA_CGT_support2
	remove_ideas = FRA_CGT_support
	remove_ideas = FRA_popular_labor_service3
	remove_ideas = FRA_popular_labor_service2
	remove_ideas = FRA_popular_labor_service
	remove_ideas = FRA_CGT_support
	remove_ideas = FRA_propaganda
	remove_ideas = FRA_army_of_aggression_focus
	remove_ideas = FRA_army_of_aggression_focus_2
	remove_ideas = FRA_fighter_focused_production
	remove_ideas = FRA_ww1_colonial_volunteers
	remove_ideas = FRA_idea_reformed_income_tax
	remove_ideas = FRA_catholic_worker_circles
	remove_ideas = FRA_UCIDS
	remove_ideas = FRA_second_waldeck_rousseau_law
	remove_ideas = FRA_fighter_focused_production
	remove_ideas = FRA_idea_socialist_income_tax
	remove_ideas = FRA_workers_cooperatives
	remove_ideas = FRA_CGPF
}

FRA_create_FRC = {
	create_dynamic_country = {
		original_tag = FRA
		every_state = {
			limit = {
				is_core_of = FRA
			}
			add_core_of = PREV
		}
		every_state = {
			limit = {
				is_claimed_by = FRA
			}
			add_claim_by = PREV
		}
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		set_popularities = {
			democratic = 10
			neutrality = 7
			fascism = 10
			communism = 73
		}
		set_capital = { state = 16 }
		if = {
			limit = { FRA = { has_country_flag = great_war_loser } }
			set_country_flag = great_war_loser
		}
		if = {
			limit = { FRA = { has_country_flag = FRA_surrender_alone } }
			set_country_flag = FRA_surrender_alone
		}
		set_country_flag = FRA_socialist_france_flag
		set_cosmetic_tag = FRA_socialism
		reserve_dynamic_country = yes
		set_party_name = {
			ideology = communism
			long_name = FRA_syndicalism_party_long
			name = FRA_syndicalism_party
		}
		ROOT = {
			FRA_pierre_monatte = {
				set_nationality = FRC
			}
			FRA_marcel_cachin = {
				set_nationality = FRC
			}
			FRA_louis_frossard = {
				set_nationality = FRC
			}
			FRA_leon_blum = {
				set_nationality = FRC
			}
			FRA_maurice_sarrail = {
				set_nationality = FRC
			}
			FRA_jacques_sadoul = {
				set_nationality = FRC
			}
			FRA_pierre_semard = {
				set_nationality = FRC
			}
			# them too
			FRA_gustave_herve = {
				set_nationality = FRC
			}
			FRA_jean_allemane = {
				set_nationality = FRC
			}
			FRA_louis_dubreuilh = {
				set_nationality = FRC
			}
			FRA_alexandre_zevaes = {
				set_nationality = FRC
			}
			FRA_alfred_rosmer = {
				set_nationality = FRC
			}
			FRA_jean_charles_fortune_henry = {
				set_nationality = FRC
			}
			FRA_amedee_dunois = {
				set_nationality = FRC
			}
			FRA_georges_valois = {
				set_nationality = FRC
			}
			FRA_hubert_lagardelle = {
				set_nationality = FRC
			}
			FRA_emile_pouget = {
				set_nationality = FRC
			}
			FRA_jacques_arthuys = {
				set_nationality = FRC
			}
			FRA_jacques_arthuys = {
				set_nationality = FRC
			}
		}
		FRA_leon_blum = {
			promote_character = yes
		}
		FRA_louis_frossard = {
			promote_character = yes
		}
		FRA_pierre_monatte = {
			promote_character = yes				
		}
		FRA_jean_longuet = {
			promote_character = yes
		}
		FRA_georges_valois = {
			promote_character = yes
		}
		add_ideas = standing_alone	
		add_ideas = FRA_uncontrolled_popular_courts
		add_ideas = FRA_vindicative_left_wing
		add_ideas = FRC_revolutionnary_naval_officiers
		add_command_power = 200
		add_political_power = 350
		set_country_flag = {
			flag = tgwr_no_unit_limits
			days = 365
			value = 1
		}
	}
}

FRA_create_NFA = {
	create_dynamic_country = {
		original_tag = FRA
		every_state = {
			limit = {
				is_core_of = FRA
			}
			add_core_of = PREV
		}
		every_state = {
			limit = {
				is_claimed_by = FRA
			}
			add_claim_by = PREV
		}
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
		set_popularities = {
			democratic = 18
			neutrality = 0
			fascism = 82
			communism = 0
		}
		set_capital = { state = 31 }
		if = {
			limit = { FRA = { has_country_flag = great_war_loser } }
			set_country_flag = great_war_loser
		}
		if = {
			limit = { FRA = { has_country_flag = FRA_surrender_alone } }
			set_country_flag = FRA_surrender_alone
		}
		set_country_flag = FRA_nationalist_france_flag
		set_cosmetic_tag = FRA_proto_fascism
		reserve_dynamic_country = yes
		set_party_name = {
			ideology = fascism
			long_name = FRA_FSN_long
			name = FRA_FSN
		}
		add_ideas = FRA_disjointed_government2
		ROOT = {
			FRA_maurice_pujo = {
				set_nationality = NFA
			}
			FRA_joseph_joffre = {
				promote_leader = yes
				set_nationality = NFA
			}
			FRA_ferdinand_foch = {
				set_nationality = NFA
			}
			FRA_philippe_petain = {
				set_nationality = NFA
			}
			FRA_maurice_janin = {
				set_nationality = NFA
			}
			FRA_robert_nivelle = {
				set_nationality = NFA
			}
			FRA_henri_vaugeois = {
				set_nationality = NFA
			}
			FRA_urbain_gohier = {
				set_nationality = NFA
			}
			FRA_marcel_bucard = {
				set_nationality = NFA
			}
			FRA_francois_de_la_rocque = {
				set_nationality = NFA
			}
			FRA_pierre_taittinger = {
				set_nationality = NFA
			}
			FRA_maurice_barres = {
				set_nationality = NFA
			}
			FRA_leon_daudet = {
				set_nationality = NFA
			}
			FRA_antoine_schwerer = {
				set_nationality = NFA
			}
			FRA_jacques_bainville= {
				set_nationality = NFA
			}
		}
		FRA_ferdinand_foch = {
			promote_character = yes
		}
		FRA_philippe_petain = {
			promote_character = yes
		}
		add_ideas = standing_alone	
	}
}



apply_focus_tree_effects = {
			## we know that the player is ahistorical and socialist-aligned
			## we gonna add a bonus socialist support based on his political support
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_completed_focus = FRA_ww1_memories_of_the_commune
					}
				}
				## player is in the earliest socialist focus part
				
				set_temp_variable = { var = SFIO_bonus_temp value = 100 }
				clamp_temp_variable = { var = SFIO_bonus_temp min = 0 max = conservatives }
				round_temp_variable = SFIO_bonus_temp
				add_to_variable = { var = SFIO value = SFIO_bonus_temp }		#bonus 
				subtract_from_variable = { var = conservatives value = SFIO_bonus_temp }	#malus for democrats
			}
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_completed_focus = FRA_ww1_mention_de_censure
					}
				}
				## socialist are in the governement
				set_temp_variable = { var = SFIO_bonus_temp value = 30 }
				clamp_temp_variable = { var = SFIO_bonus_temp min = 0 max = radical_party }
				round_temp_variable = SFIO_bonus_temp
				add_to_variable = { var = SFIO value = SFIO_bonus_temp }		#bonus 
				subtract_from_variable = { var = radical_party value = SFIO_bonus_temp }	#malus for democrats
			}
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_completed_focus = FRA_socialist_presidential_elections
					}
				}
				## in interwar, socialist are more confortable with WW1 victory
				set_temp_variable = { var = SFIO_bonus_temp value = 30 }
				clamp_temp_variable = { var = SFIO_bonus_temp min = 0 max = independent_radicals }
				round_temp_variable = SFIO_bonus_temp
				add_to_variable = { var = SFIO value = SFIO_bonus_temp }		#bonus 
				subtract_from_variable = { var = independent_radicals value = SFIO_bonus_temp }	#malus for democrats

				set_temp_variable = { var = SFIO_bonus_temp value = 20 }
				clamp_temp_variable = { var = SFIO_bonus_temp min = 0 max = republicain_federation }
				round_temp_variable = SFIO_bonus_temp
				add_to_variable = { var = SFIO value = SFIO_bonus_temp }		#bonus 
				subtract_from_variable = { var = republicain_federation value = SFIO_bonus_temp }	#malus for democrats
			}
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_completed_focus = FRA_ww1_socialist_mentality
						#NOT = { has_completed_focus = FRA_ww1_form_peasant_council }
					}
				}
				## BIG SFIO, but the parliament still fully democratic ruled
				add_to_variable = { var = SFIO value = independent_socialist }
				set_variable = { var = independent_socialist value = 0 } 
			}
			##########################
			# Player has completed proudhon circle
			###################
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_completed_focus = FRA_ww1_rally_the_piou_piou
						NOT = {
							has_completed_focus = FRA_ww1_rally_the_piou_piou
						}
						NOT = {
							has_government = communism
						}
					}
				}
				## only popular action
				add_to_variable = { var = popular_liberal_action value = 50 } #little bonus
				add_to_variable = { var = radical_party value = -50 } #striping from radical party
			}

			##########################
			# Player has completed either support Napoleon / Pujo or Valois
			###################
			if = {
				limit = {
					FRA = {
						is_puppet = no
						OR = { 
							has_completed_focus = FRA_ww1_rally_the_piou_piou
						}
						NOT = {
							has_completed_focus = FRA_ww1_rally_the_piou_piou
						}
						NOT = {
							has_government = communism
						}
					}
				}
				## only popular action
				add_to_variable = { var = popular_liberal_action value = 50 } #little bonus
				add_to_variable = { var = radical_party value = -50 } #striping from radical party
			}
			# #### fat right alliance
			# if = {
			# 	limit = {
			# 		FRA = {
			# 			is_puppet = no
			# 			has_completed_focus = FRA_ww1_prepare_the_next_elections
			# 			NOT = {
			# 				has_government = communism
			# 			}
			# 		}
			# 	}
			# 	## only popular action
			# 	add_to_variable = { var = popular_liberal_action value = 50 } #little bonus 
			# 	add_to_variable = { var = radical_party value = -50 } #striping from radical party
			# }
			#### player supported piou piou faction
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_completed_focus = FRA_ww1_rally_the_piou_piou
						NOT = {
							has_government = communism
						}
					}
				}
				add_to_variable = { var = republicain_federation value = 50 } #little bonus 
				add_to_variable = { var = radical_party value = -50 } #striping from radical party
			}
			##### player boost monarchy
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_country_flag = revitalized_monarchist_faction
						NOT = {
							has_government = communism
						}
					}
				}
				set_temp_variable = { var = radical_party_temp value = radical_party }
				divide_temp_variable = { var = radical_party_temp value = 2}
				clamp_temp_variable = { var = radical_party_temp min = 0 max = 25 }
				round_temp_variable = radical_party_temp
				add_to_variable = { var = popular_liberal_action value = radical_party_temp } #gain up to 25 socialist seats
				subtract_from_variable = { var = radical_party value = radical_party_temp }
			}
			##Player has removed support from independents radicals to republican federation
			
			if = {
				limit = {
					FRA = {
						is_puppet = no
						OR = {
							has_country_flag = FRA_weakened_independents_radicals
							has_completed_focus = FRA_ww1_daudet_takeover
						}
						NOT = {
							has_government = communism
						}
					}
				}
				set_temp_variable = { var = independent_radicals_temp value = independent_radicals }
				divide_temp_variable = { var = independent_radicals_temp value = 2}
				clamp_temp_variable = { var = independent_radicals_temp min = 0 max = 50 }
				round_temp_variable = independent_radicals_temp
				add_to_variable = { var = republicain_federation value = independent_radicals_temp } #gain up to 50 independents seats
				subtract_from_variable = { var = independent_radicals value = independent_radicals_temp }
			}
			##### player undermine socialism
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_country_flag = FRA_ww1_antagonize_sfio
						NOT = {
							has_government = communism
						}
					}
				}

				set_temp_variable = { var = SFIO_temp value = SFIO }
				divide_temp_variable = { var = SFIO_temp value = 2}
				clamp_temp_variable = { var = SFIO_temp min = 0 max = 25 }
				round_temp_variable = SFIO_temp
				add_to_variable = { var = independent_radicals value = SFIO_temp } #gain up to 25 socialist seats
				subtract_from_variable = { var = SFIO value = SFIO_temp }
			}
			##### player undermine socialism N°2
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_country_flag = FRA_second_security_act
						NOT = {
							has_government = communism
						}
					}
				}	
				#old SFIO members go to left radical party
				set_temp_variable = { var = SFIO_temp value = SFIO }
				divide_temp_variable = { var = SFIO_temp value = 2}
				round_temp_variable = SFIO_temp
				add_to_variable = { var = radical_party value = SFIO_temp }
				subtract_from_variable = { var = SFIO value = SFIO_temp }
				#same for independant socialists
				set_temp_variable = { var = independent_socialist_temp value = independent_socialist }
				divide_temp_variable = { var = independent_socialist_temp value = 2}
				round_temp_variable = independent_socialist_temp
				add_to_variable = { var = radical_party value = independent_socialist_temp }
				subtract_from_variable = { var = independent_socialist value = independent_socialist_temp }
			}

			##### cartel des droites
			if = {
				limit = {
					FRA = {
						is_puppet = no
						has_country_flag = FRA_cartel_des_droites
						NOT = {
							has_government = communism
						}
					}
				}
				add_to_variable = { var = republicain_federation value = conservatives }
				set_variable = { var = conservatives value = 0 }
			}

			#### player ban SFIO from conservative tree
			if = {
				limit = {
					FRA = {
						has_country_flag = FRA_socialism_banned_conservative_tree
						NOT = {
							has_government = communism
						}
					}
				}
				add_to_variable = {
					var = radical_party
					value = SFIO
				}
				set_variable = {
					var = SFIO
					value = 0
				}
	
				add_to_variable = {
					var = radical_party
					value = independent_socialist
				}
				set_variable = {
					var = independent_socialist
					value = 0
				}
			}
}

init_front_populaire = {
	
	clear_array = front_populaire_parties
	clear_array = front_populaire_loyalty
	clear_array = front_populaire_loyalty_litteral
	add_to_array = { front_populaire_parties = 0 } #hardline SFIO
	add_to_array = { front_populaire_parties = 1 } #soft SFIO
	add_to_array = { front_populaire_parties = 2 } #liberal socialists
	add_to_array = { front_populaire_parties = 3 } #radical socialists
	

	set_variable = {
		hardline_SFIO_loyalty = 40
	}
	set_variable = {
		moderate_SFIO_loyalty = 80
	}
	set_variable = {
		liberal_socialists_loyalty = 60
	}
	set_variable = {
		radical_party_loyalty = 60
	}

	set_variable = {
		front_populaire_loyalty^0 = hardline_SFIO_loyalty
	}
	set_variable = {
		front_populaire_loyalty_litteral^0 = hardline_SFIO_loyalty
	}
	multiply_variable = {
		front_populaire_loyalty^0 = 100
	}

	set_variable = {
		front_populaire_loyalty^1 = moderate_SFIO_loyalty
	}
	set_variable = {
		front_populaire_loyalty_litteral^1 = moderate_SFIO_loyalty
	}
	multiply_variable = {
		front_populaire_loyalty^1 = 100
	}

	set_variable = {
		front_populaire_loyalty^2 = liberal_socialists_loyalty
	}
	set_variable = {
		front_populaire_loyalty_litteral^2 = liberal_socialists_loyalty
	}
	multiply_variable = {
		front_populaire_loyalty^2 = 100
	}

	set_variable = {
		front_populaire_loyalty^3 = radical_party_loyalty
	}
	set_variable = {
		front_populaire_loyalty_litteral^3 = radical_party_loyalty
	}
	multiply_variable = {
		front_populaire_loyalty^3 = 100
	}
}

refresh_front_popular_progressbar = {
	set_variable = {
		front_populaire_loyalty^0 = hardline_SFIO_loyalty
	}
	multiply_variable = {
		front_populaire_loyalty^0 = 100
	}

	set_variable = {
		front_populaire_loyalty^1 = moderate_SFIO_loyalty
	}
	multiply_variable = {
		front_populaire_loyalty^1 = 100
	}

	set_variable = {
		front_populaire_loyalty^2 = liberal_socialists_loyalty
	}
	multiply_variable = {
		front_populaire_loyalty^2 = 100
	}

	set_variable = {
		front_populaire_loyalty^3 = radical_party_loyalty
	}
	multiply_variable = {
		front_populaire_loyalty^3 = 100
	}
	clamp_variable = { var = hardline_SFIO_loyalty min = 0 max = 100}
	clamp_variable = { var = moderate_SFIO_loyalty min = 0 max = 100}
	clamp_variable = { var = liberal_socialists_loyalty min = 0 max = 100}
	clamp_variable = { var = radical_party_loyalty min = 0 max = 100}
	set_variable = {
		front_populaire_loyalty_litteral^0 = hardline_SFIO_loyalty
	}
	set_variable = {
		front_populaire_loyalty_litteral^1 = moderate_SFIO_loyalty
	}
	set_variable = {
		front_populaire_loyalty_litteral^2 = liberal_socialists_loyalty
	}
	set_variable = {
		front_populaire_loyalty_litteral^3 = radical_party_loyalty
	}
}

setup_loser_tooltip = {
	set_temp_variable = {
		max_lose = front_populaire_loyalty_litteral^v
	}
	clamp_temp_variable = { var = loyalty_lose max = front_populaire_loyalty_litteral^v min = 0 }
	multiply_temp_variable = {
		loyalty_lose = -1
	}
	add_political_power = loyalty_lose
}

setup_winner_tooltip = {
	set_temp_variable = {
		temp_party = front_populaire_loyalty_litteral^v
	}
	multiply_temp_variable = {
		temp_party = -1
	}
	set_temp_variable = {
		max_win = 100
	}
	add_to_temp_variable = {
		max_win = temp_party
	}
	multiply_temp_variable = {
		max_win = 1
	}
	clamp_temp_variable = { var = loyalty_gain max = max_win min = 0 }
}

lower_loyalty_of_v = {
	add_to_variable = {
		var = parliament_loyalty^v value = -10
	}
	custom_effect_tooltip = lower_loyality_by_10
}
increase_loyalty_of_v = {
	add_to_variable = {
		var = parliament_loyalty^v value = 10
	}
	clamp_variable = {
		var = parliament_loyalty^v
		max = 100
		min = -100
	}
	custom_effect_tooltip = increase_loyality_by_10
}

increase_30_loyalty_of_v = {
	add_to_variable = {
		var = parliament_loyalty^v value = 30
	}
	clamp_variable = {
		var = parliament_loyalty^v
		max = 100
		min = -100
	}
	custom_effect_tooltip = increase_loyality_by_30
}

lower_30_loyalty_of_v = {
	add_to_variable = {
		var = parliament_loyalty^v value = -30
	}
	clamp_variable = {
		var = parliament_loyalty^v
		max = 100
		min = -100
	}
	custom_effect_tooltip = lower_loyality_by_30
}

far_left_hate_right_far_right_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		lower_loyalty_of_v = yes
		#yummy
		set_temp_variable = { v = 6 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		increase_loyalty_of_v = yes
	}
}

SFIO_hate_a_lot = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		lower_30_loyalty_of_v = yes
	}
}

far_left_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		increase_loyalty_of_v = yes
	}
}

far_right_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 9 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		increase_loyalty_of_v = yes
	}
}

far_left_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		lower_loyalty_of_v = yes
	}
}

far_right_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 9 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		lower_loyalty_of_v = yes
	}
}

far_left_left_center_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		increase_loyalty_of_v = yes
	}
}

liberals_and_independent_socialist_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 2 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		increase_loyalty_of_v = yes
	}
}

liberals_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		increase_loyalty_of_v = yes
	}
}

liberals_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_loyalty_of_v = yes
	}
}

liberals_hate_far_right_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		increase_loyalty_of_v = yes
	}
}

liberals_hate_a_lot = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_30_loyalty_of_v = yes
	}
}

liberals_and_right_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		increase_loyalty_of_v = yes
	}
}

liberals_and_right_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		lower_loyalty_of_v = yes
	}
}

left_liberals_and_right_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		increase_loyalty_of_v = yes
	}
}

left_hate_everyone_else_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		increase_loyalty_of_v = yes
	}
}

far_left_like_everyone_else_dislike = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		lower_30_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		lower_30_loyalty_of_v = yes
	}
}

far_left_like_everyone_else_hate_a_lot = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		lower_loyalty_of_v = yes
	}
}

everyone_dislike = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		lower_loyalty_of_v = yes
	}
}

left_like_right_and_far_right_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		lower_loyalty_of_v = yes
	}
}

far_left_left_center_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_loyalty_of_v = yes
	}
}

left_like_and_far_right_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		lower_loyalty_of_v = yes
	}
}

independent_radicals_love = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 5 }
		increase_30_loyalty_of_v = yes
	}
}

independent_radicals_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 5 }
		lower_30_loyalty_of_v = yes
	}
}

radical_party_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		increase_loyalty_of_v = yes
	}
}

radical_party_love = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		increase_30_loyalty_of_v = yes
	}
}

radical_party_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 3 }
		lower_30_loyalty_of_v = yes
	}
}

democratic_republican_alliance_like = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 4 }
		increase_loyalty_of_v = yes
	}
}

democratic_republican_alliance_love = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 4 }
		increase_30_loyalty_of_v = yes
	}
}

democratic_republican_alliance_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 4 }
		lower_30_loyalty_of_v = yes
	}
}

far_right_like_everyone_else_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 1 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 2 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 3 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 4 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 5 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 6 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		increase_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		increase_loyalty_of_v = yes
	}
}

far_right_right_hate = {
	if = {
		limit = {
			has_parliament_active = yes
		}
		custom_effect_tooltip = FRA_affect_loyalties
		set_temp_variable = { v = 6 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 7 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 8 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 9 }
		lower_loyalty_of_v = yes
		set_temp_variable = { v = 10 }
		lower_loyalty_of_v = yes
	}
}

FRA_init_socialist_loyalties = {
	clear_array = parliament_loyalty
	add_to_array = { parliament_loyalty = 0 } #array 0 buffer
	add_to_array = { parliament_loyalty = 100 } # SFIO is not loyal at all to radical party
	add_to_array = { parliament_loyalty = 80 } # Independent Socialists are not loyal but its okay
	add_to_array = { parliament_loyalty = 20 } # Republican, Radical and Radical-Socialist Party
	add_to_array = { parliament_loyalty = 20 } # Democratic Republican Alliance
	add_to_array = { parliament_loyalty = 10 } # Independent Radicals
	add_to_array = { parliament_loyalty = 0 } # Republican Federation
	add_to_array = { parliament_loyalty = 0 } # Conservatives
	add_to_array = { parliament_loyalty = 0 } # independents republicans
	add_to_array = { parliament_loyalty = 0 } # Popular Liberal Action
	add_to_array = { parliament_loyalty = 0 } # Nationalists
	add_to_array = { parliament_loyalty = 0 } # unused
}

FRA_init_historical_loyalties = {
	clear_array = parliament_loyalty
	add_to_array = { parliament_loyalty = 0 } #array 0 buffer
	add_to_array = { parliament_loyalty = 10 } # SFIO is not loyal at all to radical party
	add_to_array = { parliament_loyalty = 40 } # Independent Socialists are not loyal but its okay
	add_to_array = { parliament_loyalty = 70 } # Democratic Republican Alliance
	add_to_array = { parliament_loyalty = 100 } #  Republican, Radical and Radical-Socialist Party
	add_to_array = { parliament_loyalty = 80 } # Independent Radicals
	add_to_array = { parliament_loyalty = 30 } # Republican Federation
	add_to_array = { parliament_loyalty = 20 } # Conservatives
	add_to_array = { parliament_loyalty = 20 } # independents republicans
	add_to_array = { parliament_loyalty = 10 } # Popular Liberal Action
	add_to_array = { parliament_loyalty = 0 } # Nationalists
	add_to_array = { parliament_loyalty = 0 } # unused
}

FRA_init_conservative_loyalties = {
	clear_array = parliament_loyalty
	add_to_array = { parliament_loyalty = 0 } #array 0 buffer
	add_to_array = { parliament_loyalty = 0 } # SFIO is not loyal at all to radical party
	add_to_array = { parliament_loyalty = 0 } # Independent Socialists are not loyal but its okay
	add_to_array = { parliament_loyalty = 10 } # Democratic Republican Alliance
	add_to_array = { parliament_loyalty = 20 } #  Republican, Radical and Radical-Socialist Party
	add_to_array = { parliament_loyalty = 30 } # Independent Radicals
	add_to_array = { parliament_loyalty = 100 } # Republican Federation
	add_to_array = { parliament_loyalty = 100 } # Conservatives
	add_to_array = { parliament_loyalty = 80 } # independents republicans
	add_to_array = { parliament_loyalty = 80 } # Popular Liberal Action
	add_to_array = { parliament_loyalty = 70 } # Nationalists
	add_to_array = { parliament_loyalty = 0 } # unused
}

FRA_everyone_hate_me = {
	clear_array = parliament_loyalty
	add_to_array = { parliament_loyalty = 0 } #array 0 buffer
	add_to_array = { parliament_loyalty = 0 } # SFIO is not loyal at all to radical party
	add_to_array = { parliament_loyalty = 0 } # Independent Socialists are not loyal but its okay
	add_to_array = { parliament_loyalty = 0 } # Democratic Republican Alliance
	add_to_array = { parliament_loyalty = 0 } #  Republican, Radical and Radical-Socialist Party
	add_to_array = { parliament_loyalty = 0 } # Independent Radicals
	add_to_array = { parliament_loyalty = 0 } # Republican Federation
	add_to_array = { parliament_loyalty = 0 } # Conservatives
	add_to_array = { parliament_loyalty = 0 } # independents republicans
	add_to_array = { parliament_loyalty = 0 } # Popular Liberal Action
	add_to_array = { parliament_loyalty = 0 } # Nationalists
	add_to_array = { parliament_loyalty = 0 } # unused
}

FRA_spawn_renault_tanks = {
	effect_tooltip = {
		activate_decision = FRA_fufill_renault_contract
	}
	if = {
		limit  ={
			has_dlc = "No Step Back"
			has_tech = basic_light_tank_chassis
			NOT = {
				has_tech = improved_light_tank_chassis
			}
		}
		create_equipment_variant = {
			name = "Renault FT (mitrailleuses)" 
			type = light_tank_chassis_0
			parent_version = 0
			modules = {
				main_armament_slot = tank_heavy_machine_gun
				turret_type_slot = tank_light_one_man_tank_turret
				suspension_type_slot = tank_bogie_suspension
				armor_type_slot = tank_riveted_armor
				engine_type_slot = tank_gasoline_engine
			}
			upgrades = {
				tank_nsb_engine_upgrade = 3
				tank_nsb_armor_upgrade = 3
			}
			icon = "gfx/interface/technologies/FRA/FRA_ww1_light_tank_1.png"
		}
	}
	if = {
		limit  ={
			has_dlc = "No Step Back"
			has_tech = improved_light_tank_chassis
			NOT = {
				has_tech = advanced_light_tank_chassis
			}
		}
		create_equipment_variant = {
			name = "Renault NC Modèle 1918" 
			type = light_tank_chassis_1
			parent_version = 0
			modules = {
				main_armament_slot = tank_close_support_gun
				turret_type_slot = tank_light_one_man_tank_turret
				suspension_type_slot = tank_bogie_suspension
				armor_type_slot = tank_riveted_armor
				engine_type_slot = tank_gasoline_engine
			}
			upgrades = {
				tank_nsb_engine_upgrade = 3
				tank_nsb_armor_upgrade = 3
			}
			icon = "gfx/interface/technologies/FRA/FRA_ww1_light_tank_2.png"
		}
	} 
	if = {
		limit  ={
			has_dlc = "No Step Back"
			has_tech = advanced_light_tank_chassis
		}
		create_equipment_variant = {
			name = "Renault NC Modèle 1920" 
			type = light_tank_chassis_2
			parent_version = 0
			modules = {
				main_armament_slot = tank_close_support_gun
				turret_type_slot = tank_light_one_man_tank_turret
				suspension_type_slot = tank_bogie_suspension
				armor_type_slot = tank_riveted_armor
				engine_type_slot = tank_gasoline_engine
			}
			upgrades = {
				tank_nsb_engine_upgrade = 3
				tank_nsb_armor_upgrade = 3
			}
			icon = "gfx/interface/technologies/FRA/FRA_ww1_light_tank_3.png"
		}
	}
	division_template = {
		name = "Brigade de cavalerie blindée"
		regiments = {
			light_armor = {
				x = 0
				y = 0
			}
			light_armor = {
				x = 0
				y = 1
			}
			light_armor = {
				x = 0
				y = 2
			}
			light_armor = {
				x = 0
				y = 3
			}
			cavalry = {
				x = 1
				y = 0
			}
			cavalry = {
				x = 1
				y = 1
			}
		}
	}
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			is_on_continent = europe
		}
		create_unit = {
			division = "name = \"1ère brigade de chars légers\" division_template = \"Brigade de cavalerie blindée\" start_equipment_factor = 0.6"
			owner = ROOT
		}
		create_unit = {
			division = "name = \"2ème brigade de chars légers\" division_template = \"Brigade de cavalerie blindée\" start_equipment_factor = 0.6"
			owner = ROOT
		}
	}
}

FRA_spawn_peugeot_tanks = {
	if = {
		limit  ={
			has_dlc = "No Step Back"
			has_tech = basic_light_tank_chassis
			NOT = {
				has_tech = improved_light_tank_chassis
			}
		}
		create_equipment_variant = {
			name = "Char Peugeot" 
			type = light_tank_artillery_chassis_0
			modules = {
				main_armament_slot = tank_close_support_gun
				turret_type_slot = tank_light_fixed_superstructure_turret
				suspension_type_slot = tank_torsion_bar_suspension
				armor_type_slot = tank_welded_armor
				engine_type_slot = tank_gasoline_engine
				special_type_slot_1 = additional_machine_guns
			}
			upgrades = {
				tank_nsb_engine_upgrade = 3
				tank_nsb_armor_upgrade = 3
			}
		}
	}
	if = {
		limit  ={
			has_dlc = "No Step Back"
			has_tech = improved_light_tank_chassis
			NOT = {
				has_tech = advanced_light_tank_chassis
			}
		}
		create_equipment_variant = {
			name = "Char Peugeot" 
			type = light_tank_artillery_chassis_1
			modules = {
				main_armament_slot = tank_close_support_gun
				turret_type_slot = tank_light_fixed_superstructure_turret
				suspension_type_slot = tank_torsion_bar_suspension
				armor_type_slot = tank_welded_armor
				engine_type_slot = tank_gasoline_engine
				special_type_slot_1 = additional_machine_guns
			}
			upgrades = {
				tank_nsb_engine_upgrade = 3
				tank_nsb_armor_upgrade = 3
			}
		}
	} 
	if = {
		limit  ={
			has_dlc = "No Step Back"
			has_tech = advanced_light_tank_chassis
		}
		create_equipment_variant = {
			name = "Char Peugeot" 
			type = light_tank_artillery_chassis_2
			modules = {
				main_armament_slot = tank_close_support_gun
				turret_type_slot = tank_light_fixed_superstructure_turret
				suspension_type_slot = tank_torsion_bar_suspension
				armor_type_slot = tank_welded_armor
				engine_type_slot = tank_gasoline_engine
				special_type_slot_1 = additional_machine_guns
			}
			upgrades = {
				tank_nsb_engine_upgrade = 3
				tank_nsb_armor_upgrade = 3
			}
		}
	}
	division_template = {
		name = "Brigade de cavalerie blindée"
		regiments = {
			light_sp_artillery_brigade = {
				x = 0
				y = 0
			}
			light_sp_artillery_brigade = {
				x = 0
				y = 1
			}
			light_sp_artillery_brigade = {
				x = 0
				y = 2
			}
			light_sp_artillery_brigade = {
				x = 0
				y = 3
			}
			cavalry = {
				x = 1
				y = 0
			}
			cavalry = {
				x = 1
				y = 1
			}
		}
	}
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			is_on_continent = europe
		}
		create_unit = {
			division = "name = \"1ère brigade de chars légers\" division_template = \"Brigade de cavalerie blindée\" start_equipment_factor = 0.6"
			owner = ROOT
		}
		create_unit = {
			division = "name = \"2ème brigade de chars légers\" division_template = \"Brigade de cavalerie blindée\" start_equipment_factor = 0.6"
			owner = ROOT
		}
	}
}

FRA_french_surrender_effect = {
	hidden_effect = {
		set_country_flag = {
			flag = tgwr_no_unit_limits
			days = 365
			value = 1
		}
		FRA = {
			relinguish_entente_leadership = yes
			leave_faction = yes
		}
		hidden_effect = {
			every_country = {
				limit = {
					OR = {
						is_subject_of = FRA
						original_tag = FRA
					}
				}
				set_country_flag = FRA_surrender_alone
				set_global_flag = FRA_surrender_alone
				set_country_flag = { flag = has_capitulated_with_france_early days = 180 value = 1 }
				leave_faction = yes
				add_ideas = standing_alone
				add_ideas = disarmed_nation
				add_ideas = interwar_recovery
				add_ideas = idea_armistice
			}
		}
		every_country = {
			limit = {
				has_war_with = FRA
			}
			every_country = {
				limit = {
					OR = {
						tag = FRA
						is_subject_of = FRA
					}
				}
				white_peace = PREV
				set_truce = {
					target = PREV
					days = 365
				}
				every_state = {
					limit = {
						NOT = {
							is_owned_by = PREV
						}
					}
					teleport_armies = {
						limit = {
							tag = PREV
						}
					}
				}
			}
			every_state = {
				limit = {
					is_owned_by = FRA
					is_on_continent = europe
				}
				teleport_armies = {
					limit = {
						tag = PREV
					}
				}
			}
		}
		if = {
			limit = {
				has_active_mission = GER_mission_food_shortages_timer
			}
			add_days_mission_timeout = {
				mission = GER_mission_food_shortages_timer
				days = 200
			}
		}
		else_if = {
			limit = {
				has_active_mission = GER_mission_famine_timer
			}
			add_days_mission_timeout = {
				mission = GER_mission_famine_timer
				days = 150
			}
		}
		every_country = {
			diplomatic_relation = {
				country = FRA
				relation = guarantee
				active = no
			}
			diplomatic_relation = {
				country = FRA
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = FRA
				relation = docking_rights
				active = no
			}
			FRA = {
				diplomatic_relation = {
					country = PREV
					relation = guarantee
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = GER
					is_subject_of = GER
					original_tag = GER
				}
				NOT = {
					has_country_flag = has_capitulated_with_france_early
					has_war_with = GER
				}
			}
			remove_wargoal = {
				target = FRA
				type = all
			}
			every_state = {
				limit = {
					OWNER = {
						has_country_flag = has_capitulated_with_france_early
					}
					NOT = {
						OWNER = {
							is_in_faction_with = GER
							is_subject_of = GER
							has_war_together_with = GER
						}
						is_on_continent = europe
					}
					OR = {
						is_claimed_by = PREV
						is_core_of = PREV
					}
				}
				transfer_state_to = PREV
			}
			every_state = {
				limit = {
					OWNER = {
						has_country_flag = has_capitulated_with_france_early
					}
					is_core_of = FRA
					NOT = {
						is_claimed_by = PREV
						is_core_of = PREV
					}
				}
				transfer_state_to = FRA	## restitution of occupation zones in France
			}
			FRA = {
				give_military_access = PREV
				set_truce = {
					target = PREV
					days = 365
				}
				every_owned_state = {
					limit = {
						is_demilitarized_zone = no
						is_on_continent = europe
						any_neighbor_state = {
							OR = {
								is_owned_by = GER
								owner = { is_subject_of = GER }
								BEL = {
									owns_state = PREV
									has_war_with = GER
								}
							}
						}
					}
					set_demilitarized_zone = yes
				}
			}
		}
		GER = {
			country_event = {
				id = ww1_germany.174
				days = 10
			}
		}
	}
	#custom_effect_tooltip = ww1_france.306.tt
	effect_tooltip = {
		every_state = {
			limit = {
				OWNER = {
					OR = {
						tag = FRA
						is_subject_of = FRA
					}
				}
				OR = {
					is_claimed_by = GER
					is_core_of = GER
				}
			}
			transfer_state_to = GER
		}
	}
	FRA = {
		country_event = {
			id = ww1_france.307
			days = 3
		}
	}
}

FRC_setup_moderate_five_year_plan = {
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			is_on_continent = europe
			NOT = {
				has_state_flag = FRC_five_year_plan_target
				has_state_flag = FRC_five_year_plan_target2
				has_state_flag = FRC_five_year_plan_target3
			}
			free_building_slots = {
				building = industrial_complex
				size > 2
				include_locked = no
			}
		}
		set_variable = { ROOT.FRC_five_year_plan_target_variable = THIS }
		set_variable = { civilian_goal = 2 }
		set_variable = { civilian_total_after_goal = civilian_goal }
		add_to_variable = { civilian_total_after_goal = industrial_complex_level }
		set_state_flag = FRC_five_year_plan_target
		add_dynamic_modifier = {
			modifier = FRA_french_local_investments_non_UEII
			days = 1800
		}
	}
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			is_on_continent = europe
			NOT = {
				has_state_flag = FRC_five_year_plan_target
				has_state_flag = FRC_five_year_plan_target2
				has_state_flag = FRC_five_year_plan_target3
			}
			free_building_slots = {
				building = industrial_complex
				size > 2
				include_locked = no
			}
		}
		set_variable = { ROOT.FRC_five_year_plan_target_variable2 = THIS }
		set_variable = { civilian_goal = 2 }
		set_variable = { civilian_total_after_goal = civilian_goal }
		add_to_variable = { civilian_total_after_goal = industrial_complex_level }
		set_state_flag = FRC_five_year_plan_target
		add_dynamic_modifier = {
			modifier = FRA_french_local_investments_non_UEII
			days = 1800
		}
	}
	random_owned_controlled_state = {
		limit = {
			is_core_of = ROOT
			is_on_continent = europe
			NOT = {
				has_state_flag = FRC_five_year_plan_target
				has_state_flag = FRC_five_year_plan_target2
				has_state_flag = FRC_five_year_plan_target3
			}
			free_building_slots = {
				building = industrial_complex
				size > 2
				include_locked = no
			}
		}
		set_variable = { ROOT.FRC_five_year_plan_target_variable3 = THIS }
		set_variable = { civilian_goal = 2 }
		set_variable = { civilian_total_after_goal = civilian_goal }
		add_to_variable = { civilian_total_after_goal = industrial_complex_level }
		set_state_flag = FRC_five_year_plan_target
		add_dynamic_modifier = {
			modifier = FRA_french_local_investments_non_UEII
			days = 1800
		}
	}
}

FRC_adopt_swiss_militias = {
	if = {
		limit = {
			has_idea = FRC_bandit_warfare
		}
		swap_ideas = {
			add_idea = FRA_garde_populaire_nationale
			remove_idea = FRC_bandit_warfare
		}
	}
	if = {
		limit = {
			has_idea = FRC_bandit_warfare_bad
		}
		swap_ideas = {
			add_idea = FRA_garde_populaire_nationale
			remove_idea = FRC_bandit_warfare_bad
		}
	}
	if = {
		limit = {
			has_idea = FRC_centralized_command
		}
		swap_ideas = {
			add_idea = FRA_garde_populaire_nationale
			remove_idea = FRC_centralized_command
		}
	}
	if = {
		limit = {
			has_idea = FRC_centralized_command_bad
		}
		swap_ideas = {
			add_idea = FRA_garde_populaire_nationale
			remove_idea = FRC_centralized_command_bad
		}
	}
	if = {
		limit = {
			NOT = {
				has_idea = FRC_bandit_warfare
				has_idea = FRC_bandit_warfare_bad
				has_idea = FRC_centralized_command
				has_idea = FRC_centralized_command_bad
				has_idea = FRA_garde_populaire_nationale
			}
		}
		add_ideas = FRA_garde_populaire_nationale
	}
}