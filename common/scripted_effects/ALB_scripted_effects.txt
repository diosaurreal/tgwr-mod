other_organize_rebellion_mission = {
	if = {
		limit = { state = 847 }
		controller = { activate_mission = other_organize_rebellion_847 }
	}
	if = {
		limit = { state = 848 }
		controller = { activate_mission = other_organize_rebellion_848 }
	}
	if = {
		limit = { state = 870 }
		controller = { activate_mission = other_organize_rebellion_870 }
	}
	if = {
		limit = { state = 1214 }
		controller = { activate_mission = other_organize_rebellion_1214 }
	}
	if = {
		limit = { state = 44 }
		controller = { activate_mission = other_organize_rebellion_44 }
	}
	if = {
		limit = { state = 1215 }
		controller = { activate_mission = other_organize_rebellion_1215 }
	}
	if = {
		limit = { state = 106 }
		controller = { activate_mission = other_organize_rebellion_106 }
	}
	if = {
		limit = { state = 1213 }
		controller = { activate_mission = other_organize_rebellion_1213 }
	}
	if = {
		limit = { state = 203 }
		controller = { activate_mission = other_organize_rebellion_203 }
	}
	if = {
		limit = { state = 871 }
		controller = { activate_mission = other_organize_rebellion_871 }
	}
	if = {
		limit = { state = 803 }
		controller = { activate_mission = other_organize_rebellion_803 }
	}
	if = {
		limit = { state = 1225 }
		controller = { activate_mission = other_organize_rebellion_1225 }
	}
	if = {
		limit = { state = 758 }
		controller = { activate_mission = other_organize_rebellion_758 }
	}
}
other_organize_rebellion_effect = {
	effect_tooltip = {
		var:global.albanian_resistance_state = {
			add_resistance = 25
			add_compliance = -2
		}
		custom_effect_tooltip = ALB_albanian_independence_movement_tt
		if = {
			limit = {
				var:global.albanian_resistance_state = {
					controller = {
						intel_level_over = { 
							target = ALB
							civilian_intel > 0.3
						}
					}
				}
			}
			if = {
				limit = { ROOT = { divisions_in_state = { state = var:global.albanian_resistance_state size > 3 } } }
				var:global.albanian_resistance_state = {
					add_resistance = 5
					add_compliance = -10
				}
			}
			else_if = {
				limit = { ROOT = { divisions_in_state = { state = var:global.albanian_resistance_state size > 2 } } }
				var:global.albanian_resistance_state = {
					add_resistance = 10
					add_compliance = -8
				}
			}
			else_if = {
				limit = { ROOT = { divisions_in_state = { state = var:global.albanian_resistance_state size > 1 } } }
				var:global.albanian_resistance_state = {
					add_resistance = 15
					add_compliance = -6
				}
			}
			else_if = {
				limit = { ROOT = { divisions_in_state = { state = var:global.albanian_resistance_state size > 0 } } }
				var:global.albanian_resistance_state = {
					add_resistance = 20
					add_compliance = -4
				}
			}
			else_if = {
				limit = { ROOT = { divisions_in_state = { state = var:global.albanian_resistance_state size < 1 } } }
				var:global.albanian_resistance_state = {
					add_resistance = 25
					add_compliance = -2
				}
			}
		}
		else = { custom_effect_tooltip = other_albanian_independence_movement_tt }
	}
}

ALB_post_independence_cosmetic_effect = {
	if = {
		limit = { has_cosmetic_tag = ALB_boletini_flag }
		set_cosmetic_tag = ALB_boletini_flag_independent
		set_country_flag = ALB_boletini_independence
	}
	else_if = {
		limit = { has_cosmetic_tag = ALB_kimza_flag }
		set_cosmetic_tag = ALB_kimza_flag_independent
		set_country_flag = ALB_kimza_independence
	}
	else_if = {
		limit = { has_cosmetic_tag = ALB_toptani_flag }
		set_cosmetic_tag = ALB_toptani_flag_independent
		set_country_flag = ALB_toptani_independence
	}
	else = {
		set_cosmetic_tag = ALB_vlora_flag_independent
		set_country_flag = ALB_vlora_independence
	}
	mark_focus_tree_layout_dirty = yes
}

ALB_congress_of_trieste_effect = {
	if = {
		limit = {
			check_variable = { global.vilhelm_i_vote > global.fuad_i_muhammad_ali_vote }
			check_variable = { global.vilhelm_i_vote > global.vittorio_emanuele_vote }
			check_variable = { global.vilhelm_i_vote > global.wilhelm_karl_vote }
		}
		country_event = albania.45
	}
	if = {
		limit = {
			check_variable = { global.wilhelm_karl_vote > global.vilhelm_i_vote }
			check_variable = { global.wilhelm_karl_vote > global.fuad_i_muhammad_ali_vote }
			check_variable = { global.wilhelm_karl_vote > global.vittorio_emanuele_vote }
		}
		country_event = albania.46
	}
	if = {
		limit = {
			check_variable = { global.vittorio_emanuele_vote > global.vilhelm_i_vote }
			check_variable = { global.vittorio_emanuele_vote > global.fuad_i_muhammad_ali_vote }
			check_variable = { global.vittorio_emanuele_vote > global.wilhelm_karl_vote }
		}
		country_event = albania.47
	}
	if = {
		limit = {
			check_variable = { global.fuad_i_muhammad_ali_vote > global.vilhelm_i_vote }
			check_variable = { global.fuad_i_muhammad_ali_vote > global.vittorio_emanuele_vote }
			check_variable = { global.fuad_i_muhammad_ali_vote > global.wilhelm_karl_vote }
		}
		country_event = albania.48
	}
	else = { country_event = albania.49 }
}

ALB_reduce_internal_opposition = {
	if = {
		limit = { has_idea = ALB_internal_opposition }
		swap_ideas = {
			remove_idea = ALB_internal_opposition
			add_idea = ALB_internal_opposition_2
		}
	}
	else_if = {
		limit = { has_idea = ALB_internal_opposition_2 }
		swap_ideas = {
			remove_idea = ALB_internal_opposition_2
			add_idea = ALB_internal_opposition_3
		}
	}
	else_if = {
		limit = { has_idea = ALB_internal_opposition_3 }
		swap_ideas = {
			remove_idea = ALB_internal_opposition_3
			add_idea = ALB_internal_opposition_4
		}
	}
	else_if = {
		limit = { has_idea = ALB_internal_opposition_4 }
		swap_ideas = {
			remove_idea = ALB_internal_opposition_4
			add_idea = ALB_internal_opposition_5
		}
	}
	else_if = {
		limit = { has_idea = ALB_internal_opposition_5 }
		swap_ideas = {
			remove_idea = ALB_internal_opposition_5
			add_idea = ALB_internal_opposition_6
		}
	}
	else_if = {
		limit = { has_idea = ALB_internal_opposition_6 }
		remove_ideas = ALB_internal_opposition_6
	}
}

ALB_improve_national_bank = {
	if = {
		limit = { check_variable = { ALB_national_bank_value = 1 } }
		effect_tooltip = {
			swap_ideas = {
				remove_idea = ALB_banka_kombetare_e_shqipnis
				add_idea = ALB_banka_kombetare_e_shqipnis_2
			}
		}
		hidden_effect = {
			if = {
				limit = { has_idea = ALB_banka_kombetare_e_shqipnis }
				swap_ideas = {
					remove_idea = ALB_banka_kombetare_e_shqipnis
					add_idea = ALB_banka_kombetare_e_shqipnis_2
				}
			}
		}
		add_to_variable = { ALB_national_bank_value = 1 }
	}
	else_if = {
		limit = { check_variable = { ALB_national_bank_value = 2 } }
		effect_tooltip = {
			swap_ideas = {
				remove_idea = ALB_banka_kombetare_e_shqipnis
				add_idea = ALB_banka_kombetare_e_shqipnis_2
			}
		}
		hidden_effect = {
			if = {
				limit = { has_idea = ALB_banka_kombetare_e_shqipnis_2 }
				swap_ideas = {
					remove_idea = ALB_banka_kombetare_e_shqipnis_2
					add_idea = ALB_banka_kombetare_e_shqipnis_3
				}
			}
		}
		add_to_variable = { ALB_national_bank_value = 1 }
	}
	else_if = {
		limit = { check_variable = { ALB_national_bank_value = 3 } }
		effect_tooltip = {
			swap_ideas = {
				remove_idea = ALB_banka_kombetare_e_shqipnis
				add_idea = ALB_banka_kombetare_e_shqipnis_2
			}
		}
		hidden_effect = {
			if = {
				limit = { has_idea = ALB_banka_kombetare_e_shqipnis_3 }
				swap_ideas = {
					remove_idea = ALB_banka_kombetare_e_shqipnis_3
					add_idea = ALB_banka_kombetare_e_shqipnis_4
				}
			}
		}
		add_to_variable = { ALB_national_bank_value = 1 }
	}
	else = {
		effect_tooltip = {
			swap_ideas = {
				remove_idea = ALB_banka_kombetare_e_shqipnis
				add_idea = ALB_banka_kombetare_e_shqipnis_2
			}
		}
	}
}

ALB_reduce_customs_duty_effectiveness_3 = {
	if = {
		limit = { has_dynamic_modifier = { modifier = ALB_progressive_customs_duty } }
		custom_effect_tooltip = modify_ALB_progressive_customs_duty_tt
		add_to_variable = {
			tooltip = consumer_goods_factor_3
			ALB_pcd_consumer_goods_factor = 0.03
		}
		clamp_variable = {
			var = ALB_pcd_consumer_goods_factor
			max = 0
		}
		if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = 0 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_0
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.01 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_1
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.02 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_2
			custom_effect_tooltip = empty_space
		}
		custom_effect_tooltip = empty_space
	}
}

ALB_reduce_customs_duty_effectiveness_10 = {
	if = {
		limit = { has_dynamic_modifier = { modifier = ALB_progressive_customs_duty } }
		custom_effect_tooltip = modify_ALB_progressive_customs_duty_tt
		add_to_variable = {
			tooltip = consumer_goods_factor_10
			ALB_pcd_consumer_goods_factor = 0.1
		}
		clamp_variable = {
			var = ALB_pcd_consumer_goods_factor
			max = 0
		}
		if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = 0 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_0
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.01 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_1
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.02 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_2
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.03 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_3
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.04 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_4
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.05 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_5
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.06 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_6
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.07 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_7
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.08 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_8
			custom_effect_tooltip = empty_space
		}
		else_if = {
			limit = { check_variable = { ALB_pcd_consumer_goods_factor = -0.09 } }
			custom_effect_tooltip = modify_ALB_progressive_customs_duty_correct_tt
			custom_effect_tooltip = consumer_goods_factor_9
			custom_effect_tooltip = empty_space
		}
		custom_effect_tooltip = empty_space
	}
}

ALB_tax_on_foreign_troops_effect = {
	if = {
		limit = {
			has_dynamic_modifier = { modifier = ALB_tax_on_foreign_troops }
			any_owned_state = {
				any_other_country = {
					OR = {
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
					divisions_in_state = {
						size > 0
						state = PREV
					}
				}
			}
		}
		set_variable = { ALB_tft_consumer_goods_factor = 0 }
		every_other_country = {
			limit = {
				OR = {
					is_in_faction_with = ROOT
					has_war_together_with = ROOT
				}
				any_state = {
					is_owned_by = PREV.PREV
					PREV = {
						divisions_in_state = {
							size > 0
							state = PREV
						}
					}
				}
			}
			PREV = {
				set_variable = { ALB_tft_consumer_goods_factor = -0.05 }
				add_stability = 0.05
			}
		}
	}
	else = { set_variable = { ALB_tft_consumer_goods_factor = 0 } }
}

ALB_generic_improve_illiterate_society = {
	custom_effect_tooltip = modify_ALB_illiterate_society_tt
	add_to_variable = {
		tooltip = research_speed_factor_1
		ALB_is_research_speed = 0.01
	}
}

ALB_puppet_promote_local_leader = {
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 847 } }
		add_country_leader_role = {
			character = ALB_azem_galica
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 848 } }
		add_country_leader_role = {
			character = ALB_rexhep_mitrovica
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 870 } }
		add_country_leader_role = {
			character = ALB_luigj_gurakuqi
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 106 } }
		add_country_leader_role = {
			character = ALB_nexhip_draga
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 1213 } }
		add_country_leader_role = {
			character = ALB_sherif_langu
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 203 } }
		add_country_leader_role = {
			character = ALB_irfan_ohri
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 1214 } }
		add_country_leader_role = {
			character = ALB_gjergj_fishta
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 1215 } }
		add_country_leader_role = {
			character = ALB_aqif_bicaku
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 871 } }
		add_country_leader_role = {
			character = ALB_ismail_qemali
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 803 } }
		add_country_leader_role = {
			character = ALB_turhan_permeti
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 1225 } }
		add_country_leader_role = {
			character = ALB_themistokli_germenji
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
	if = {
		limit = { check_variable = { albanian_capital_for_protectorate = 758 } }
		add_country_leader_role = {
			character = ALB_faik_konica
			promote_leader = yes
			country_leader = { ideology = civilian_dictatorship }
		}
	}
}