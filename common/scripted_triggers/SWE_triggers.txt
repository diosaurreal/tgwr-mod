SWE_isnt_socialist = {
	NOT = {
		has_government = communism
		has_country_leader_ideology = social_democracy
	}
	FROM = {
		NOT = {
			has_government = communism
			has_country_leader_ideology = social_democracy
		}
	}
}

SWE_agrarian_party_split = {
	date > 1913.1.1
	OR = {
		has_country_flag = SWE_suffrage_flag
		NOT = {
			has_idea = SWE_unofficial_parliamentalism
			has_idea = SWE_restricted_parliamentalism
		}
	}
}

# General Ones for Different type of Reforms
SWE_has_majority_for_reform_agrarian = {
	# Pretty easy to pass
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = FRI_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = conservative_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = conservative_a_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = agrarian_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = agrarian_a_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = FRI_a
	}
	
	if = {
		limit = {
			NOT = {
				has_government = fascism
				has_government = neutrality
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = socialist_f_riksdag
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = socialist_a_riksdag
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}
SWE_has_majority_for_reform_conservative = {
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = AV_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = H_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = NAP_f
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = NP_a
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = LAN_a
	}
	
	# For now
	if = {
		limit = {
			has_country_leader_ideology = conservatism
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = C_a
		}
	}
	
	if = {
		limit = {
			NOT = {
				has_idea = SWE_unpopular_riksdag
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = AV_a
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}
SWE_has_majority_for_reform_reactionary = {
	# Not really reactionary - just internal name to define it as "moderates won't support it to same extent"
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = AV_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = H_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = NAP_f
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = NP_a
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = LAN_a
	}
	
	if = {
		limit = {
			NOT = {
				has_idea = SWE_unpopular_riksdag
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = AV_a
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}
SWE_has_majority_for_reform_anti_socialist = {
	# Pretty easy to pass
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = AV_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = H_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = NAP_f
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = AV_a
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = NP_a
	}
	
	# Agrarian who are more anti-socialist will take chance while socialist is weaker
	if = {
		limit = {
			NOT = {
				check_variable = {
					var = socialist_f_riksdag
					value = 30
				}
				check_variable = {
					var = socialist_a_riksdag
					value = 50
				}
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = LAN_a
		}
		if = {	# Agrarian who will go along if there are even fewer
			limit = {
				NOT = {
					check_variable = {
						var = socialist_f_riksdag
						value = 20
					}
					check_variable = {
						var = socialist_a_riksdag
						value = 35
					}
				}
			}
			add_to_temp_variable = {
				var = support_for_reform_a
				value = C_a
			}
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}
SWE_has_majority_for_reform_socialist = {
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = socialist_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = socialist_a_riksdag
	}
	
	
	if = {
		limit = {
			check_variable = {
				var = LIB_a
				value = 1
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = LIB_a
		}
	}
	#else = {
	#	add_to_temp_variable = {
	#		var = support_for_reform_a
	#		value = FRI_a
	#	}
	#}
	
	if = {
		limit = {
			SWE_agrarian_party_split = yes
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = C_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = C_a
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}
SWE_has_majority_for_reform_social_liberal = {
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = liberal_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = socialist_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = socialist_a_riksdag
	}
	
	if = {
		limit = {
			check_variable = {
				var = LIB_a
				value = 1
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = LIB_a
		}
	}
	else = {
		add_to_temp_variable = {
			var = support_for_reform_a
			value = liberal_a_riksdag
		}
	}
	if = {
		limit = {
			OR = {
				has_country_flag = SWE_suffrage_flag
				has_country_leader_ideology = social_democracy
				has_country_leader_ideology = social_liberalism
				has_government = communism	# For now
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = C_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = LAN_a
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = C_a
		}
	}
	if = {
		# Socialist Pressure makes moderates a bit more willing for social-liberal reforms
		limit = {
			OR = {
				check_variable = {
					var = support_for_reform_f
					value = 50
				}
				check_variable = {
					var = support_for_reform_a
					value = 80
				}
			}
			OR = {
				check_variable = {
					var = socialist_f_riksdag
					value = 30
				}
				check_variable = {
					var = socialist_a_riksdag
					value = 50
				}
				AND = {
					communism > 0.2
					has_stability < 0.55
				}
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = AV_f
		}
		#add_to_temp_variable = {
		#	var = support_for_reform_a
		#	value = AV_a
		#}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}
SWE_has_majority_for_reform_radical = {
	# Social liberal reforms and such that won't be supported by the right
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = liberal_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = socialist_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = socialist_a_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = liberal_a_riksdag
	}
	
	if = {
		limit = {
			OR = {
				has_country_flag = SWE_suffrage_flag
				has_idea = SWE_parliamentalism
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = C_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = LAN_a
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = C_a
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}
SWE_has_majority_for_reform_liberalism = {
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = liberal_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = liberal_a_riksdag
	}
	
	if = {
		limit = {
			OR = {
				has_country_flag = SWE_suffrage_flag
				#has_country_leader_ideology = social_democracy
				#has_country_leader_ideology = social_liberalism
				has_government = communism
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = AV_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = AV_a
		}
	}
	# Not strong socialist but big enough liberal (maybe remove?)
	if = {
		limit = {
			OR = {
				check_variable = {
					var = liberal_f_riksdag
					value = 38
				}
				check_variable = {
					var = liberal_a_riksdag
					value = 58
				}
			}
			NOT = {
				check_variable = {
					var = socialist_f_riksdag
					value = 35
				}
				check_variable = {
					var = socialist_a_riksdag
					value = 50
				}
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = SAP_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = SAP_a
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}
SWE_has_majority_for_reform_republic = {
	# Only republic
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = V_f
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = SSV_a
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = SKP_a
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = V_a
	}
	
	set_temp_variable = {
		var = temp_support_val
		value = 0
	}
	
	if = {
		limit = {
			OR = {
				has_idea = SWE_socialist_radicalisation_max
				AND = {
					has_idea = SWE_socialist_radicalisation_high
					has_stability < 0.6
				}
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = SAP_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = SAP_a
		}
	}
	else_if = {
		limit = {
			OR = {
				has_idea = SWE_socialist_radicalisation_high
				AND = {
					has_idea = SWE_socialist_radicalisation_average
					has_stability < 0.55
				}
			}
		}
		add_to_temp_variable = {
			var = temp_support_val
			value = SAP_f
		}
		multiply_temp_variable = {
			var = temp_support_val
			value = 0.7
		}
		round_variable = temp_support_val
		add_to_temp_variable = {
			var = support_for_reform_f
			value = temp_support_val
		}
		set_temp_variable = {
			var = temp_support_val
			value = SAP_a
		}
		multiply_temp_variable = {
			var = temp_support_val
			value = 0.7
		}
		round_variable = temp_support_val
		add_to_temp_variable = {
			var = support_for_reform_a
			value = temp_support_val
		}
	}
	else_if = {
		limit = {
			OR = {
				has_idea = SWE_socialist_radicalisation_average
				AND = {
					has_idea = SWE_socialist_radicalisation_low
					has_stability < 0.5
				}
			}
		}
		add_to_temp_variable = {
			var = temp_support_val
			value = SAP_f
		}
		multiply_temp_variable = {
			var = temp_support_val
			value = 0.4
		}
		round_variable = temp_support_val
		add_to_temp_variable = {
			var = support_for_reform_f
			value = temp_support_val
		}
		set_temp_variable = {
			var = temp_support_val
			value = SAP_a
		}
		multiply_temp_variable = {
			var = temp_support_val
			value = 0.4
		}
		round_variable = temp_support_val
		add_to_temp_variable = {
			var = support_for_reform_a
			value = temp_support_val
		}
	}
	else = {
		add_to_temp_variable = {
			var = temp_support_val
			value = SAP_f
		}
		multiply_temp_variable = {
			var = temp_support_val
			value = 0.2
		}
		round_variable = temp_support_val
		add_to_temp_variable = {
			var = support_for_reform_f
			value = temp_support_val
		}
		set_temp_variable = {
			var = temp_support_val
			value = SAP_a
		}
		multiply_temp_variable = {
			var = temp_support_val
			value = 0.2
		}
		round_variable = temp_support_val
		add_to_temp_variable = {
			var = support_for_reform_a
			value = temp_support_val
		}
	}
		
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}

SWE_has_majority_for_reform_war = {
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = NAP_f
	}
	if = {
		limit = {
			OR = {
				NOT = { has_government = communism }
				is_great_war_ongoing = yes
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = AV_f
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = H_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = conservative_a_riksdag
		}
	}
	
	if = {
		limit = {
			OR = {
				has_war = yes
				has_war_support > 0.5
				is_great_war_ongoing = yes
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = C_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = agrarian_a_riksdag
		}
	}
	if = {
		limit = {
			is_great_war_ongoing = yes
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = SAP_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = socialist_a_riksdag
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = liberal_f_riksdag
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = FRI_a
		}
	}
	else_if = {
		limit = {
			OR = {
				has_defensive_war = yes
				has_country_leader = {	# Maybe remove this
					character = SWE_karl_staaff
					ruling_only = yes
				}
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = liberal_f_riksdag
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = FRI_a
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}

SWE_has_majority_for_reform_war_light = {	# For some more agreeable war reforms
	set_temp_variable = {
		var = support_for_reform_f
		value = 0
	}
	set_temp_variable = {
		var = support_for_reform_a
		value = 0
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = NAP_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = AV_f
	}
	add_to_temp_variable = {
		var = support_for_reform_f
		value = liberal_f_riksdag
	}
	add_to_temp_variable = {
		var = support_for_reform_a
		value = FRI_a
	}
	
	if = {
		limit = {
			OR = {
				NOT = { has_government = communism }
				is_great_war_ongoing = yes
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = H_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = conservative_a_riksdag
		}
	}
	
	if = {
		limit = {
			OR = {
				has_war = yes
				has_war_support > 0.5
				is_great_war_ongoing = yes
			}
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = C_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = agrarian_a_riksdag
		}
	}
	
	if = {
		limit = {
			is_great_war_ongoing = yes
		}
		add_to_temp_variable = {
			var = support_for_reform_f
			value = SAP_f
		}
		add_to_temp_variable = {
			var = support_for_reform_a
			value = socialist_a_riksdag
		}
	}
	
	custom_trigger_tooltip = {
		tooltip = enough_riksdag_support_for_reform_tt
		AND = {
			check_variable = {
				var = support_for_reform_f
				value = sweden_f_mandate_requirement
			}
			check_variable = {
				var = support_for_reform_a
				value = sweden_a_mandate_requirement
			}
		}
	}
}